function mysplit(A,V)if V==nil then V="\037\115"end local J={}for A in string.gmatch(A,"\040\091\094"..(V.."\093\043\041"))do table.insert(J,A)end return J end local function A()return GetNumRaidMembers()>0 end function round(A)if(A-A%.1)-(A-A%1)<.5 then A=A-A%1 else A=(A-A%1)+1 end return A end function nsplit(A)lines={}for A in A:gmatch("\091\094\r\n\093\043")do table.insert(lines,A)end return lines end function all_trim(A)return A:match("\094\037\115\042\040\046-\041\037\115\042\036")end function kirTest(A,V)test1=A:sub(V,V)testN=A:byte(7)testN=tonumber(testN)if testN==208 then r=A:sub(V*2-1,V*2)else r=test1 end return r end function alfabet(A)shablon="\208\176\208\177\208\178\208\179\208\180\208\181\209\145\208\182\208\183\208\184\208\185\208\186\208\187\208\188\208\189\208\190\208\191\209\128\209\129\209\130\209\131\209\132\209\133\209\134\209\135\209\136\209\137\209\138\209\139\209\140\209\141\209\142\209\143\208\144\208\145\208\146\208\147\208\148\208\149\208\129\208\150\208\151\208\152\208\153\208\154\208\155\208\156\208\157\208\158\208\159\208\160\208\161\208\162\208\163\208\164\208\165\208\166\208\167\208\168\208\169\208\170\208\171\208\172\208\173\208\174\208\175\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"myB=string.find(shablon,A,1,true)return myB end function alfabetC(A,V)shablon="\208\176\208\177\208\178\208\179\208\180\208\181\209\145\208\182\208\183\208\184\208\185\208\186\208\187\208\188\208\189\208\190\208\191\209\128\209\129\209\130\209\131\209\132\209\133\209\134\209\135\209\136\209\137\209\138\209\139\209\140\209\141\209\142\209\143\208\144\208\145\208\146\208\147\208\148\208\149\208\129\208\150\208\151\208\152\208\153\208\154\208\155\208\156\208\157\208\158\208\159\208\160\208\161\208\162\208\163\208\164\208\165\208\166\208\167\208\168\208\169\208\170\208\171\208\172\208\173\208\174\208\175\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"local J if V==0 then J=string.find(shablon,A,1,true)end if V==1 then if A<133 then J=string.utf8sub(shablon,A/2+.5,A/2+.5)else J=string.sub(shablon,A,A)end end return J end function hashStr(A)local V=time()V=V%10000 V=tostring(V)V=string.utf8sub(V,2,3)V=string.format("\037\048\051\100",V)nomeLen=string.utf8len(A)nome1={}for V=1,nomeLen,1 do nome1[V]=string.utf8sub(A,V,V)tmNome=nome1[V]nome1[V]=alfabet(tmNome)end nome11=0 for A=1,nomeLen,1 do nome11=nome11+nome1[A]end nome11=nome11%1000 hNome=string.format("\037\048\051\100",nome11)iN=tostring(V)r1=string.utf8sub(iN,1,1)r2=string.utf8sub(hNome,1,1)r3=string.utf8sub(iN,2,2)r4=string.utf8sub(hNome,2,2)r5=string.utf8sub(iN,3,3)r6=string.utf8sub(hNome,3,3)r=r1 ..(r2 ..(r3 ..(r4 ..(r5 ..r6))))return r end function tablelength(A)local V=0 for A in pairs(A)do V=V+1 end return V end function getPOS(A,V)local J=(1-V)*668 local O=A*1002 return O,J end function hshStrNuovo(A,V)nomeLen=string.utf8len(V)nome1={}for A=1,nomeLen,1 do nome1[A]=string.utf8sub(V,A,A)tmNome=nome1[A]nome1[A]=alfabet(tmNome)end nome11=0 for A=1,nomeLen,1 do nome11=nome11+nome1[A]end nome11=nome11%1000 hNome=string.format("\037\048\051\100",nome11)local J=string.sub(A,2,2)local O=string.sub(A,4,4)local u=string.sub(A,6,6)local Z=math.random(0,9)local w=math.random(0,9)local H=math.random(0,9)local D=J..(O..u)local F=hashStr(V)local g=string.utf8sub(nome11,2,2)local I=string.utf8sub(nome11,4,4)local x=string.utf8sub(nome11,6,6)local c=g..(I..x)local h=Z..(I..(w..(g..(H..x))))return D,c,h end function hshStrNuovo(A,V)local J local O local u local Z local w local H local D local F local g local I local x local c local h J=string.utf8len(V)local E={}for A=1,J,1 do E[A]=string.utf8sub(V,A,A)O=E[A]E[A]=alfabet(O)end u=0 for A=1,J,1 do u=u+E[A]end u=u%1000 Z=string.format("\037\048\051\100",u)w=string.sub(Z,1,1)H=string.sub(Z,2,2)D=string.sub(Z,3,3)F=string.sub(A,2,2)F=tonumber(F)if F==0 then g=string.sub(A,3,3)I=string.sub(A,4,4)x=string.sub(A,6,6)elseif F==1 then g=string.sub(A,4,4)I=string.sub(A,3,3)x=string.sub(A,6,6)elseif F==2 then g=string.sub(A,4,4)I=string.sub(A,6,6)x=string.sub(A,3,3)elseif F==3 then g=string.sub(A,3,3)I=string.sub(A,6,6)x=string.sub(A,4,4)elseif F==4 then g=string.sub(A,1,1)I=string.sub(A,6,6)x=string.sub(A,4,4)elseif F==5 then g=string.sub(A,1,1)I=string.sub(A,6,6)x=string.sub(A,3,3)elseif F==6 then g=string.sub(A,6,6)I=string.sub(A,1,1)x=string.sub(A,3,3)elseif F==7 then g=string.sub(A,6,6)I=string.sub(A,3,3)x=string.sub(A,1,1)elseif F==8 then g=string.sub(A,4,4)I=string.sub(A,5,5)x=string.sub(A,6,6)elseif F==9 then g=string.sub(A,5,5)I=string.sub(A,1,1)x=string.sub(A,3,3)end c=g..(I..x)h=w..(H..D)return c,h end function hshSenderNomeC(A)local V local J local O local u local Z local w local H local D local F local g local I V=string.utf8len(A)J={}for V=1,V,1 do J[V]=string.utf8sub(A,V,V)tmNome=J[V]J[V]=alfabet(tmNome)end O=0 for A=1,V,1 do O=O+J[A]end O=O%1000 u=string.format("\037\048\051\100",O)Z=string.sub(u,1,1)w=string.sub(u,2,2)H=string.sub(u,3,3)D=math.random(0,9)F=math.random(0,9)g=math.random(0,9)if F==0 then I=D..(F..(Z..(w..(g..H))))elseif F==1 then I=D..(F..(w..(Z..(g..H))))elseif F==2 then I=D..(F..(H..(Z..(g..w))))elseif F==3 then I=D..(F..(Z..(H..(g..w))))elseif F==4 then I=Z..(F..(D..(H..(g..w))))elseif F==5 then I=Z..(F..(H..(D..(g..w))))elseif F==6 then I=w..(F..(H..(D..(g..Z))))elseif F==7 then I=H..(F..(w..(g..(D..Z))))elseif F==8 then I=D..(F..(g..(Z..(w..H))))elseif F==8 then I=Z..(F..(H..(D..(w..g))))elseif F==9 then I=w..(F..(H..(D..(Z..g))))end if testQ~=nil then if testQ[A]~=nil then if testQ[A].rarHSH1==nil then testQ[A].rarHSH1={}end if testQ[A].rarHSH==nil then testQ[A].rarHSH={}end testDate=date("\037\100")testDate=tonumber(testDate)if testDate%2==0 then tableHSH="\114\097\114\072\083\072"testQ[A].rarHSH1=nil else tableHSH="\114\097\114\072\083\072\049"testQ[A].rarHSH=nil end if I==testQ[A][tableHSH]then I=hshSenderNomeC(A)end table.insert(testQ[A][tableHSH],I)return I end end end function gmTest(A)local V for J=1,#gmList,1 do if A==gmList[J]then V="\208\179\208\188"break end J=J+1 end return V end function proverkaVypolneniyaKvestySachivkoj(A,V)local J=testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]if V=="\050"then V="\208\186\208\178\208\181\209\129\209\130\095\208\187\208\178\208\187\050"elseif V=="\051"then V="\208\186\208\178\208\181\209\129\209\130\095\208\187\208\178\208\187\051"end local O=testQ[A][V][J]O=tonumber(O)local u=GetAchievementNumCriteria(J)j=0 k=0 for A=1,u,1 do local V,O,u,Z,w,H,D,F,g,I=GetAchievementCriteriaInfo(J,A)prov=u if prov==true then j=j+1 else k=k+1 end A=A+1 end local Z=O-j if Z<0 then Z=0 end SendChatMessage("\208\158\209\129\209\130\208\176\208\187\208\190\209\129\209\140 \208\178\209\139\208\191\208\190\208\187\208\189\208\184\209\130\209\140 "..(Z..(" \208\191\209\131\208\189\208\186\209\130\208\190\208\178 \208\176\209\135\208\184\208\178\208\186\208\184 "..(J..(" "..(GetAchievementLink(J)..(" \208\184\208\183 "..O)))))),"\071\085\073\076\068",nil,1)end function npcXY(A,V,J,O,u)local Z=nil local w=A local H=V w=tostring(w)H=tostring(H)if npcScan[w]==nil then npcScan[w]={}end if npcScan[w][H]==nil then npcScan[w][H]={}end local D=u if D~=nil then local A=J local V=O A=tostring(A)V=tostring(V)if npcScan[w][H][D]==nil then npcCount=1 npcCount=tostring(npcCount)npcScan[w][H][D]={}npcScan[w][H][D][npcCount]={}npcScan[w][H][D][npcCount].x=A npcScan[w][H][D][npcCount].y=V else local J={}local O={}npcCount=tablelength(npcScan[w][H][D])+1 npcCount=tostring(npcCount)A=tostring(A)V=tostring(V)npcScan[w][H][D][npcCount]={}npcScan[w][H][D][npcCount].x=A npcScan[w][H][D][npcCount].y=V end else print("\208\146\209\139\208\177\208\181\209\128\208\184 \209\134\208\181\208\187\209\140")end end function testNpc(A)local V CreateFrame("\071\097\109\101\084\111\111\108\116\105\112","\077\121\083\099\097\110\110\105\110\103\084\111\111\108\116\105\112",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\109\112\108\097\116\101")MyScanningTooltip:SetOwner(WorldFrame,"\065\078\067\072\079\082\095\078\079\078\069")MyScanningTooltip:AddFontStrings(MyScanningTooltip:CreateFontString("\036\112\097\114\101\110\116\084\101\120\116\076\101\102\116\049",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116"),MyScanningTooltip:CreateFontString("\036\112\097\114\101\110\116\084\101\120\116\082\105\103\104\116\049",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116"))MyScanningTooltip:SetHyperlink("\117\110\105\116\058"..A)V=EnumerateTooltipLines(MyScanningTooltip)return V end local function V(...)local A for V=1,select("\035",...),1 do local J=select(V,...)if J and J:GetObjectType()=="\070\111\110\116\083\116\114\105\110\103"then local V=J:GetText()if V~=nil then print(V)if string.find(V,"\208\163\209\128\208\190\208\178\208\181\208\189\209\140")then testLvlNpc=mysplit(V)end if string.find(V,"\209\131\209\128\208\190\208\178\208\189\209\143")then testLvlNpc=mysplit(V)if string.find(testLvlNpc[3],"\037\063\037\063")then else A="\049"end if string.find(testLvlNpc[2],"\037\063\037\063")then SendAddonMessage("\078\083\071\097\100\100","\035\110\112\099\079\102\102","\103\117\105\108\100")end if string.find(testLvlNpc[1],"\208\162\209\128\209\131\208\191")then SendAddonMessage("\078\083\071\097\100\100","\035\110\112\099\068\105\101","\103\117\105\108\100")end end end end end return A end function EnumerateTooltipLines(A)local J J=V(A:GetRegions())return J end function pLid()if UnitIsPartyLeader("\112\097\114\116\121\049")then pL=1 elseif UnitIsPartyLeader("\112\097\114\116\121\050")then pL=2 elseif UnitIsPartyLeader("\112\097\114\116\121\051")then pL=3 elseif UnitIsPartyLeader("\112\097\114\116\121\052")then pL=4 else pL=0 end return pL end function pM(A)if A==UnitName("\112\097\114\116\121\049")then r=1 elseif A==UnitName("\112\097\114\116\121\050")then r=1 elseif A==UnitName("\112\097\114\116\121\051")then r=1 elseif A==UnitName("\112\097\114\116\121\052")then r=1 else r=0 end return r end function testN()testNpc(UnitGUID("\116\097\114\103\101\116"))end function tblAllFail(A,V)if mmList[A]~=nil then for J=1,mmList[A]["\208\186\208\190\208\187\208\184\209\135\208\181\209\129\209\130\208\178\208\190\095\208\177\208\190\209\129\209\129\208\190\208\178"],1 do if V==mmList[A][J]then r=J break else r=0 end end end return r end function testMarsh(A,V)trovMarsh(A,V)local J=0 for V,J in pairs(mapTables[A])do if type(V)=="\115\116\114\105\110\103"then tKont=V end for A,V in pairs(mapTables[A][V])do if type(A)=="\115\116\114\105\110\103"then tLok=A end end end if testQ.schet1~=nil then for V=testQ.schet1-10,testQ.schet1+10,1 do if testQ.schet[V]~=nil then marshrut(V,tablelength(mapTables[A][tKont][tLok]))J=J+testQ.schet[V]if J>0 then break end end end end return J end function trovMarsh(A,V)if testKontLok(A)~=nil then local J,O=GetPlayerMapPosition("\112\108\097\121\101\114")local u=GetCurrentMapContinent()u=tostring(u)local Z=GetCurrentMapZone()Z=tostring(Z)local w=GetMapInfo()if w=="\082\097\103\101\102\105\114\101"then u="\057\057"Z="\049"end local H=tablelength(mapTables[A][u][Z])testQ.schet={}testQ.numPunti={}if testQ.num==nil then if testKontLok(A)<V then testQ.num=1 testQ.schet1=1 end end for w=testQ.num-10,testQ.num+10,1 do testQ.schet1=w j=tostring(w)if testQ["\209\129\209\130\208\176\209\128\209\130"]~=nil then if mapTables[A][u][Z][j]~=nil then mioCel=sqrt((J-mapTables[A][u][Z][j].x)^2+(O-mapTables[A][u][Z][j].y)^2)if mioCel<V then testQ.schet[w]=1 j=testQ.num j=tostring(j)mioCel1=sqrt((J-mapTables[A][u][Z][j].x)^2+(O-mapTables[A][u][Z][j].y)^2)if mioCel1>mioCel then testQ.num=w testQ.marshF[w]=w if testQ.marshF[w]==math.modf(H/4)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \209\135\208\181\209\130\208\178\208\181\209\128\209\130\209\140 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if testQ.marshF[w]==math.modf(H/2)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \208\191\208\190\208\187\208\190\208\178\208\184\208\189\209\131 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if testQ.marshF[w]==math.modf((H/4)*3)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \209\130\209\128\208\184 \209\135\208\181\209\130\208\178\208\181\209\128\209\130\208\184 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if tonumber(H)==tonumber(w)then SendChatMessage("\208\156\208\176\209\128\209\136\209\128\209\131\209\130 \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")if marshruT~=nil then for A=1,9999,1 do if marshruT[A]~=nil then marshruT[A]:Hide()end end end marshruT=nil testQ["\209\129\209\130\208\176\209\128\209\130"]=nil testQ.num=nil testQ.marshF=nil if A=="\101\118\079\048\049\048\050"then testQ.evO0102=true testQ.startChern=nil end if A=="\101\118\079\048\050\048\051"then testQ.evO0203=true testQ.startChern=nil end if A=="\101\118\079\048\051\048\052"then testQ.evO0304=true testQ.startChern=nil end if A=="\101\118\079\048\052\048\053"then testQ.evO0405=true testQ.startChern=nil end if A=="\101\118\079\048\053\048\054"then testQ.evO0506=true testQ.startChern=nil end if A=="\101\118\079\048\054\048\055"then testQ.evO0607=true testQ.startChern=nil end if A=="\101\118\079\048\055\048\056"then testQ.evO0708=true testQ.startChern=nil end if A=="\101\118\079\048\056\048\057"then testQ.evO0809=true testQ.startChern=nil end if A=="\101\118\079\048\057\049\048"then testQ.evO0910=true testQ.startChern=nil end if A=="\101\118\079\049\048\049\049"then testQ.evO1011=true testQ.startChern=nil end if A=="\101\118\079\049\049"then testQ.evO11=true testQ.startChern=nil end if A=="\101\118\079\049\050"then testQ.evO12=true testQ.startChern=nil end if A=="\101\118\079\049\051"then testQ.evO13=true testQ.startChern=nil end if A=="\101\118\079\049\052"then testQ.evO14=true testQ.startChern=nil end testQ.start=nil end end else testQ.schet[w]=0 end end end end end end function testKontLok(A)local V=GetCurrentMapContinent()V=tostring(V)local J=GetCurrentMapZone()J=tostring(J)local O local u,Z=GetPlayerMapPosition("\112\108\097\121\101\114")local w,H local D=GetMapInfo()if D=="\082\097\103\101\102\105\114\101"then V="\057\057"J="\049"end if mapTables~=nil then if mapTables[A]~=nil then for V,J in pairs(mapTables[A])do if type(V)=="\115\116\114\105\110\103"then w=V end for A,V in pairs(mapTables[A][V])do if type(A)=="\115\116\114\105\110\103"then H=A end end end if tostring(J)==tostring(H)then if A~=nil then if mapTables[A]~=nil then if w==V then if mapTables[A][V][J]~=nil then if H==J then O=sqrt((u-mapTables[A][V][J]["\049"].x)^2+(Z-mapTables[A][V][J]["\049"].y)^2)return O end end end end end end end end end function startFchern(A,V,J)V=tostring(V)J=tostring(J)if krt[V]==true and krt[J]==true then testQ.start=A testQ["\209\129\209\130\208\176\209\128\209\130"]=0 testQ[A]="\209\129\209\130\208\176\209\128\209\130"marshruT={}end end function testFchern(A,V,J)V=tostring(V)J=tostring(J)local O,u if testQ[A]==nil then for V,J in pairs(mapTables[A])do if type(V)=="\115\116\114\105\110\103"then O=V end for A,V in pairs(mapTables[A][O])do if type(A)=="\115\116\114\105\110\103"then u=A end end end if mapTables.lokRasstoyanie[tostring(O)]~=nil then if mapTables.lokRasstoyanie[tostring(O)][tostring(u)]~=nil then if testKontLok(A)~=nil then if tonumber(testKontLok(A))<=tonumber(mapTables.lokRasstoyanie[tostring(O)][tostring(u)])*3 then startFchern(A,V,J)testQ.startChern=A end end end end end end function printPar(A)local V={}local J for A,J in pairs(A)do if A~=nil then table.insert(V,A)end end J=table.concat(V," ")return J end function otladka(A,V,J,O,u,Z,w)local H numF=tonumber(A)if numF==1 then if V=="\116\101\115\116\081"then H=testQ end end if numF==2 then if V=="\116\101\115\116\081"then H=testQ[J]end end if numF==3 then if V=="\116\101\115\116\081"then H=testQ[J][O]end end if numF==4 then if V=="\116\101\115\116\081"then H=testQ[J][O][u]end end if numF==5 then if V=="\116\101\115\116\081"then H=testQ[J][O][u][Z]end end if numF==6 then if V=="\116\101\115\116\081"then H=testQ[J][O][u][Z][w]end end H=type(H)y=H return H,y end function tabellaFind(A,V)local J=1 while A[J]do print(V)print(A[J])if V==A[J]then return 1 end J=J+1 end return nil end function krtChernGetXY(A)A=tostring(A)for A,V in pairs(krt.chernila[A])do kont=A end for A,V in pairs(krt.chernila[A][kont])do lok=A end for A,V in pairs(krt.chernila[A][kont][lok])do if A=="\120"then x=V end if A=="\121"then y=V end if A=="\109\115\103"then m=V end end return kont,lok,x,y,m end function mapQuest(A)A=tostring(A)for A,V in pairs(testQ.mapQuest[A])do kont=A end for A,V in pairs(testQ.mapQuest[A][kont])do lok=A end for A,V in pairs(testQ.mapQuest[A][kont][lok])do if A=="\120"then x=V end if A=="\121"then y=V end if A=="\109\115\103"then m=V end if A=="\099\101\108"then c=V end end return kont,lok,x,y,m,c end function mapQuestP(A)A=tostring(A)testQ.mapQuest.podskazkiRez={}for A,V in pairs(testQ.mapQuest[A])do kont=A end for A,V in pairs(testQ.mapQuest[A][kont])do lok=A end for V,J in pairs(testQ.mapQuest[A][kont][lok])do if V=="\112\111\100\115\107\097\122\107\105"then for A,V in pairs(testQ.mapQuest[A][kont][lok].podskazki)do testQ.mapQuest.podskazkiRez[A]=V end end end end function chern1P(A)A=tostring(A)krt.chernila.podskazkiRez={}for A,V in pairs(krt.chernila[A])do kont=A end for A,V in pairs(krt.chernila[A][kont])do lok=A end for V,J in pairs(krt.chernila[A][kont][lok])do if V=="\112\111\100\115\107\097\122\107\105"then for A,V in pairs(krt.chernila[A][kont][lok].podskazki)do krt.chernila.podskazkiRez[A]=V end end end end function tabellaEnStr(A,V)local J,O,u,Z,w,H A=tostring(A)V=tostring(V)if testQ.chD==nil then testQ.chD={}end if testQ.chD[tostring(A)]==nil then u="\048"for A,V in pairs(krt.chernila[A])do w=A end for A,V in pairs(krt.chernila[A][w])do H=A end J=tablelength(krt.chernila[A][w][H].podskazki)for J=1,J,1 do Z=tostring(J)if O==nil then O=Z..(" "..(txtXor(krt.chernila[A][w][H].podskazki[Z]).."\n"))else O=O..(Z..(" "..(txtXor(krt.chernila[A][w][H].podskazki[Z]).."\n")))end u=tonumber(u)u=u+1 u=tostring(u)if u==V then break end end else for A,V in pairs(krt.chernila[A])do w=A end for A,V in pairs(krt.chernila[A][w])do H=A end O=A.." \208\178\209\139\208\191\208\190\208\187\208\189\208\181\208\189\208\190\n"u=tablelength(krt.chernila[A][w][H].podskazki)end return O,u end function txtXor(A)local V=A:utf8sub(1,3)local J local O if V~="\035\035\035"then J=string.utf8len(A)O="\035\035\035"for V=1,J,1 do O=O..string.format("\037\048\051\100",alfabet(string.utf8sub(A,V,V)))end end if V=="\035\035\035"then O=alfabetC(tonumber(string.sub(A,4,6)),1)for V=7,#A,3 do O=O..alfabetC(tonumber(string.sub(A,V,V+2)),1)end end return O end bcsQuickFrame={}function createQuickHtmlFrame(A,V,J)local O=GetTime()bcsQuickFrame[J]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)bcsQuickFrame[J]:SetSize(222,222)bcsQuickFrame[J]:SetFrameStrata("\072\073\071\072")bcsQuickFrame[J]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",33,V)bcsQuickFrame[J]:SetBackdropColor(0,103,51,1)bcsQuickFrame[J]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",32)bcsQuickFrame[J]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\057\048\101\101\057\048"..(A.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))end dmG={}function dmgText(A,V,J,O,u)if dmG[J]==nil then dmG[J]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)else dmG[J]:Show()end dmG[J]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG[J]:ClearAllPoints()dmG[J]:SetBackdropColor(0,103,51,1)dmG[J]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")if A~=""then if tonumber(A)<=9999 then dmG[J]:SetSize(48,48)end if tonumber(A)>9999 then dmG[J]:SetSize(54,48)end if tonumber(A)<=9999 then dmG[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(A)>9999 then dmG[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end dmG[J]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(u..(A.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end dmG1={}function dmgText1(A,V,J,O,u)if dmG1[J]==nil then dmG1[J]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)dmG1[J]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG1[J]:ClearAllPoints()dmG1[J]:SetBackdropColor(0,103,51,1)dmG1[J]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end if A~=""then if tonumber(A)<=9999 then dmG1[J]:SetSize(48,48)end if tonumber(A)>9999 then dmG1[J]:SetSize(54,48)end if tonumber(A)<=9999 then dmG1[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(A)>9999 then dmG1[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end dmG1[J]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(u..(A.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end dmG2={}function dmgText2(A,V,J,O,u)if dmG2[J]==nil then dmG2[J]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)dmG2[J]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG2[J]:ClearAllPoints()dmG2[J]:SetBackdropColor(0,103,51,1)dmG2[J]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end if A~=nil and A~=""then if tonumber(A)<=9999 then dmG2[J]:SetSize(48,48)end if tonumber(A)>9999 then dmG2[J]:SetSize(54,48)end if tonumber(A)<=9999 then dmG2[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(A)>9999 then dmG2[J]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end if A~=nil then dmG2[J]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(u..(A.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end end rtnText={}function rtnTextF(A,V,J)if J=="\115\104\111\119"then if rtnText[V]==nil then rtnText[V]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)rtnText[V]:SetSize(415,396)rtnText[V]:SetFrameStrata("\084\079\079\076\084\073\080")rtnText[V]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",5,-55)rtnText[V]:SetBackdropColor(0,0,0,0)if tonumber(string.utf8len(A))<200 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",33)elseif tonumber(string.utf8len(A))>200 and tonumber(string.utf8len(A))<300 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",27)elseif tonumber(string.utf8len(A))>=400 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",16)end end rtnText[V]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\048\048\048\048\048\048"..(A.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))rtnText[V]:Show()else if rtnText[V]~=nil then rtnText[V]:Hide()end end end function versFail(A)if VerF==nil then VerF=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)end VerF:SetSize(1111,888)VerF:SetFrameStrata("\072\073\071\072")if testQ.VerF==nil then testQ.VerF=600 end VerF:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",testQ.VerF,-355)VerF:SetBackdropColor(0,103,51,1)VerF:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",A+10)VerF:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\102\102\048\048\048\048\208\158\208\145\208\157\208\158\208\146\208\152 \208\144\208\148\208\148\208\158\208\157\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")end function marshrut(A,V)local J=A-1 local O=A+1 local u=A+2 local Z=A-2 local w=A+3 local H=A-3 if testQ.start~="\101\118\079\051"then if marshruT~=nil then if marshruT[A]==nil then marshruT[A]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\109\097\114\115\104\114\117\116",UIParent)marshruT[A]:SetSize(222,222)marshruT[A]:SetFrameStrata("\072\073\071\072")marshruT[A]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",333,111)marshruT[A]:SetBackdropColor(0,103,51,1)marshruT[A]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",32)marshruT[A]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\057\048\101\101\057\048"..(A..(" \208\184\208\183 "..(tostring(V).."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))))end if marshruT[J]~=nil then marshruT[J]:Hide()marshruT[J]=nil end if marshruT[O]~=nil then marshruT[O]:Hide()marshruT[O]=nil end if marshruT[u]~=nil then marshruT[u]:Hide()marshruT[u]=nil end if marshruT[Z]~=nil then marshruT[Z]:Hide()marshruT[Z]=nil end if marshruT[w]~=nil then marshruT[w]:Hide()marshruT[w]=nil end if marshruT[H]~=nil then marshruT[H]:Hide()marshruT[H]=nil end end end end function showRB(A)if debuffChkB==nil then debuffChkB={}end if pokazat==1 and btn[1]~=nil then for A=1,15,1 do if btn[A]~=nil then btn[A]:Hide()end end btn[991]:Show()if tonumber(testQ.mioFldLvl)~=.5 and(tonumber(testQ.mioFldLvl)~=.9 and tonumber(testQ.mioFldLvl)~=nil)then btn[14]:Show()end myCheckButton1:Show()myCheckButton2:Show()myCheckButton3:Show()myCheckButton4:Show()myCheckButton5:Show()myCheckButton6:Show()myCheckButton7:Show()btn[998]:Show()btn[997]:Show()for V=1,20,1 do local J,O,u,Z,w,H,D,F=UnitDebuff("\112\108\097\121\101\114",V)if J~=nil then debuffChkB[J]=createCheckbutton(UIParent,150,-20*V+230,J)debuffChkB[J].tooltip="\208\161\208\186\209\128\209\139\208\178\208\176\209\130\209\140 \208\184\208\186\208\190\208\189\208\186\209\131 "..J debuffChkB[J]:SetScript("\079\110\067\108\105\099\107",function()if testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB==nil then testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB={}end if testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[J]=="\068\105\115\097\098\108\101"or testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[J]==nil then testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[J]="\069\110\097\098\108\101"debuffChkB[J]:SetChecked(true)elseif testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[J]=="\069\110\097\098\108\101"then testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[J]="\068\105\115\097\098\108\101"debuffChkB[J]:SetChecked(false)end end)end end pokazat=0 pokazatChk=1 elseif pokazat==0 then btn[991]:Hide()if tonumber(testQ.mioFldLvl)~=.5 and(tonumber(testQ.mioFldLvl)~=.9 and tonumber(testQ.mioFldLvl)~=nil)then for A=1,15,1 do if btn[A]~=nil then btn[A]:Show()end end if btn[ii]~=nil then if testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]=="\057\057\057\057"then btn[1]:Show()btn[2]:Hide()end if testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]~="\057\057\057\057"then btn[1]:Hide()btn[2]:Show()end end end testQ.lvlProv=nil myCheckButton1:Hide()myCheckButton2:Hide()myCheckButton3:Hide()myCheckButton4:Hide()myCheckButton5:Hide()myCheckButton6:Hide()myCheckButton7:Show()for A,V in pairs(debuffChkB)do if debuffChkB[A]~=nil then debuffChkB[A]:Hide()end end btn[998]:Hide()btn[997]:Hide()pokazat=1 pokazatChk=0 end end function marSh()local A=GetCurrentMapContinent()local V=GetCurrentMapZone()local J,O=GetPlayerMapPosition("\112\108\097\121\101\114")local u A=tostring(A)V=tostring(V)local Z=GetMapInfo()if Z=="\082\097\103\101\102\105\114\101"then A="\057\057"V="\049"end if marsh==nil then marsh={}end if marsh[A]==nil then marsh[A]={}end if marsh[A][V]==nil then marsh[A][V]={}end local w=tablelength(marsh[A][V])w=tostring(w+1)marsh[A][V][w]={}testQ.marshK=A testQ.marshL=V testQ.marshN=w marsh[A][V][w].x=string.format("\037\046\051\102",J)marsh[A][V][w].y=string.format("\037\046\051\102",O)print(w)end function resObj1(A,V,J)if krt==nil then krt={}end if krt.podskazki==nil then krt.podskazki=1 end if testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]==nil then testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]={}testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=0 end if V==J then if mioFld~=nil then if mioFld[V]~=nil then if mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"]~=nil then if tonumber(testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"])<=tonumber(krt.podskazki)then if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\104\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\115\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\097\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\112"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\122"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\118"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\102"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\048"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\108\120"and mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\108\112")))))))))))))))then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\102"then SendAddonMessage("\116\114\101\101 "..tostring(A),V,"\103\117\105\108\100")end mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\109\048"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\104\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\122"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\108\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\097\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\099"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<14999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=14999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<4999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=4999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\115\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\104\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\115\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\097\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\112"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\122"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\118"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\102"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\048"and mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\108\120"))))))))))))))then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\102"then SendAddonMessage("\116\114\101\101 "..tostring(A),V,"\103\117\105\108\100")end mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\104\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\108\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\122"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\109\048"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\097\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\099"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<14999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=14999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<4999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=4999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\115\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end end SendAddonMessage("\114\101\115\079\098\106 "..(A..(" "..mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])),J,"\103\117\105\108\100")end end end else if mioFld~=nil then if mioFld[J]~=nil then if mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"]~=nil then if tonumber(testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"])<=tonumber(krt.podskazki)then if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\104\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\115\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\097\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\112"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\122"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\118"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\048"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\102"and mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\108\120"))))))))))))))then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\104\115"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\108\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\122"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\109\048"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\099"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\097\115"or mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\099"or mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\115"or mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\098\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<14999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=14999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\115"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\099"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<4999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=4999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\115\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end else if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\104\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\115\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\097\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\115"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\098\120"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\099"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\122\112"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\122"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\116\118"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\048"and(mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\109\102"and mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]~="\108\120"))))))))))))))then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\104\115"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<9999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=9999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\108\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\122"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\109\048"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\116\099"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<4999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=4999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\097\115"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<14999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=14999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\115"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\122\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=19999 end end if mioFld[J]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(A)]=="\115\120"then if tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=tonumber(mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)]=29999 end end end SendAddonMessage("\114\101\115\079\098\106 "..(A..(" "..mioFld[J]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(A)])),J,"\103\117\105\108\100")end end end end end function gKam(A,V)local J=nil if tonumber(V)==500 then for V=1,100,1 do if mioFld1[A]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(V)]=="\115\107"then if J==nil then J=1 else J=J+1 end end end if J==nil then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\048","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif J==1 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\049","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif J==2 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\050","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif J==3 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\051","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif J==4 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\052","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif J==5 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\053","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")end end end function bdf(A)if testQ==nil then testQ={}end if testQ.myNome==nil then testQ.myNome={}end if testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"]==nil then testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"]={}end if testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB==nil then testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB={}end if DebuffButton1~=nil then if tonumber(testQ.buffX)~=nil and tonumber(testQ.buffX)~=0 then local V,J,O,u=DebuffButton1:GetPoint()local Z,w,H,D=btn[991]:GetPoint()if u~=D then local V,J=DebuffButton1:GetSize()local O=UIParent:GetSize()/2 j=1 for J=1,DEBUFF_MAX_DISPLAY,1 do if AuraButton_Update("\068\101\098\117\102\102\066\117\116\116\111\110",J,"\072\065\082\077\070\085\076")then local u,Z,w,H,D,F,g,I=UnitDebuff("\112\108\097\121\101\114",J)local x=_G["\068\101\098\117\102\102\066\117\116\116\111\110"..J]if x~=nil and(testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[u]==nil or testQ[A]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[u]=="\068\105\115\097\098\108\101")then x:ClearAllPoints()if tonumber(testQ.buffX)<O then x:SetPoint("\066\079\084\084\079\077\076\069\070\084",UIParent,"\066\079\084\084\079\077\076\069\070\084",tonumber(testQ.buffX)+V*j,testQ.buffY)j=j+1 else x:SetPoint("\066\079\084\084\079\077\076\069\070\084",UIParent,"\066\079\084\084\079\077\076\069\070\084",tonumber(testQ.buffX)-V*j,testQ.buffY)j=j+1 end else if x~=nil and x:IsVisible()then x:Hide()end end end end end if testQ.buffX==0 then testQ.buffX=nil end end end end function gtest()gTest=nil gTest={}for A=1,50,1 do local V,J,O,u,Z,w,H=GetWhoInfo(A)if J==""then if u~="\208\148\209\128\208\181\208\189\208\181\208\185"and(u~="\208\157\208\190\209\135\208\189\208\176\209\143 \209\141\208\187\209\140\209\132\208\184\208\185\208\186\208\176"and(u~="\208\167\208\181\208\187\208\190\208\178\208\181\208\186"and(u~="\208\157\208\190\209\135\208\189\208\190\208\185 \209\141\208\187\209\140\209\132"and(u~="\208\147\208\189\208\190\208\188"and u~="\208\148\208\178\208\190\209\128\209\132"))))then table.insert(gTest,V)end end end end function ns_q5()ns_q5Test=nil ns_q5Test={}for A=1,50,1 do local V,J,O,u,Z,w,H=GetWhoInfo(A)if J==""then table.insert(ns_q5Test,V)end end end function closeFld()for A=1,100,1 do fBtn[A]:Hide()end for A=1,100,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[A]~=nil then if A==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[A]:Hide()end end end end btn[989]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end function hX()quesT("\104\105\100\101")okNo:configure(1,"\104\105\100\101")rtnTextF("\102\100\115\097",1,"\104\105\100\101")for A=1,100,1 do fBtn[A]:Hide()end if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end if okNo~=nil then okNo[1]:Hide()okNo[2]:Hide()end btn[989]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end function showFld(A,V)local J local O local u local Z if mBtn[1]~=nil then if mBtn[1]:IsVisible()then Z=1 end end if dBtn[1]~=nil then if dBtn[1]:IsVisible()then Z=1 end end if not fBtn[1]:IsVisible()and Z~=1 then if not GuildFrameLFGButton:GetChecked()or A=="\049"then if A=="\048"then J=GuildFrame.selectedName else J=V end btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",fBtn[10],"\084\079\080\082\073\071\072\084",1,1)for A=1,GetNumGuildMembers(true),1 do local Z,w,H,D,F,g,I,x,c,h,E,a,Q,y,e,B,G=GetGuildRosterInfo(A)if J~=V then if Z==J then O=string.sub(x,1,1)u=string.sub(x,2,2)if x~=""and(O~="\049"and O~="\048")then testQ.fldLvl=tonumber(O)testQ.qNum=string.sub(x,8,8)testQ.qDay=string.sub(x,6,7)elseif O=="\049"then testQ.fldLvl=.9 testQ.qNum=string.sub(x,8,8)testQ.qDay=string.sub(x,6,7)elseif O=="\048"then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 elseif O==""then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 end if u==nil then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 end end if Z==V then O=string.sub(x,1,1)if x~=""and(O~="\049"and O~="\048")then testQ.mioFldLvl=string.sub(x,1,1)elseif O=="\049"then testQ.mioFldLvl=.9 elseif O=="\048"then testQ.mioFldLvl=.5 elseif O==""then testQ.mioFldLvl=.5 end end else if Z==V then O=string.sub(x,1,1)u=string.sub(x,2,2)if x~=""and(O~="\049"and O~="\048")then testQ.mioFldLvl=string.sub(x,1,1)testQ.fldLvl=testQ.mioFldLvl testQ.qNum=string.sub(x,8,8)testQ.qDay=string.sub(x,6,7)elseif O=="\049"then testQ.mioFldLvl=.9 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=string.sub(x,8,8)testQ.qDay=string.sub(x,6,7)elseif O=="\048"then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 elseif O==""then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 end if u==nil then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 end end end if tonumber(testQ.mioFldLvl)==0 then testQ.mioFldLvl=.5 end if tonumber(testQ.fldLvl)==0 then testQ.fldLvl=.5 end end testQ.fRand1=math.random(1,1000000)testQ.sign=A SendAddonMessage("\115\104\077\070\108\100 "..testQ.fRand1,J..(" "..V),"\103\117\105\108\100")FriendsFrame:Hide()else local A=tablelength(risPet)for A=1,100,1 do if risPet[A]~=nil then risPetShow(A,"\104\105\100\101","")end end for A=1,100,1 do fBtn[A]:Hide()end btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end for A=1,100,1 do if dmG[A]~=nil and dmG[A]:IsVisible()then dmG[A]:Hide()end end for A=1,3,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[A]~=nil then if A==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[A]:Hide()end end end end for A=101,103,1 do if dmG[A]~=nil then dmG[A]:Hide()end end if tonumber(testQ.sign)==0 then FriendsFrame:Show()end testQ.sign=nil testQ.fRandD1nome=nil end else local A=tablelength(risPet)for A=1,100,1 do if risPet[A]~=nil then risPetShow(A,"\104\105\100\101","")end end for A=1,100,1 do fBtn[A]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end for A=1,100,1 do if dmG[A]~=nil and dmG[A]:IsVisible()then dmG[A]:Hide()end end for A=1,100,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[A]~=nil then if A==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[A]:Hide()end end end end for A=101,103,1 do if dmG[A]~=nil then dmG[A]:Hide()end end if tonumber(testQ.sign)==0 then FriendsFrame:Show()end if tostring(testQ.sign)=="\049"then btn[989]:Hide()end testQ.sign=nil end end function qLvl33c1()local A local V local J local O local u local Z local w u=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(u)Z=eMotC[u]["\208\191\208\190\208\184\209\129\208\186"]w=eMotC[u]["\208\190\209\130\208\178\208\181\209\130"]A=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]V=npcListC1[A]["\208\184\208\188\209\143"]A=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]J=npcListC1[A]["\208\184\208\188\209\143"]while true do if V==J then A=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]J=npcListC1[A]["\208\184\208\188\209\143"]else break end end A=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]O=npcListC1[A]["\208\184\208\188\209\143"]while true do if O==J or O==V then A=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]O=npcListC1[A]["\208\184\208\188\209\143"]else break end end return u,V,J,O,Z,w end function qLvl33c2()local A local V local J local O local u local Z local w u=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(u)Z=eMotC[u]["\208\191\208\190\208\184\209\129\208\186"]w=eMotC[u]["\208\190\209\130\208\178\208\181\209\130"]A=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]V=npcListC2[A]["\208\184\208\188\209\143"]A=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]J=npcListC2[A]["\208\184\208\188\209\143"]while true do if V==J then A=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]J=npcListC2[A]["\208\184\208\188\209\143"]else break end end A=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]O=npcListC2[A]["\208\184\208\188\209\143"]while true do if O==J or O==V then A=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]O=npcListC2[A]["\208\184\208\188\209\143"]else break end end return u,V,J,O,Z,w end function qLvl33c3()local A local V local J local O local u local Z local w u=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(u)Z=eMotC[u]["\208\191\208\190\208\184\209\129\208\186"]w=eMotC[u]["\208\190\209\130\208\178\208\181\209\130"]A=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]V=npcListC3[A]["\208\184\208\188\209\143"]A=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]J=npcListC3[A]["\208\184\208\188\209\143"]while true do if V==J then A=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]J=npcListC3[A]["\208\184\208\188\209\143"]else break end end A=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]O=npcListC3[A]["\208\184\208\188\209\143"]while true do if O==J or O==V then A=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]O=npcListC3[A]["\208\184\208\188\209\143"]else break end end return u,V,J,O,Z,w end function rndTblc(A)local V={}for A in pairs(A)do table.insert(V,A)end return A[V[math.random(#V)]]end function htimer(A)local V=0 for J=1,100,1 do if mioFld1[A]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(J)]=="\116\111"then V="\116\111"end end if testQ[A].dTimer[30]==nil then testQ[A].dTimer[30]=26000 end if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil then testQ[A].dTimer[tonumber(date("\037\100"))-1]=26000 end if tonumber(testQ.mioFldLvl)==.5 or tonumber(testQ.mioFldLvl)==.9 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=50400 else testQ[A].hTimer=26000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=testQ[A].dTimer[tonumber(date("\037\100"))-1]else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(testQ[A].dTimer[tonumber(date("\037\100"))-1])/1.5))end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=testQ[A].dTimer[30]else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(testQ[A].dTimer[30])/1.5))end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==2 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=25200 else testQ[A].hTimer=16000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/2))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/2))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/2))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/2))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==3 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=14500 else testQ[A].hTimer=10000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/3))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/3))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/3))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/3))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==4 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=11000 else testQ[A].hTimer=8000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/4))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/4))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/4))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/4))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==5 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=10500 else testQ[A].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/5))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/5))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/5))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/5))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==6 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/6))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/6))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/6))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/6))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==7 then if testQ[A].hTimer==nil then if testQ[A].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[A].dTimer[30]==nil then if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[A].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/7))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/7))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end else if testQ[A].dTimer[30]~=nil and testQ[A].dTimer[30]>10800 then if V~="\116\111"then testQ[A].hTimer=tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/7))if testQ[A].hTimer<10800 then testQ[A].hTimer=10800 end else testQ[A].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[A].dTimer[tonumber(date("\037\100"))-1]/7))/1.5))if testQ[A].hTimer<7000 then testQ[A].hTimer=7000 end end else if V~="\116\111"then testQ[A].hTimer=10800 else testQ[A].hTimer=7000 end end end end end end SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..A,testQ[A].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..A,testQ[A].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..A,testQ[A].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")end function ml()if BrowseBuyoutButton~=nil then if aucBtn==nil then aucBtn=CreateFrame("\066\117\116\116\111\110",nil,UIParent,"")aucBtn:SetFrameStrata("\084\079\079\076\084\073\080")aucBtn:SetSize(222,32)aucBtn:SetPoint("\067\069\078\084\069\082",BrowseBidButton,"\067\069\078\084\069\082",22,0)aucBtn:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\097\117\107\046\116\103\097")aucBtn:Hide()end name,texture,count,quality,canUse,level,levelColHeader,minBid,minIncrement,buyoutPrice,bidAmount,highBidder,owner,saleStatus,itemId,hasAllInfo=GetAuctionItemInfo("\108\105\115\116",tonumber(GetSelectedAuctionItem("\108\105\115\116")))if name=="\208\158\208\177\209\139\209\135\208\189\208\190\208\181 \208\191\208\184\209\129\209\140\208\188\208\190"then aucBtn:Show()if highBidder=="\208\165\208\181\209\132\208\181"then aucBtn:Hide()end else if aucBtn~=nil then aucBtn:Hide()end end end if Atr_Buy1_Button~=nil and Atr_Buy1_Button:IsVisible()then if aucBtn==nil then aucBtn=CreateFrame("\066\117\116\116\111\110",nil,UIParent,"")aucBtn:SetFrameStrata("\084\079\079\076\084\073\080")aucBtn:SetSize(222,32)aucBtn:SetPoint("\067\069\078\084\069\082",BrowseBidButton,"\067\069\078\084\069\082",22,0)aucBtn:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\097\117\107\046\116\103\097")aucBtn:Hide()end if Atr_Search_Box:IsVisible()and Atr_Search_Box:GetText()=="\208\158\208\177\209\139\209\135\208\189\208\190\208\181 \208\191\208\184\209\129\209\140\208\188\208\190"then aucBtn:Show()aucBtn:SetSize(422,32)else if aucBtn~=nil then aucBtn:Hide()end end end end function diffT(A,V)for J=1,100,1 do if A[J]~=V[J]then return false end end return true end function antc(A)shablon="\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"myB=string.find(shablon,(tostring(A)):sub(1,1),1,true)if tonumber(#tostring(A))>=2 then for V=2,#tostring(A),1 do myB=myB..string.find(shablon,(tostring(A)):sub(V,V),1,true)end end return myB end function ochered(A,V,J,O,u,Z,w,H,D,F)if A~="\208\156\208\190\209\128"then local g=UnitClass("\112\108\097\121\101\114")local I=0 local x,c,h,E for V=1,24,1 do if J==1 then x,__,__,__,__,c,h,E=UnitDebuff("\116\097\114\103\101\116",V)if E=="\112\108\097\121\101\114"then if x=="\208\158\208\183\208\189\208\190\208\177"then if h~=nil and tonumber(h)-tonumber(GetTime())<=5 then testQ.o=1 else testQ.o=nil end end if x=="\208\154\209\128\208\190\208\178\208\176\208\178\208\176\209\143 \209\135\209\131\208\188\208\176"then if h~=nil and tonumber(h)-tonumber(GetTime())<=5 then testQ.c=1 else testQ.c=nil end end end end if O==1 then x=UnitBuff("\112\108\097\121\101\114",V)end if x~=nil then if x==A then I=1 end end end local a=UnitClass("\112\108\097\121\101\114")if a=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then if testQ.o==1 and testQ.c==1 then local A for V,J in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]=="\208\156\208\190\209\128"then A=1 end end end if A~=1 then table.insert(testQ.skills,V,"\208\156\208\190\209\128")end end end for V,J in pairs(testQ.skills)do if testQ.skills[V]==A then I=1 end end local Q=0 if H~=nil then Q=Q+1 end if D~=nil then Q=Q+1 end if F~=nil then Q=Q+1 end local y,e,B,G=GetSpellInfo(A)if G==nil then G=0 end if a=="\208\148\209\128\209\131\208\184\208\180"then G=30 end if Z=="\109"then if UnitPower("\112\108\097\121\101\114")<G and(IsUsableSpell(A)and GetSpellCooldown(A)==0)then if I~=1 then if V==0 then table.insert(testQ.skills,V,A)end if V==1 then table.insert(testQ.skills,A)end end else for V,J in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==A then testQ.skills[V]=nil end end end end end local X,k,o,N=GetSpellInfo(A)if N==nil then N=0 end if Z=="\098"then if UnitPower("\112\108\097\121\101\114")>=N and(IsUsableSpell(A)and GetSpellCooldown(A)==0)then if I~=1 then if V==0 then table.insert(testQ.skills,1,A)end if V==1 then table.insert(testQ.skills,A)end else end else for V,J in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==A then testQ.skills[V]=nil end end end end end if u~=nil and(IsUsableSpell(A)and(GetSpellCooldown(A)==0 and w==nil))then if a=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then if A=="\208\159\209\128\208\176\208\178\208\181\208\180\208\189\208\190\208\181 \208\189\208\181\208\184\209\129\209\130\208\190\208\178\209\129\209\130\208\178\208\190"then if I~=1 then PlaySoundFile(u)end end else if A~="\208\146\208\187\208\176\209\129\209\130\209\140 \208\187\209\140\208\180\208\176"then PlaySoundFile(u)end end if a=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then if A=="\208\146\208\187\208\176\209\129\209\130\209\140 \208\187\209\140\208\180\208\176"then if I~=1 then end end else if A~="\208\159\209\128\208\176\208\178\208\181\208\180\208\189\208\190\208\181 \208\189\208\181\208\184\209\129\209\130\208\190\208\178\209\129\209\130\208\178\208\190"then PlaySoundFile(u)end end end if A=="\208\156\209\143\209\129\208\190\209\128\209\131\208\177\208\186\208\176"then if tonumber(GetComboPoints("\112\108\097\121\101\114",target))==1 and I~=1 then end end if w==1 then if UnitHealth("\112\108\097\121\101\114")<=tonumber(UnitHealthMax("\112\108\097\121\101\114"))/2 and GetSpellCooldown(A)==0 then table.insert(testQ.skills,V,A)if u~=nil then end else for V,J in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==A then testQ.skills[V]=nil end end end end end end end function partyFrameHide()for A=1,25,1 do local V=_G["\080\097\114\116\121\077\101\109\098\101\114\070\114\097\109\101"..A]if V~=nil and V:IsVisible()then V:Hide()end end end function bs(A)local V local J=UnitClass("\112\108\097\121\101\114")local O=UnitStat("\112\108\097\121\101\114",1)local u=UnitStat("\112\108\097\121\101\114",2)local Z=UnitStat("\112\108\097\121\101\114",3)local w=UnitStat("\112\108\097\121\101\114",4)local H=UnitStat("\112\108\097\121\101\114",5)local D=GetSpellBonusHealing()local F=GetCombatRating(6)local g=GetCombatRating(9)local I=GetCombatRating(24)local x=GetCombatRating(2)local c=GetCombatRating(3)local h=GetCombatRating(4)local E=GetCombatRating(5)local a=GetManaRegen()local Q=GetCombatRating(25)local y,e=UnitAttackPower("\112\108\097\121\101\114")local B=GetCombatRating(18)local G=y+e local X local k=0 if J=="\208\150\209\128\208\181\209\134"or J=="\208\150\209\128\208\184\209\134\208\176"then local A,J,O,u,Z=GetTalentInfo(3,27)if Z>=1 then V=(((((w+H*.5)+D*2)+F)+g*2)+a*.5)+B k=F.."\047\050\056\057\047\052\052\054"else V=((((w+H*1.5)+D*2)+g)+a*1.5)+B k=F.."\047\048"end end if J=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then local A,J,Q,y,e=GetTalentInfo(1,26)local X,o,N,f,q=GetTalentInfo(2,26)local z,d,p,b,t=GetTalentInfo(3,26)if e>=1 then V=((((w*2+H)+D*1.5)+g)+a)+B*1.5 k=F.."\047\048"end if q>=1 then V=(((((((O+u)+Z*2)+F)+I)+x*1.5)+c*1.5)+h*1.5)+E*1.5 k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I.."\047\049\056\053"))))end if t>=1 then V=(((((O*2+u)+F)+g)+G)+B)+I k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I.."\047\049\052\056"))))end end if J=="\208\146\208\190\208\184\208\189"then local A,J,w,H,D=GetTalentInfo(3,7)if D>=1 then V=(((((((O+u)+Z*2)+F)+I)+x*1.5)+c*1.5)+h*1.5)+E*1.5 k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I.."\047\049\054\052"))))else V=((((((O*2+u)+F)+g*1.5)+I)+Q*2)+G)+B k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I..("\047\050\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\049\052\048\048")))))))end end if J=="\208\148\209\128\209\131\208\184\208\180"then local J,h,E,y,e=GetTalentInfo(3,27)local X,o,N,f,q=GetTalentInfo(2,5)local z,d,p,b,t=GetTalentInfo(1,13)local v,R,P,n,l=GetTalentInfo(2,9)if e>=1 or A=="\209\133\208\184\208\187"then V=((((w+H*1.5)+D*2)+B*1.5)+g)+a*1.5 k=F.."\047\048"end if q>=1 or A=="\208\188\208\181\208\180\208\178\208\181\208\180\209\140"then V=((((((((O+u*2)+Z*2)+F)+g)+B*1.5)+I)+x*1.5)+c*2)+Q k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I..("\047\049\051\050\047\050\056\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\063\063")))))))end if t>=1 or A=="\209\129\208\190\208\178\208\176"then V=(((((w+H*.5)+D*2)+F)+g*2)+a*.5)+B k=F.."\047\050\054\051"end if l>=1 or A=="\208\186\208\190\209\130"then V=((((((O+u*2)+F)+g*1.5)+I)+Q*2)+G)+B k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I..("\047\049\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\049\052\048\048")))))))end end if J=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"or J=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"then V=((((((O+u*2)+F)+g)+Q*2)+I)+G)+B k=F..("\047"..("\050\054\051"..("\047"..("\055\050\050"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I..("\047\049\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\049\052\048\048")))))))))end if J=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\208\186"or J=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\209\134\208\176"then V=(((((w+H*1.5)+D*2)+F)+g*1.5)+a*.5)+B*1.5 k=F..("\047"..("\050\056\057\047\052\052\054 "..("\208\165\208\176\209\129\209\130\058 "..(B.." \049\049\048\048\047\049\052\048\048"))))end if J=="\208\168\208\176\208\188\208\176\208\189"or J=="\208\168\208\176\208\188\208\176\208\189\208\186\208\176"then local A,J,Z,x,c=GetTalentInfo(1,3)local h,E,y,e,X=GetTalentInfo(2,9)local o,N,f,q,z=GetTalentInfo(3,1)if c>=3 and X>=1 then q,q,q,q,c=GetTalentInfo(1,7)q,q,q,q,X=GetTalentInfo(2,11)end if c>=1 then V=(((w+D*2)+g)+F)+B*1.5 k=F.."\047\051\054\056"end if X>=1 then V=(((((((O+u*2)+F)+g*1.5)+Q)+G)+B*1.5)+I)+D*.5 k=F..("\047"..("\050\051\050"..("\047"..("\051\054\056"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I.."\047\049\052\048"))))))end if z>=1 then V=((((w+H)+D*2)+g)+a*2)+B*2 k=F..("\047"..("\048"..(" \099\046\047\208\186\208\176\208\191\058 "..(B.."\047\049\050\054\057\047\050\049\048\048"))))end end if J=="\208\158\209\133\208\190\209\130\208\189\208\184\208\186"or J=="\208\158\209\133\208\190\209\130\208\189\208\184\209\134\208\176"then V=((((u*2+F)+g)+Q*2)+G)+B k=F..("\047"..("\050\054\051"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\049\052\048\048"))))end if J=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then local A,J,w,H,D=GetTalentInfo(1,7)local h,E,a,y,e=GetTalentInfo(2,3)local B,X,o,N,f=GetTalentInfo(3,3)if D>=1 or e>=1 or f>=1 then V=(((((O+u)+Z*2)+F)+I)+x*1.5)+c*1.5 k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I.."\047\049\055\048\047\052\048\057"))))else V=(((((O*2+u)+F)+g)+I)+Q)+G k=F..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(I..("\047\049\055\048"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(Q.."\047\049\052\048\048")))))))end end if J=="\208\156\208\176\208\179"then V=((((w+H)+D*2)+F)+g*1.5)+B*1.5 k=F..("\047"..("\051\055\054 \209\133\208\176\209\129\209\130\047\208\186\208\176\208\191\058 "..(B..("\047\049\049\051\048 \208\154\209\128\208\184\209\130\047\208\186\208\176\208\191\058 "..(g.."\047\049\049\053\048\063\040\052\053\037\041")))))end if V~=nil then return string.format("\037\100",V)..(" \209\133\208\184\209\130\047\208\186\208\176\208\191\058 "..k)else SendChatMessage("\208\159\208\190\209\135\208\181\208\188\209\131 \209\130\208\190 \208\191\209\131\209\129\209\130\208\190\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\046 \208\175\058 "..J,"\079\070\070\073\067\069\082",nil,1)end end GameTooltip:HookScript("\079\110\083\104\111\119",function(A)local V=UnitClass("\112\108\097\121\101\114")local J=0 local O local u=0 local Z=0 local w=0 local H=0 local D=0 local F=0 local g=0 local I=0 local x=0 local c=0 local h=0 local E=0 local a=0 local Q=0 local y=0 local e=0 local B=0 local G=0 local X=0 local k=0 local o=0 local N=0 local f=0 local q=0 local z=0 local d=0 local p=0 local b=0 local t=0 local v local R=GetUnitName("\112\108\097\121\101\114")if testQ then if testQ[R]then if testQ[R].edaQuest~=nil then if testQ[R].edaQuest~=2 then if testQ.edaNum==nil then testQ.edaNome=_G.GameTooltipTextLeft1:GetText()testQ.edaNum=proverkaNaKolvoPredmetov(_G.GameTooltipTextLeft1:GetText())if testQ.edaNomeRez==nil then testQ.edaNomeRez={}end else if testQ.edaNome~=_G.GameTooltipTextLeft1:GetText()then testQ.edaNome=nil testQ.edaNum=nil else if testQ.edaNomeRez~=nil then if testQ.edaNum>proverkaNaKolvoPredmetov(_G.GameTooltipTextLeft1:GetText())then if testQ.edaNomeRez[_G.GameTooltipTextLeft1:GetText()]==nil then local A=math.random(1,10)if A~=1 then print("\208\164\209\131\044 \208\189\208\181\208\178\208\186\209\131\209\129\208\189\208\190\033")testQ.edaNomeRez[_G.GameTooltipTextLeft1:GetText()]=_G.GameTooltipTextLeft1:GetText()else local A=math.random(1,20)if A==100 then testQ[R].edaQuest=2 SendChatMessage("\208\157\208\176\208\185\208\180\208\181\208\189 \208\184\208\180\208\181\208\176\208\187\209\140\208\189\209\139\208\185 \208\186\208\190\209\128\208\188 \208\180\208\187\209\143 \208\191\208\181\209\130\208\176","\079\070\070\073\067\069\082",nil,1)else print("\208\146\209\128\208\190\208\180\208\181 \208\178\208\186\209\131\209\129\208\189\208\190\044 \208\189\208\190 \209\141\209\130\208\190 \208\189\208\181 \209\130\208\190\209\135\208\189\208\190\046\046")testQ.edaNomeRez={}end end end end end end end end end end end for A=1,A:NumLines(),1 do if _G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText()~=nil then if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,1)=="\043"or string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,1)=="\124"then O=mysplit(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText())if O[3]~=nil and string.utf8sub(O[3],1,3)=="\208\178\209\139\208\189"then if w==0 then w=tonumber(string.utf8sub(O[1],2))end if w==nil then w=tonumber(string.utf8sub(O[1],11))v=A end if w~=0 and v~=A then if tonumber(O[1]:sub(2))~=nil then else w=w+tonumber(O[1]:sub(11))end end end if O[3]~=nil and string.utf8sub(O[3],1,3)=="\208\187\208\190\208\178"then if Z==0 then Z=tonumber(string.utf8sub(O[1],2))end if Z==nil then Z=tonumber(string.utf8sub(O[1],11))v=A end if Z~=0 and v~=A then if tonumber(O[1]:sub(2))~=nil then else Z=Z+tonumber(O[1]:sub(11))end end end if O[3]~=nil and string.utf8sub(O[3],1,3)=="\209\129\208\184\208\187"then if O[4]==nil then if u==0 then u=tonumber(string.utf8sub(O[1],2))end if u==nil then u=tonumber(string.utf8sub(O[1],11))v=A end if u~=0 and v~=A then if tonumber(O[1]:sub(2))~=nil then else u=u+tonumber(O[1]:sub(11))end end end end if O[3]~=nil and string.utf8sub(O[3],1,3)=="\208\184\208\189\209\130"then if H==0 then H=tonumber(string.utf8sub(O[1],2))end if H==nil then H=tonumber(string.utf8sub(O[1],11))v=A end if H~=0 and v~=A then if tonumber(O[1]:sub(2))~=nil then else H=H+tonumber(O[1]:sub(11))end end end if O[3]~=nil and string.utf8sub(O[3],1,3)=="\208\180\209\131\209\133"then if D==0 then D=tonumber(string.utf8sub(O[1],2))end if D==nil then D=tonumber(string.utf8sub(O[1],11))v=A end if D~=0 and v~=A then if tonumber(O[1]:sub(2))~=nil then else D=D+tonumber(O[1]:sub(11))end end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\176\209\130\208\176"then e=tonumber(O[1]:sub(2))if e==nil then e=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\186\209\128\208\184"then I=tonumber(O[1]:sub(2))if I==nil then I=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\188\208\176\209\129"then x=tonumber(O[1]:sub(2))if x==nil then x=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\183\208\176\208\186"then F=tonumber(O[1]:sub(2))if F==nil then F=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\188\208\181\209\130"then g=tonumber(O[1]:sub(2))if g==nil then g=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\209\129\208\186\208\190"then g=tonumber(O[1]:sub(2))if g==nil then g=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\183\208\176\209\137"then c=tonumber(O[1]:sub(2))if c==nil then c=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\209\131\208\186\208\187"then h=tonumber(O[1]:sub(2))if h==nil then h=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\191\208\176\209\128"then E=tonumber(O[1]:sub(2))if E==nil then E=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\177\208\187\208\190"then a=tonumber(O[1]:sub(2))if a==nil then a=tonumber(O[1]:sub(11))end end if O[4]~=nil and string.utf8sub(O[4],1,3)=="\208\191\209\128\208\190"then y=tonumber(O[1]:sub(2))if y==nil then y=tonumber(O[1]:sub(11))end end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\176\209\130\208\176\208\186\208\184")then b=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\186\209\128\208\184\209\130\208\184\209\135\208\181\209\129\208\186\208\190\208\179\208\190")then k=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\188\208\176\209\129\209\130\208\181\209\128\209\129\209\130\208\178\208\176")then o=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\183\208\176\208\186\208\187\208\184\208\189\208\176\208\189\208\184\208\185")then G=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\188\208\181\209\130\208\186\208\190\209\129\209\130\208\184")then X=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\209\129\208\186\208\190\209\128\208\190\209\129\209\130\208\184")then t=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\183\208\176\209\137\208\184\209\130\209\139")then N=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\209\131\208\186\208\187\208\190\208\189\208\181\208\189\208\184\209\143")then f=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\191\208\176\209\128\208\184\209\128\208\190\208\178\208\176\208\189\208\184\209\143")then q=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\177\208\187\208\190\208\186\208\184\209\128\208\190\208\178\208\176\208\189\208\184\209\143")then z=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\146\208\190\209\129\208\191\208\190\208\187\208\189\208\181\208\189\208\184\208\181")then d=mysplit(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText())d=tonumber(d[5])end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\208\191\209\128\208\190\208\177\208\184\208\178\208\176\208\189\208\184\209\143")then p=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..A]:GetText(),"\037\083\043\036"))end end end end if e==nil then e=0 end if u==nil then u=0 end if Z==nil then Z=0 end if w==nil then w=0 end if H==nil then H=0 end if D==nil then D=0 end if F==nil then F=0 end if g==nil then g=0 end if I==nil then I=0 end if x==nil then x=0 end if c==nil then c=0 end if h==nil then h=0 end if E==nil then E=0 end if a==nil then a=0 end if Q==nil then Q=0 end if y==nil then y=0 end if b==nil then b=0 end if G==nil then G=0 end if X==nil then X=0 end if k==nil then k=0 end if o==nil then o=0 end if N==nil then N=0 end if f==nil then f=0 end if q==nil then q=0 end if z==nil then z=0 end if d==nil then d=0 end if p==nil then p=0 end if t==nil then t=0 end if B==nil then B=0 end if V=="\208\150\209\128\208\181\209\134"or V=="\208\150\209\128\208\184\209\134\208\176"then local A,V,O,u,Z=GetTalentInfo(3,27)if Z>=1 then J=((((((((((H+D*.5)+F*2)+G*2)+g)+X)+I*2)+k*2)+Q*.5)+d*.5)+B)+t else J=((((((((H+D*1.5)+F*2)+I)+Q*1.5)+B)+G*2)+k)+d*1.5)+t end end if V=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then local A,V,O,y,p=GetTalentInfo(1,26)local v,R,P,n,l=GetTalentInfo(2,26)local W,j,m,r,C=GetTalentInfo(3,26)if p>=1 then J=((((((((H*2+D)+F*1.5)+I)+Q)+B*1.5)+G*1.5)+k)+d)+t*1.5 end if l>=1 then J=(((((((((((((u+Z)+w*2)+g)+x)+c*1.5)+h*1.5)+E*1.5)+a*1.5)+X)+o)+N*1.5)+f*1.5)+q*1.5)+z*1.5 end if C>=1 then J=((((((((((u*2+Z)+g)+I)+e)+B)+x)+X)+k)+b)+t)+o end end if V=="\208\146\208\190\208\184\208\189"then local A,V,O,H,D=GetTalentInfo(3,7)if D>=1 then J=(((((((((((((u+Z)+w*2)+g)+x)+c*1.5)+h*1.5)+E*1.5)+a*1.5)+X)+o)+N*1.5)+f*1.5)+q*1.5)+z*1.5 else J=((((((((((((u*2+Z)+g)+I*1.5)+x)+y*2)+e)+B)+X)+k*1.5)+o)+p*2)+b)+t end end if V=="\208\148\209\128\209\131\208\184\208\180"then local A,V,O,E,a=GetTalentInfo(3,27)local q,z,v,R,P=GetTalentInfo(2,5)local n,l,W,j,m=GetTalentInfo(1,13)local r,C,M,U,Y=GetTalentInfo(2,9)if a>=1 then J=((((((((H+D*1.5)+F*2)+B*1.5)+I)+Q*1.5)+G*2)+t*1.5)+k)+d*1.5 end if P>=1 then J=(((((((((((((((u+Z*2)+w*2)+g)+I)+B*1.5)+x)+c*1.5)+h*2)+y)+X)+k)+t*1.5)+o)+N*1.5)+f*2)+p end if m>=1 then J=((((((((((H+D*.5)+F*2)+g)+I*2)+Q*.5)+B)+G*2)+X)+k*2)+d*.5)+t end if Y>=1 then J=((((((((((((u+Z*2)+g)+I*1.5)+x)+y*2)+e)+B)+X)+k*1.5)+o)+p*2)+b)+t end end if V=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"or V=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"then J=((((((((((((u+Z*2)+g)+I)+y*2)+x)+e)+B)+X)+k)+p*2)+o)+b)+t end if V=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\208\186"or V=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\209\134\208\176"then J=((((((((((H+D*1.5)+F*2)+g)+I*1.5)+Q*.5)+B*1.5)+G*2)+X)+k*1.5)+d*.5)+t*1.5 end if V=="\208\168\208\176\208\188\208\176\208\189"then local A,V,O,w,c=GetTalentInfo(1,3)local h,E,a,N,f=GetTalentInfo(2,9)local q,z,v,R,P=GetTalentInfo(3,1)if c>=3 and f>=1 then R,R,R,R,c=GetTalentInfo(1,7)R,R,R,R,f=GetTalentInfo(2,11)end if c>=1 then J=(((((((H+F*2)+I)+g)+B*1.5)+G*2)+k)+X)+t*1.5 end if f>=1 then J=((((((((((((((u+Z*2)+g)+I*1.5)+y)+e)+B*1.5)+x)+F)+X)+k*1.5)+p)+b)+t*1.5)+o)+G end if P>=1 then J=((((((((H+D)+F*2)+I)+Q*2)+B*2)+G*2)+k)+d*2)+t*2 end end if V=="\208\158\209\133\208\190\209\130\208\189\208\184\208\186"or V=="\208\158\209\133\208\190\209\130\208\189\208\184\209\134\208\176"then J=(((((((((Z*2+g)+I)+y*2)+e)+B)+X)+k)+p*2)+b)+t end if V=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then local A,V,O,H,D=GetTalentInfo(1,7)local F,E,a,Q,B=GetTalentInfo(2,3)local G,q,z,d,t=GetTalentInfo(3,3)if D>=1 or B>=1 or t>=1 then J=(((((((((u+Z)+w*2)+g)+x)+c*1.5)+h*1.5)+X)+o)+N*1.5)+f*1.5 else J=((((((((((u*2+Z)+g)+I)+x)+y)+e)+X)+k)+o)+p)+b end end if V=="\208\156\208\176\208\179"then J=((((((((H+D)+F*2)+g)+I*1.5)+B*1.5)+G*2)+X)+k*1.5)+t*1.5 end if tonumber(J)~=0 then GameTooltip:AddLine("\124\099\102\102\048\048\066\070\070\070\208\177\209\129\058 \124\099\102\102\070\070\056\067\048\048"..J)GameTooltip:Show()else end end)function ns_obj(A)local V if A=="\097\097"then V="\107\097"end if A=="\097\065"then V="\116"end if A=="\097\098"then V="\102"end if A=="\097\066"then V="\111\098"end if A=="\097\099"then V="\109\122"end if A=="\097\067"then V="\104"end return V end local J={[0]="\048";[1]="\049";[2]="\050";[3]="\051";[4]="\052";[5]="\053",[6]="\054",[7]="\055",[8]="\056";[9]="\057";[10]="\065",[11]="\066";[12]="\067";[13]="\068";[14]="\069";[15]="\070";[16]="\071",[17]="\035";[18]="\036",[19]="\037",[20]="\040";[21]="\041";[22]="\042";[23]="\043",[24]="-",[25]="\046";[26]="\047",[27]="\058";[28]="\059",[29]="\060";[30]="\061";[31]="\062";[32]="\063";[33]="\064";[34]="\072",[35]="\073";[36]="\074";[37]="\075";[38]="\076";[39]="\077",[40]="\078";[41]="\079",[42]="\080";[43]="\081",[44]="\082";[45]="\083";[46]="\084";[47]="\085";[48]="\086";[49]="\087",[50]="\088",[51]="\089",[52]="\090",[53]="\094",[54]="\095";[55]="\096",[56]="\097";[57]="\098";[58]="\099",[59]="\100";[60]="\101";[61]="\102";[62]="\103";[63]="\104",[64]="\105",[65]="\106",[66]="\107";[67]="\108";[68]="\109";[69]="\110";[70]="\111",[71]="\112",[72]="\113";[73]="\114",[74]="\115";[75]="\116";[76]="\117";[77]="\118";[78]="\119";[79]="\120",[80]="\121";[81]="\122";[82]="\033";[83]="\123",[84]="\124",[85]="\125",[86]="\091",[87]="\093";[88]="\'";[89]="\044"}local O={}for A,V in pairs(J)do O[V]=A end function numeCod(A)local V=0 for J=1,#A,1 do local u=A:sub(J,J)local Z=O[u]or 0 V=V*90+Z end return V end function rand_alfabet()testQ.ns_alfabetQ={}testQ.ns_alfabetQ1={}local A={[1]="\208\144",[2]="\208\145";[3]="\208\146",[4]="\208\147",[5]="\208\148";[6]="\208\150",[7]="\208\151",[8]="\208\152";[9]="\208\154",[10]="\208\155";[11]="\208\156",[12]="\208\157",[13]="\208\158",[14]="\208\159",[15]="\208\160",[16]="\208\161";[17]="\208\162";[18]="\208\163",[19]="\208\164",[20]="\208\165",[21]="\208\166";[22]="\208\167",[23]="\208\168",[24]="\208\175",[25]="\208\149",[26]="\208\153",[27]="\208\173",[28]="\208\169",[29]="\208\174",[30]="\208\171"}for V=1,5,1 do local J=math.random(1,30)table.insert(testQ.ns_alfabetQ,A[J])table.insert(testQ.ns_alfabetQ1,A[J])end end function np_change_0()ns_cfg={HPheight=14;HPwidth=99,CBheight=5;CBtieFont=10;border=4,rheight=15;Rpoint="\082\073\071\072\084",RrelativePoint="\076\069\070\084";Rx=0,Ry=-4;LvLFontSize=13,LvLpoint="\082\073\071\072\084";LvLrelativePoint="\076\069\070\084",LvLx=-2,LvLy=0;NameFontSize=11,Npoint="\066\079\084\084\079\077";NrelativePoint="\084\079\080";Nx=0;Ny=4;hostileunit={r=.77,g=.11,b=.11},friendlyunit={r=.6,g=.88;b=.99};friendlyplayer={r=.11;g=.88,b=.11},neutralunit={r=.99,g=.99,b=0}}end function np_change_nil()ns_cfg={HPheight=4;HPwidth=99;CBheight=5,CBtieFont=10,border=2,rheight=15;Rpoint="\082\073\071\072\084";RrelativePoint="\076\069\070\084",Rx=0;Ry=-4,LvLFontSize=13;LvLpoint="\082\073\071\072\084";LvLrelativePoint="\076\069\070\084",LvLx=-2,LvLy=0;NameFontSize=11,Npoint="\066\079\084\084\079\077";NrelativePoint="\084\079\080";Nx=0,Ny=4;hostileunit={r=.77,g=.11;b=.11};friendlyunit={r=.6,g=.88,b=.99},friendlyplayer={r=.11,g=.88;b=.11},neutralunit={r=.99,g=.99,b=0}}end function ns_xy(A,V,J,O)local u=sqrt((A-J)^2+(V-O)^2)return u end function numZome()if GetZoneText()=="\208\155\209\131\208\189\208\190\209\129\208\178\208\181\209\130"then kont="\050"lok="\049\052"end if GetZoneText()=="\208\151\208\176\208\189\208\179\208\176\209\128\209\130\208\190\208\191\209\140"then kont="\051"lok="\050"end if GetZoneText()=="\208\162\208\176\208\189\208\176\209\128\208\184\209\129"then kont="\049"lok="\049\056"end if GetZoneText()=="\208\158\209\128\208\179\209\128\208\184\208\188\208\188\208\176\209\128"then kont="\049"lok="\049\048"end if GetZoneText()=="\208\168\209\130\208\190\209\128\208\188\208\179\209\128\208\176\208\180"then kont="\050"lok="\050\056"end if GetZoneText()=="\208\148\209\131\209\128\208\190\209\130\208\176\209\128"then kont="\049"lok="\052"end if GetZoneText()=="\208\161\209\130\208\181\208\191\208\184"then kont="\049"lok="\049\055"end return kont,lok end function ns_locaziya()local A=math.random(1,7)local V if A==1 then V="\208\155\209\131\208\189\208\190\209\129\208\178\208\181\209\130"end if A==2 then V="\208\148\209\131\209\128\208\190\209\130\208\176\209\128"end if A==3 then V="\208\158\209\128\208\179\209\128\208\184\208\188\208\188\208\176\209\128"end if A==4 then V="\208\151\208\176\208\189\208\179\208\176\209\128\209\130\208\190\208\191\209\140"end if A==5 then V="\208\161\209\130\208\181\208\191\208\184"end if A==6 then V="\208\162\208\176\208\189\208\176\209\128\208\184\209\129"end if A==7 then V="\208\168\209\130\208\190\209\128\208\188\208\179\209\128\208\176\208\180"end return V end function ns_q4xy()local A=GetUnitName("\112\108\097\121\101\114")kont,lok=numZome()if kont~=nil then if testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]==nil then testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]={}local V=math.random(1,99)local J=math.random(1,99)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=600 testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..J)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=5 else if GetZoneText()==testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok then if testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time>=1 then local V,J=GetPlayerMapPosition("\112\108\097\121\101\114")testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=(ns_xy(V,J,testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x,testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y)/tonumber(mapTables.lokRasstoyanie[kont][lok]))/10 testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time-1 print("\208\158\209\129\209\130\208\176\208\187\208\190\209\129\209\140 "..(testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time.." \209\129\208\181\208\186\209\131\208\189\208\180"))if(ns_xy(V,J,testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x,testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y)/tonumber(mapTables.lokRasstoyanie[kont][lok]))/10<.5 then testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121\095\101\110\100"]=1 SendChatMessage("\208\158\208\189\208\176 \209\130\209\131\209\130\033 \208\157\209\142\209\133\208\190\208\188 \209\135\209\131\209\142\033","\079\070\070\073\067\069\082",nil,1)end else testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()SendChatMessage("\208\163\208\178\209\139\044 \208\188\208\190\209\142 \208\191\209\128\208\184\208\189\209\134\208\181\209\129\209\129\209\131 \209\131\208\182\208\181 \209\131\208\178\208\181\208\183\208\187\208\184 \208\178 "..testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok,"\079\070\070\073\067\069\082",nil,1)local V=math.random(1,99)local J=math.random(1,99)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..J)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=600 end end end else if testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]==nil then testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]={}local V=math.random(1,99)local J=math.random(1,99)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=300 testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..J)testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()testQ[A]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=5 end end end function allcash(A,V,J)local O,u=GetPlayerMapPosition("\112\108\097\121\101\114")local Z=sqrt((O-A)^2+(u-V)^2)local w=(.82-Z)/.82 if J==1 then MoveViewRightStart(0)if testQ.acbuhlo==nil then MoveViewLeftStart(w)else MoveViewLeftStart(w/2)end else MoveViewLeftStart(0)if testQ.acbuhlo==nil then MoveViewRightStart(w)else MoveViewRightStart(w/2)end end local H=math.random(1,2)if H==1 then if testQ.acbuhlo==1 then print(w)end end end function osleplenie(A)MoveViewLeftStart(0)MoveViewRightStart(0)local V=math.random(1,2)if V==1 then MoveViewLeftStart(A)else MoveViewRightStart(A)end end function Shuffle(A)local V={}for J=1,#A,1 do V[J]=A[J]end for A=#A,2,-1 do local J=math.random(A)V[A],V[J]=V[J],V[A]end return V end function ns_iya(A)for A=1,100,1 do if iYaBtn[A]~=nil then iYaBtn[A]:Hide()iYaBtn[A]:Enable()iYaBtn[A]:SetAlpha(1)end if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end if tblIya[A].sh==1 then testQ.iya_temp=time()for A=1,11,1 do if iYaBtn[A]~=nil then iYaBtn[A]:SetAlpha(1)end end for A=1,100,1 do if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end for A=1,100,1 do if iYaBtnPic[A]~=nil then iYaBtnPic[A]:Hide()end end for A=1,100,1 do if iYaBtnText[A]~=nil then iYaBtnText[A]:Hide()end end for A=1,100,1 do if iYaBtnVsp[A]~=nil then iYaBtnVsp[A]:Hide()end end iYaBtn:configure(1,0,300,515,32,"",tblIya[A].t1,A,tblIya[A].s1,99)iYaBtn:configure(2,-131,125,256,256,tblIya[A].p1,tblIya[A].t2,A,tblIya[A].s2,99)iYaBtn:configure(3,127,125,256,256,tblIya[A].p2,tblIya[A].t3,A,tblIya[A].s3,99)iYaBtn:configure(4,-131,-165,256,256,tblIya[A].p3,tblIya[A].t4,A,tblIya[A].s4,tblIya[A].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[A].p4,tblIya[A].t5,A,tblIya[A].s5,tblIya[A].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[A].t6,A,tblIya[A].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[A].t7,A,tblIya[A].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[A].t8,A,tblIya[A].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[A].t9,A,tblIya[A].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,300,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)iYaBtn[6]:SetAlpha(.5)iYaBtn[7]:SetAlpha(.5)iYaBtn[2]:SetAlpha(.5)iYaBtn[3]:SetAlpha(.5)end if tblIya[A].sh==2 then testQ.iya_temp=time()for A=1,11,1 do if iYaBtn[A]~=nil then iYaBtn[A]:SetAlpha(1)end end for A=1,100,1 do if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end for A=1,100,1 do if iYaBtnPic[A]~=nil then iYaBtnPic[A]:Hide()end end for A=1,100,1 do if iYaBtnText[A]~=nil then iYaBtnText[A]:Hide()end end for A=1,100,1 do if iYaBtnVsp[A]~=nil then iYaBtnVsp[A]:Hide()end end local V={"\050";"\051";"\052","\053"}local J=Shuffle(V)iYaBtn:configure(1,0,300,515,32,tblIya[A].p10,tblIya[A].t1,A,tblIya[A].s1,99)iYaBtn:configure(2,-131,125,256,256,tblIya[A]["\112"..J[1]],tblIya[A]["\116"..J[1]],A,tblIya[A]["\115"..J[1]],tblIya[A].tq)iYaBtn:configure(3,127,125,256,256,tblIya[A]["\112"..J[2]],tblIya[A]["\116"..J[2]],A,tblIya[A]["\115"..J[2]],tblIya[A].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[A]["\112"..J[3]],tblIya[A]["\116"..J[3]],A,tblIya[A]["\115"..J[3]],tblIya[A].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[A]["\112"..J[4]],tblIya[A]["\116"..J[4]],A,tblIya[A]["\115"..J[4]],tblIya[A].tq)iYaBtn:configure(6,-128,268,256,32,tblIya[A].p6,tblIya[A].t6,A,tblIya[A].s6,99)iYaBtn:configure(7,128,268,256,32,tblIya[A].p7,tblIya[A].t7,A,tblIya[A].s7,99)iYaBtn:configure(8,-128,-22,256,32,tblIya[A].p8,tblIya[A].t8,A,tblIya[A].s8,99)iYaBtn:configure(9,128,-22,256,32,tblIya[A].p9,tblIya[A].t9,A,tblIya[A].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,300,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[A].sh==3 then testQ.iya_temp=time()for A=1,11,1 do if iYaBtn[A]~=nil then iYaBtn[A]:SetAlpha(1)end end for A=1,100,1 do if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end for A=1,100,1 do if iYaBtnPic[A]~=nil then iYaBtnPic[A]:Hide()end end for A=1,100,1 do if iYaBtnText[A]~=nil then iYaBtnText[A]:Hide()end end for A=1,100,1 do if iYaBtnVsp[A]~=nil then iYaBtnVsp[A]:Hide()end end local V={"\050","\051","\052"}local J=Shuffle(V)iYaBtn:configure(1,0,300,515,32,"",tblIya[A].t1,A,tblIya[A].s1,99)iYaBtn:configure(2,0,125,256,256,tblIya[A]["\112"..J[1]],tblIya[A]["\116"..J[1]],A,tblIya[A]["\115"..J[1]],tblIya[A].tq)iYaBtn:configure(3,-256,125,256,256,tblIya[A]["\112"..J[2]],tblIya[A]["\116"..J[2]],A,tblIya[A]["\115"..J[2]],tblIya[A].tq)iYaBtn:configure(4,256,125,256,256,tblIya[A]["\112"..J[3]],tblIya[A]["\116"..J[3]],A,tblIya[A]["\115"..J[3]],tblIya[A].tq)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,300,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[A].sh==4 then local V={"\050","\051";"\052","\053"}local J=Shuffle(V)for A=1,11,1 do if iYaBtn[A]~=nil then iYaBtn[A]:SetAlpha(1)end end for A=1,100,1 do if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end for A=1,100,1 do if iYaBtnPic[A]~=nil then iYaBtnPic[A]:Hide()end end for A=1,100,1 do if iYaBtnText[A]~=nil then iYaBtnText[A]:Hide()end end for A=1,100,1 do if iYaBtnVsp[A]~=nil then iYaBtnVsp[A]:Hide()end end iYaBtn:configure(2,-131,125,256,256,tblIya[A]["\112"..J[1]],tblIya[A]["\116"..J[1]],A,tblIya[A]["\115"..J[1]],tblIya[A].tq)iYaBtn:configure(3,127,125,256,256,tblIya[A]["\112"..J[2]],tblIya[A]["\116"..J[2]],A,tblIya[A]["\115"..J[2]],tblIya[A].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[A]["\112"..J[3]],tblIya[A]["\116"..J[3]],A,tblIya[A]["\115"..J[3]],tblIya[A].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[A]["\112"..J[4]],tblIya[A]["\116"..J[4]],A,tblIya[A]["\115"..J[4]],tblIya[A].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[A]["\116\116"..J[1]],A,tblIya[A].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[A]["\116\116"..J[2]],A,tblIya[A].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[A]["\116\116"..J[3]],A,tblIya[A].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[A]["\116\116"..J[4]],A,tblIya[A].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,300,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)local O={"\049","\050","\051";"\052"}local u=Shuffle(O)iYaBtnP:configure(1,tblIya[A].x1,tblIya[A].y1,tblIya[A].rx1,tblIya[A].ry1,"",tblIya[A]["\116\112"..u[1]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(2,tblIya[A].x2,tblIya[A].y2,tblIya[A].rx2,tblIya[A].ry2,"",tblIya[A]["\116\112"..u[2]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(3,tblIya[A].x3,tblIya[A].y3,tblIya[A].rx3,tblIya[A].ry3,"",tblIya[A]["\116\112"..u[3]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(4,tblIya[A].x4,tblIya[A].y4,tblIya[A].rx4,tblIya[A].ry4,"",tblIya[A]["\116\112"..u[4]],A,tblIya[A].s10,tblIya[A].tq)iYaBtn[2]:Disable()iYaBtn[3]:Disable()iYaBtn[4]:Disable()iYaBtn[5]:Disable()iYaBtn[6]:Disable()iYaBtn[7]:Disable()iYaBtn[8]:Disable()iYaBtn[9]:Disable()end if tblIya[A].sh==5 then testQ.iya_temp=time()local V={"\049","\050","\051","\052";"\053","\054"}local J=Shuffle(V)iYaBtn:configure(1,0,300,515,32,tblIya[A].p11,tblIya[A].t11,A,tblIya[A].s1,99)iYaBtnPic:configure(1,-259,125,256,256,tblIya[A]["\112"..J[1]],tblIya[A]["\116"..J[1]],A,tblIya[A]["\116\115"..J[1]],tblIya[A].tq)iYaBtnPic:configure(2,257,125,256,256,tblIya[A]["\112"..J[2]],tblIya[A]["\116"..J[2]],A,tblIya[A]["\116\115"..J[2]],tblIya[A].tq)iYaBtnPic:configure(3,-259,-165,256,256,tblIya[A]["\112"..J[3]],tblIya[A]["\116"..J[3]],A,tblIya[A]["\116\115"..J[3]],tblIya[A].tq)iYaBtnPic:configure(4,257,-165,256,256,tblIya[A]["\112"..J[4]],tblIya[A]["\116"..J[4]],A,tblIya[A]["\116\115"..J[4]],tblIya[A].tq)iYaBtnPic:configure(5,0,125,256,256,tblIya[A]["\112"..J[5]],tblIya[A]["\116"..J[5]],A,tblIya[A]["\116\115"..J[5]],tblIya[A].tq)iYaBtnPic:configure(6,0,-165,256,256,tblIya[A]["\112"..J[6]],tblIya[A]["\116"..J[6]],A,tblIya[A]["\116\115"..J[6]],tblIya[A].tq)iYaBtnText:configure(1,-259,268,256,32,"",tblIya[A].tt1,A,tblIya[A].tts1,99)iYaBtnText:configure(2,255,268,256,32,"",tblIya[A].tt2,A,tblIya[A].tts2,99)iYaBtnText:configure(3,-259,-22,256,32,"",tblIya[A].tt3,A,tblIya[A].tts3,99)iYaBtnText:configure(4,255,-22,256,32,"",tblIya[A].tt4,A,tblIya[A].tts4,99)iYaBtnText:configure(5,0,268,256,32,"",tblIya[A].tt5,A,tblIya[A].tts5,99)iYaBtnText:configure(6,0,-22,256,32,"",tblIya[A].tt6,A,tblIya[A].tts6,99)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,316,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[A].sh==6 then local V={"\050";"\051","\052","\053"}local J=Shuffle(V)for A=1,11,1 do if iYaBtn[A]~=nil then iYaBtn[A]:SetAlpha(1)end end for A=1,100,1 do if iYaBtnP[A]~=nil then iYaBtnP[A]:Hide()end end for A=1,100,1 do if iYaBtnPic[A]~=nil then iYaBtnPic[A]:Hide()end end for A=1,100,1 do if iYaBtnText[A]~=nil then iYaBtnText[A]:Hide()end end for A=1,100,1 do if iYaBtnVsp[A]~=nil then iYaBtnVsp[A]:Hide()end end iYaBtn:configure(2,-131,125,256,256,tblIya[A]["\112"..J[1]],tblIya[A]["\116"..J[1]],A,tblIya[A]["\115"..J[1]],tblIya[A].tq)iYaBtn:configure(3,127,125,256,256,tblIya[A]["\112"..J[2]],tblIya[A]["\116"..J[2]],A,tblIya[A]["\115"..J[2]],tblIya[A].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[A]["\112"..J[3]],tblIya[A]["\116"..J[3]],A,tblIya[A]["\115"..J[3]],tblIya[A].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[A]["\112"..J[4]],tblIya[A]["\116"..J[4]],A,tblIya[A]["\115"..J[4]],tblIya[A].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[A]["\116\116"..J[1]],A,tblIya[A].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[A]["\116\116"..J[2]],A,tblIya[A].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[A]["\116\116"..J[3]],A,tblIya[A].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[A]["\116\116"..J[4]],A,tblIya[A].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",A,"",99)iYaBtn:configure(11,-322,300,128,64,"",A..("\047"..50-testQ.iya_ser),"","",99)local O={"\049","\050";"\051","\052"}local u=Shuffle(O)iYaBtnP:configure(1,-11,148,80,32,"",tblIya[A]["\116\112"..u[1]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(2,-11,116,80,32,"",tblIya[A]["\116\112"..u[2]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(3,-11,84,80,32,"",tblIya[A]["\116\112"..u[3]],A,tblIya[A].s10,tblIya[A].tq)iYaBtnP:configure(4,-11,52,80,32,"",tblIya[A]["\116\112"..u[4]],A,tblIya[A].s10,tblIya[A].tq)iYaBtn[2]:Disable()iYaBtn[3]:Disable()iYaBtn[4]:Disable()iYaBtn[5]:Disable()iYaBtn[6]:Disable()iYaBtn[7]:Disable()iYaBtn[8]:Disable()iYaBtn[9]:Disable()end end function sCh()SendChatMessage("\208\167\209\130\208\190 \208\178\209\139 \208\178\208\184\208\180\208\184\209\130\208\181 \209\130\209\131\209\130\058 \"\195\145\195\177\"\063","\071\085\073\076\068",nil,1)end function pokazTextur(A,V,J,O)if O=="\115\104\111\119"then prok_set1={Rx=128;Ry=256,x=-200;y=0}prok_set2={Rx=128;Ry=256,x=200,y=0}prok_set3={Rx=256;Ry=128;x=0;y=200}prok_set4={Rx=0,Ry=0,x=0,y=0}local O=GetScreenWidth()local u=GetScreenHeight()if J==4 then unIcon(tonumber(A),O,u,0+prok_set4.x,0+prok_set4.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if J==1 then unIcon(tonumber(A),prok_set1.Rx,prok_set1.Ry,0+prok_set1.x,0+prok_set1.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if J==2 then unIcon(tonumber(A),prok_set2.Rx,prok_set2.Ry,0+prok_set2.x,0+prok_set2.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if J==3 then unIcon(tonumber(A),prok_set3.Rx,prok_set3.Ry,0+prok_set3.x,0+prok_set3.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end else unIcon(tonumber(tonumber(A),x,y,0,0,0,"\104\105\100\101",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082"))end end function cepochkiQuestov(A,V,J,O,u,Z,w)print(A)print(V)print(J)print(O)print(u)print(Z)print(w)if A=="\102\101\110\105\120"then if t_cQ[A][testQ[w].puteshestvie].sh=="\208\181\208\180\208\176"then if testQ[w].edaQuest==nil then testQ[w].edaQuest=1 end local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if mapTables.lokRasstoyanie[J]~=nil then if mapTables.lokRasstoyanie[J][O]~=nil then if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\209\141\208\188\208\190\209\134\208\184\209\143"then if testQ[w]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]==nil then obnulenieEmocij(w)testQ[w]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]=1 end if testQ[w]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]~=nil then if proverkaEmocij(w)==nil then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]else local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if mapTables.lokRasstoyanie[J]~=nil then if mapTables.lokRasstoyanie[J][O]~=nil then if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\186\208\187\208\184\208\186"then if ns_FLAGnaClick~=nil then if testQ.fx==nil then testQ.fx,testQ.fy=GetPlayerMapPosition("\112\108\097\121\101\114")end local V=sqrt((u-testQ.fx)^2+(Z-testQ.fy)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]testQ.fy=nil testQ.fx=nil ns_FLAGnaClick=nil end end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\180\208\190\208\177\209\139\209\135\208\176 \208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then showFenix("\115\104\111\119")local V rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")for J=1,t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\154\208\190\208\187\208\184\209\135\208\181\209\129\209\130\208\178\208\190"],1 do if proverkaNaPredmety(t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130"..J])then if proverkaNaKolvoPredmetov(t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130"..J])>=t_cQ[A][testQ[w].puteshestvie]["\208\178\209\129\208\181\208\179\208\190\208\159\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"..J]then V=1 else V=nil break end else V=nil break end end if V~=nil then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end if A~="\102\101\110\105\120"then if t_cQ[A][testQ[w].puteshestvie].sh=="\208\191\208\190\208\180\208\184 \209\130\209\131\208\180\208\176"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\178\208\183\208\187\208\190\208\188 \209\129\208\181\208\185\209\132\208\176"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)puteshestvieGrafikaHide()sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\180\208\190\208\177\209\139\209\135\208\176 \208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")if proverkaNaPredmety(t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\049"])and(proverkaNaPredmety(t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\050"])and proverkaNaPredmety(t_cQ[A][testQ[w].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\051"]))then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[w].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[w].puteshestvie=t_cQ[A][testQ[w].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\178\208\190\208\191\209\128\208\190\209\129"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end if t_cQ[A][testQ[w].puteshestvie].sh=="\208\191\208\190\208\177\208\181\208\180\208\176"then if tonumber(t_cQ[A][testQ[w].puteshestvie].kont)==tonumber(J)and tonumber(t_cQ[A][testQ[w].puteshestvie].lok)==tonumber(O)then local V=sqrt((u-t_cQ[A][testQ[w].puteshestvie].x)^2+(Z-t_cQ[A][testQ[w].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[J][O]*t_cQ[A][testQ[w].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[A][testQ[w].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\159\208\190\208\177\208\181\208\180\208\176\033\033\033 \208\146\208\190\208\182\208\180\209\140\044 \209\143 \208\189\208\181\209\129\209\131 \209\130\208\181\208\177\208\181 \208\178\209\129\208\181 \209\129\208\190\208\180\208\181\209\128\208\182\208\184\208\188\208\190\208\181 \209\129\208\181\208\185\209\132\208\190\208\178\033\033\033","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")puteshestvieHide()end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\159\208\190\208\177\208\181\208\180\208\176\033\033\033 \208\146\208\190\208\182\208\180\209\140\044 \209\143 \208\189\208\181\209\129\209\131 \209\130\208\181\208\177\208\181 \208\178\209\129\208\181 \209\129\208\190\208\180\208\181\209\128\208\182\208\184\208\188\208\190\208\181 \209\129\208\181\208\185\209\132\208\190\208\178\033\033\033","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")puteshestvieHide()end end end end end function puteshestvieHide()local A=GetUnitName("\112\108\097\121\101\114")testQ[A].puteshestvie=nil testQ[A][testQ[A].puteshestvieTabella]=nil quesT("\104\105\100\101")rtnTextF("",1,"\104\105\100\101")if btn[980]~=nil then btn[980]:Hide()btn[979]:Hide()btn[978]:Hide()end puteshestvieGrafikaHide()end function puteshestvieGrafikaHide()if fenix[1]~=nil then showFenix("\104\105\100\101")end if iconQ[1]~=nil then quesT("\104\105\100\101")end rtnTextF("",1,"\104\105\100\101")end function ns_addXY()local A,V=GetPlayerMapPosition("\112\108\097\121\101\114")local J=tostring(GetCurrentMapContinent())local O=tostring(GetCurrentMapZone())print("\091\'\120\'\093 \061 "..(A.."\044"))print("\091\'\121\'\093 \061 "..(V.."\044"))print("\091\'\107\111\110\116\'\093 \061 "..(J.."\044"))print("\091\'\108\111\107\'\093 \061 "..(O.."\044"))end function proverkaNaPredmety(A)for V=0,4,1 do for J=1,GetContainerNumSlots(V),1 do local O=GetContainerItemLink(V,J)if O and O:find(A)then return true end end end end function proverkaNaKolvoPredmetov(A)local V=0 for J=0,4,1 do for O=1,GetContainerNumSlots(J),1 do local u=GetContainerItemLink(J,O)if u and u:find(A)then local A,u=GetContainerItemInfo(J,O)V=V+u end end end return V end function sohranenieProgressa(A)local V=GetUnitName("\112\108\097\121\101\114")if A=="\208\190\208\177\209\139\209\135\208\186\208\176"then if testQ[V][testQ[V]]==nil then testQ[V][testQ[V].puteshestvieTabella]=0 end if tonumber(testQ[V][testQ[V].puteshestvieTabella])<tonumber(t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176"])then testQ[V][testQ[V].puteshestvieTabella]=t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176"]end end if A=="\208\178\208\183\208\187\208\190\208\188"then if testQ[V][testQ[V]]==nil then testQ[V][testQ[V].puteshestvieTabella]=0 end if tonumber(testQ[V][testQ[V].puteshestvieTabella])<tonumber(t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176 \208\191\209\128\208\184 \208\178\208\183\208\187\208\190\208\188\208\181"])then testQ[V][testQ[V].puteshestvieTabella]=t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176 \208\191\209\128\208\184 \208\178\208\183\208\187\208\190\208\188\208\181"]end end end function sohranenieTablicRamerovLokaciy()SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\055","\048\046\048\048\048\052\057\057","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\048","\048\046\048\048\051\054\055\054","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \052","\048\046\048\048\048\054\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \050\056","\048\046\048\048\050\049","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \057\057 \049","\048\046\048\048\051","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\056","\048\046\048\048\048\056\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \051 \050","\048\046\048\048\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \049\052","\048\046\048\048\050","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\053","\048\046\048\048\048\052\057\057","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \050\053","\048\046\048\048\048\052\057\057","\103\117\105\108\100")end function proverkaEmocij(A)local V if testQ[A].HumanMan==nil then V=1 end if testQ[A].HumanWoman==nil then V=1 end if testQ[A].DworfMan==nil then V=1 end if testQ[A].DworfWoman==nil then V=1 end if testQ[A].NEMan==nil then V=1 end if testQ[A].NEWoman==nil then V=1 end if testQ[A].GnomMan==nil then V=1 end if testQ[A].GnomWoman==nil then V=1 end if testQ[A].DrenayMan==nil then V=1 end if testQ[A].DrenayWoman==nil then V=1 end if testQ[A].OrkMan==nil then V=1 end if testQ[A].OrkWoman==nil then V=1 end if testQ[A].UndeadMan==nil then V=1 end if testQ[A].UndeaWoman==nil then V=1 end if testQ[A].TaurenMan==nil then V=1 end if testQ[A].TaurenWoman==nil then V=1 end if testQ[A].TrollMan==nil then V=1 end if testQ[A].TrollWoman==nil then V=1 end if testQ[A].ElfMan==nil then V=1 end if testQ[A].ElfWoman==nil then V=1 end return V end function testShip(A)local V if testQ[A].HumanMan==nil then V="\208\167\208\181\208\187\208\190\208\178\208\181\208\186"end if testQ[A].HumanWoman==nil then V="\208\167\208\181\208\187\208\190\208\178\208\181\208\186\208\176"end if testQ[A].DworfMan==nil then V="\208\148\208\178\208\190\209\128\209\132"end if testQ[A].DworfWoman==nil then V="\208\148\208\178\208\190\209\128\209\132\208\186\208\176"end if testQ[A].NEMan==nil then V="\208\157\208\190\209\135\208\189\208\190\209\141\208\187\209\140\209\132"end if testQ[A].NEWoman==nil then V="\208\157\208\190\209\135\208\189\208\190\209\141\208\187\209\140\209\132\208\186\208\176"end if testQ[A].GnomMan==nil then V="\208\147\208\189\208\190\208\188"end if testQ[A].GnomWoman==nil then V="\208\147\208\189\208\190\208\188\208\176"end if testQ[A].DrenayMan==nil then V="\208\148\209\128\208\181\208\189\208\181\208\185"end if testQ[A].DrenayWoman==nil then V="\208\148\209\128\208\181\208\189\208\181\208\185\208\186\208\176"end if testQ[A].OrkMan==nil then V="\208\158\209\128\208\186"end if testQ[A].OrkWoman==nil then V="\208\158\209\128\209\135\208\186\208\176"end if testQ[A].UndeadMan==nil then V="\208\144\208\189\208\180\208\181\208\180"end if testQ[A].UndeaWoman==nil then V="\208\149\209\137\208\181 \051\048 \208\188\208\184\208\189\209\131\209\130 \208\182\208\181\208\189\209\137\208\184\208\189\208\176"end if testQ[A].TaurenMan==nil then V="\208\162\208\176\209\131\209\128\208\181\208\189"end if testQ[A].TaurenWoman==nil then V="\208\162\208\181\208\187\208\190\209\135\208\186\208\176"end if testQ[A].TrollMan==nil then V="\208\162\209\128\208\190\208\187\208\187\209\140"end if testQ[A].TrollWoman==nil then V="\208\162\209\128\208\190\208\187\208\187\209\140\208\186\208\176"end if testQ[A].ElfMan==nil then V="\208\173\208\187\209\140\209\132"end if testQ[A].ElfWoman==nil then V="\208\173\208\187\209\140\209\132\208\176"end return V end function obnulenieEmocij(A)testQ[A].HumanMan=nil testQ[A].HumanWoman=nil testQ[A].DworfMan=nil testQ[A].DworfWoman=nil testQ[A].NEMan=nil testQ[A].NEWoman=nil testQ[A].GnomMan=nil testQ[A].GnomWoman=nil testQ[A].DrenayMan=nil testQ[A].DrenayWoman=nil testQ[A].OrkMan=nil testQ[A].OrkWoman=nil testQ[A].UndeadMan=nil testQ[A].UndeaWoman=nil testQ[A].TaurenMan=nil testQ[A].TaurenWoman=nil testQ[A].TrollMan=nil testQ[A].TrollWoman=nil testQ[A].ElfMan=nil testQ[A].ElfWoman=nil end function obnulenieEmocij1(A)testQ[A].HumanMan=1 testQ[A].HumanWoman=1 testQ[A].DworfMan=1 testQ[A].DworfWoman=1 testQ[A].NEMan=1 testQ[A].NEWoman=1 testQ[A].GnomMan=1 testQ[A].GnomWoman=1 testQ[A].DrenayMan=1 testQ[A].DrenayWoman=1 testQ[A].OrkMan=1 testQ[A].OrkWoman=1 testQ[A].UndeadMan=1 testQ[A].UndeaWoman=1 testQ[A].TaurenMan=1 testQ[A].TaurenWoman=1 testQ[A].TrollMan=1 testQ[A].TrollWoman=1 testQ[A].ElfMan=1 testQ[A].ElfWoman=1 end function nsGP()local A={}local V=GetNumRaidMembers()for V=1,V,1 do local J for O=1,GetNumGuildMembers(true),1 do local u,Z,w,H,D,F,g,I,x,c,h,E,a,Q,y,e,B=GetGuildRosterInfo(O)if u==UnitName("\114\097\105\100"..V)then A[V]={}local O=mysplit(I)A[V].nome=u A[V].public=g A[V].rank=Z if O[3]~=nil then A[V].znach=tonumber(O[3])else A[V].znach=tonumber("\048\048\048\048")end J=1 end end if J==nil then A[V]={}if UnitName("\114\097\105\100"..V)~=nil then A[V].nome=UnitName("\114\097\105\100"..V)A[V].znach=tonumber("\048\048\048\048")A[V].public="\208\157\208\149 \208\146 \208\147\208\152\208\155\208\172\208\148\208\152\208\152"else A[V].nome="\208\191\209\131\209\129\209\130\208\190"A[V].znach=tonumber("\048\048\048\048")end end end table.sort(A,function(A,V)return A.znach<V.znach end)local J={}local O=tostring(1)for A,V in ipairs(A)do J[O]={}J[O].nome=V.nome J[O].znach=V.znach J[O].public=V.public J[O].rank=V.rank O=tostring(tonumber(O)+1)end return J end function gpEnTg()FriendsFrame:Show()GuildFrame:Show()testQ.gpEnTg={}for A=1,GetNumGuildMembers(true),1 do local V,J,O,u,Z,w,H,D,F,g,I,x,c,h,E,a,Q=GetGuildRosterInfo(A)local y=mysplit(D)if y[3]~=nil then testQ.gpEnTg[V]=tonumber(y[3])end end FriendsFrame:Hide()GuildFrame:Hide()end function addMioFld(A,V,J,O)if mioFld1~=nil then if mioFld1[A]~=nil then if mioFld1[A][V]~=nil then mioFld1[A][V][tostring(J)]=tostring(O)end end end end function readMioFld(A,V,J)if mioFld1~=nil then if mioFld1[A]~=nil then if mioFld1[A][V]~=nil then return mioFld1[A][V][tostring(J)]end end end end nBtn={}function nBtn.new(G,A,V,J,O,u,Z,w,H,D,F,g,I,x,c,h,E,a,Q,y,e,B)local X={}local k local o local N local f=y X.message=I function X.configure(Z)if B==nil then Z[A]=Z[A]or CreateFrame("\066\117\116\116\111\110",nil,J,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")else Z[A]=Z[A]or CreateFrame("\066\117\116\116\111\110",nil,J,"")Z[A]:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092"..(B.."\046\116\103\097"))if e~=0 then Z[A]:SetHighlightTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092"..(B.."\046\116\103\097"))end k={}X:SetText(I)end Z[A]:SetPoint(x,J,c,O,u)Z[A]:SetSize(F,g)Z[A]:SetText(I)Z[A]:SetFrameStrata(a)if V~=nil then V(X)end end function X.reMove(u,V,O)u[A]:SetPoint(x,J,c,V,O)end function X.reSize(O,V,J)O[A]:SetSize(V,J)end function X.getID(V)print(A)end function X.Hide(V)V[A]:Hide()end function X.Show(V)V[A]:Show()end function X.textSize(J,V)k[A]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",V,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end function X.textMove(O,V,J)k[A]:SetPoint("\066\079\084\084\079\077\076\069\070\084",X[A],"\066\079\084\084\079\077\076\069\070\084",V,J)end function X.SetText(J,V)if B~=nil then k[A]=k[A]or X[A]:CreateFontString(nil,"\079\086\069\082\076\065\089")k[A]:SetSize(F,g)k[A]:SetPoint("\084\079\080\076\069\070\084")k[A]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",D,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")k[A]:SetText("\124\099\102\102"..(Q..(V.."\124\114")))k[A]:Show()else X[A]:SetText(V)end end function X.getSaveNome(A)return f end function X.setOnUpdate(O,V,J)V(O[A],J)end function X.setOnEnter(J,V)V(J[A],I)end function X.setOnClick(J,V)V(J[A],I)end function X.setClick(u,V,J,O)u[A]:RegisterForClicks("\082\105\103\104\116\066\117\116\116\111\110\068\111\119\110","\076\101\102\116\066\117\116\116\111\110\068\111\119\110")u[A]:SetScript("\079\110\067\108\105\099\107",function(A,u,Z)if V~=nil then if arg1=="\076\101\102\116\066\117\116\116\111\110"then V(A,u,f,O)end end if J~=nil then if arg1=="\082\105\103\104\116\066\117\116\116\111\110"then J(A,u,f,O)end end end)end function X.gesture(O,V,J)o=CreateFrame("\070\082\065\077\069")N=0 o:SetScript("\079\110\085\112\100\097\116\101",function(O,u)N=N+u if N>.1 then local O,u=WorldFrame:GetSize()local Z,w=GetCursorPosition()if Z<=20 and w>=u-20 then V(X[A])end if Z>=O-20 and w>=u-20 then J(X[A])end end end)end function X.killall(V)o:SetScript("\079\110\085\112\100\097\116\101",nil)X[A]:SetScript("\079\110\067\108\105\099\107",nil)end setmetatable(X,G)G.__index=G return X end function gpBtn1_enter(A,V)A:SetScript("\079\110\069\110\116\101\114",function(A,J,O)GameTooltip:SetOwner(A,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\155\208\154\208\156\058 \208\189\208\176\209\135\208\184\209\129\208\187\208\184\209\130\209\140 "..(" \124\099\102\102\070\070\056\067\048\048"..(V.." \124\099\102\102\057\057\102\102\057\057\208\147\208\159")))GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\159\208\154\208\156\058 \209\129\208\189\209\143\209\130\209\140 "..(" \124\099\102\102\070\070\056\067\048\048"..(V.." \124\099\102\102\057\057\102\102\057\057\208\147\208\159")))GameTooltip:Show()gpBtn1:Show()gpBtn2:Show()gpBtn3:Show()gpBtn4:Show()gpBtn5:Show()gpBtn6:Show()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",0,-20)ShowCheckboxWindow()end)A:SetScript("\079\110\076\101\097\118\101",function(A,V,J)GameTooltip:Hide()end)end function gpBtn1_click(A,V)A:RegisterForClicks("\082\105\103\104\116\066\117\116\116\111\110\068\111\119\110","\076\101\102\116\066\117\116\116\111\110\068\111\119\110")A:SetScript("\079\110\067\108\105\099\107",function(A,J)if testQ.gpRez==nil or#testQ.gpRez==0 then if arg1=="\076\101\102\116\066\117\116\116\111\110"then SendChatMessage("\208\147\208\159 "..V,"\071\085\073\076\068",nil,1)else SendChatMessage("\208\147\208\159 -"..V,"\071\085\073\076\068",nil,1)end gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)HideCheckboxWindow()gplabels={}testQ.gpRez=nil else if arg1=="\076\101\102\116\066\117\116\116\111\110"then sendGPnik(V)HideCheckboxWindow()gplabels={}testQ.gpRez=nil gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)else sendGPnik(-V)HideCheckboxWindow()gplabels={}testQ.gpRez=nil gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)end end end)end function change_spek(A,V,J,O)SendChatMessage("\033\208\183\208\176\208\188\208\181\209\130\208\186\208\176 "..O.message,"\071\085\073\076\068",nil,1)spek1:Hide()spek2:Hide()spek3:Hide()end function duelOnUpdate(A,V)A:SetScript("\079\110\069\110\116\101\114",function(A,J)GameTooltip:SetOwner(A,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\159\209\128\208\184\208\189\209\143\209\130\209\140 \208\180\209\131\209\141\208\187\209\140 \208\190\209\130 \208\184\208\179\209\128\208\190\208\186\208\176\058 \124\099\102\102\057\057\102\102\057\057"..V)GameTooltip:Show()end)A:SetScript("\079\110\076\101\097\118\101",function(A,V)GameTooltip:Hide()end)end function btnHide(A)A:Hide()end function btnShow(A)A:Show()end function gpBtnClick(A)if IsRaidLeader()then if testQ.raidAUKPobeda~=nil then SendChatMessage(testQ.raidAUKPobeda..(" \208\191\208\190\208\177\208\181\208\182\208\180\208\176\208\181\209\130\044 \208\191\208\190\209\129\209\130\208\176\208\178\208\184\208\178 "..(testQ.raidAUKPobeda_gp.." \208\147\208\159")),"\082\065\073\068",nil,1)end SendAddonMessage("\110\115\065\085\075\101\110\100 ","\049\048","\082\065\073\068")end end function ns_duelTrue(A,V,J)SendAddonMessage("\110\115\095\100\117\101\108\095\111\116\118\101\116",J,"\103\117\105\108\100")duelBtn[J.."\049"]:Hide()duelBtn[J.."\050"]:Hide()end function ns_duelFalse(A,V,J)SendChatMessage("\208\162\208\176\208\186 \209\143 \208\182 \209\130\209\128\209\131\209\129 \208\184 \208\191\208\190\208\180\208\187\208\181\209\134\046 \208\158\209\130\208\186\208\176\208\183\209\139\208\178\208\176\209\142\209\129\209\140\046","\071\085\073\076\068",nil,1)duelBtn[J.."\049"]:Hide()duelBtn[J.."\050"]:Hide()SendAddonMessage("\110\115\095\100\117\101\108\095\111\116\107\097\122",J,"\103\117\105\108\100")end function nsAUK(A,V,J)if testQ.raidAUK~=nil then V=tonumber(V)if V~=nil then local O=tablelength(testQ.raidAUK)local u local Z local w=tablelength(testQ.rez)local H=""local D=nil for V=1,w,1 do if testQ.rez[tostring(V)].nome==A then Z=testQ.rez[tostring(V)].public u=tonumber(testQ.rez[tostring(V)].znach)break end end if O>=1 then for J=1,O,1 do if testQ.raidAUK[J].nome==A then if tonumber(V)<=u then testQ.raidAUK[J].auk=V end D=1 break end end if D==nil then testQ.raidAUK[O+1]={nome=A,auk=0;public=Z,rezultat=u}if testQ.raidAUK[O+1].auk+tonumber(V)<=u then testQ.raidAUK[O+1].auk=testQ.raidAUK[O+1].auk+tonumber(V)end end else testQ.raidAUK[1]={nome=A,auk=0,public=Z;rezultat=u}if testQ.raidAUK[1].auk+tonumber(V)<=u then testQ.raidAUK[1].auk=testQ.raidAUK[1].auk+tonumber(V)end end table.sort(testQ.raidAUK,function(A,V)return A.auk<V.auk end)local F={}local g=""for A,V in ipairs(testQ.raidAUK)do F[A]={nome=V.nome;znach=V.auk,public=V.public;rezultat=V.rezultat}g=g..("\124\099\070\070\054\052\057\053\069\068"..(V.nome..(" \124\099\102\102\070\070\056\067\048\048\040"..(V.public..("\124\099\102\102\056\048\056\048\056\048\124\124"..("\124\099\102\102\102\102\048\048\048\048"..(V.rezultat..("\124\099\102\102\070\070\056\067\048\048\041\058 \124\099\102\102\057\057\102\102\057\057"..(V.auk.."\n")))))))))if A==#testQ.raidAUK and IsRaidLeader()then SendChatMessage(V.nome..("\058 "..(V.auk.."\044 \208\186\209\130\208\190 \208\177\208\190\208\187\209\140\209\136\208\181\063")),"\082\065\073\068",nil,1)testQ.raidAUKPobeda=V.nome testQ.raidAUKPobeda_gp=V.auk end end print(J)TextWindow(J..("\n\n"..g))end end end function lastWords(A)local V=mysplit(A)V=V[1]local J=string.utf8len(V)local O=string.utf8len(A)local u=string.utf8sub(A,J+1,O)return u end function sendGPnik(A)local V=""for A=1,#testQ.gpRez,1 do V=V..(testQ.gpRez[A].." ")end SendAddonMessage("\110\115\071\080"..(" "..A),V,"\103\117\105\108\100")end function sendGP(A)local V=GetUnitName("\112\108\097\121\101\114")msg={}msg[2]=A for A=1,GetNumGuildMembers(true),1 do local J,O,u,Z,w,H,D,F,g,I,x,c,h,E,a,Q,y=GetGuildRosterInfo(A)if J==V then if O=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"or O=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"then if GetNumRaidMembers()<=10 then local A=""A=UnitName("\114\097\105\100\049").." "for V=2,GetNumRaidMembers(),1 do A=A..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),A,"\103\117\105\108\100")elseif GetNumRaidMembers()>10 and GetNumRaidMembers()<=20 then local A=""A=UnitName("\114\097\105\100\049").." "for V=2,10,1 do A=A..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),A,"\103\117\105\108\100")local V=""V=UnitName("\114\097\105\100\049\049").." "for A=12,GetNumRaidMembers(),1 do V=V..(UnitName("\114\097\105\100"..A).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),V,"\103\117\105\108\100")elseif GetNumRaidMembers()>20 then local A=""A=UnitName("\114\097\105\100\049").." "for V=2,10,1 do A=A..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),A,"\103\117\105\108\100")local V=""V=UnitName("\114\097\105\100\049\049").." "for A=12,20,1 do V=V..(UnitName("\114\097\105\100"..A).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),V,"\103\117\105\108\100")local J=""J=UnitName("\114\097\105\100\050\049").." "for A=22,GetNumRaidMembers(),1 do J=J..(UnitName("\114\097\105\100"..A).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),J,"\103\117\105\108\100")end end end end end function createParent()parentFrame=CreateFrame("\070\114\097\109\101",nil,UIParent)parentFrame:SetSize(200,200)parentFrame:SetPoint("\067\069\078\084\069\082")parentFrame:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100";edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",tile=true;tileSize=32,edgeSize=32,insets={left=11,right=12,top=12,bottom=11}})parentFrame:SetBackdropColor(0,0,0,1)parentFrame:SetMovable(true)parentFrame:EnableMouse(true)parentFrame:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")parentFrame:SetScript("\079\110\068\114\097\103\083\116\097\114\116",function(A)A:StartMoving()end)parentFrame:SetScript("\079\110\068\114\097\103\083\116\111\112",function(A)A:StopMovingOrSizing()ClampFrameToScreen(A)SaveFramePosition(A)end)if testQ.pgChbX and testQ.pgChbY then parentFrame:ClearAllPoints()parentFrame:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",testQ.pgChbX,testQ.pgChbY)end HideCheckboxWindow()end function ClampFrameToScreen(A)local V=UIParent:GetWidth()local J=UIParent:GetHeight()local O=A:GetWidth()local u=A:GetHeight()local Z,w=A:GetCenter()Z=Z or 0 w=w or 0 Z=math.max(O/2,math.min(V-O/2,Z))w=math.max(u/2,math.min(J-u/2,w))A:ClearAllPoints()A:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",Z,w)end function SaveFramePosition(A)local V,J=A:GetCenter()testQ.pgChbX=V testQ.pgChbY=J end function CreateCheckboxes(A,V)local J={}local O=-10 local u=0 for V,Z in ipairs(V)do local w=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,A,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")w:SetSize(24,24)w:SetPoint("\084\079\080\076\069\070\084",10,O)local H=w:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")H:SetPoint("\076\069\070\084",w,"\082\073\071\072\084",5,0)H:SetText(Z)w.label=Z w:SetScript("\079\110\067\108\105\099\107",function(A)if testQ.gpRez==nil then testQ.gpRez={}end local V=mysplit(A.label)if A:GetChecked()then table.insert(testQ.gpRez,V[1])else for A=1,#testQ.gpRez,1 do if testQ.gpRez[A]==V[1]then table.remove(testQ.gpRez,A)end end end end)J[V]=w local D=H:GetStringWidth()if D>u then u=D end O=O-30 end local Z=u+50 local w=#V*30+20 A:SetSize(Z,w)return J end function HideCheckboxWindow()if parentFrame then parentFrame:Hide()end end function ShowCheckboxWindow()if parentFrame then parentFrame:Show()end end function DestroyCheckboxWindow()if parentFrame then parentFrame:Hide()parentFrame:ClearAllPoints()parentFrame:SetParent(nil)parentFrame=nil end end gplabels={}textWindow=nil local function u(A)local V=UIParent:GetWidth()local J=UIParent:GetHeight()local O=A:GetWidth()local u=A:GetHeight()local Z,w=A:GetCenter()Z=Z or 0 w=w or 0 Z=math.max(O/2,math.min(V-O/2,Z))w=math.max(u/2,math.min(J-u/2,w))A:ClearAllPoints()A:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",Z,w)end function TextWindow(A)if textWindow then textWindow.textLabel:SetText(A)local V=textWindow.textLabel:GetStringWidth()local J=textWindow.textLabel:GetStringHeight()local O=20 textWindow:SetSize(V+O,J+O)u(textWindow)textWindow:Show()return end textWindow=CreateFrame("\070\114\097\109\101",nil,UIParent)textWindow:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100";edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",tile=true,tileSize=32,edgeSize=32,insets={left=11;right=12;top=12;bottom=11}})textWindow:SetBackdropColor(0,0,0,1)textWindow:SetMovable(true)textWindow:EnableMouse(true)textWindow:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")textWindow:SetScript("\079\110\068\114\097\103\083\116\097\114\116",function(A)A:StartMoving()end)textWindow:SetScript("\079\110\068\114\097\103\083\116\111\112",function(A)A:StopMovingOrSizing()u(A)testQ.textWinX,testQ.textWinY=A:GetCenter()end)textWindow.textLabel=textWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")textWindow.textLabel:SetPoint("\067\069\078\084\069\082",textWindow,"\067\069\078\084\069\082",0,0)textWindow.textLabel:SetText(A)local V=textWindow.textLabel:GetStringWidth()local J=textWindow.textLabel:GetStringHeight()local O=20 textWindow:SetSize(V+O,J+O)if testQ.textWinX and testQ.textWinY then textWindow:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",testQ.textWinX,testQ.textWinY)else textWindow:SetPoint("\082\073\071\072\084",btn[973],"\076\069\070\084",0,0)end end function HideTextWindow()if textWindow then textWindow:Hide()end end function ShowTextWindow()if textWindow then textWindow:Show()end end function DestroyTextWindow()if textWindow then textWindow:Hide()textWindow:ClearAllPoints()textWindow:SetParent(nil)textWindow=nil end end function CreateListUI()local A=CreateFrame("\070\114\097\109\101","\084\101\115\116\076\105\115\116\070\114\097\109\101",UIParent)A:SetSize(400,500)A:SetPoint("\067\069\078\084\069\082")A:SetMovable(true)A:EnableMouse(true)A:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")A:SetScript("\079\110\068\114\097\103\083\116\097\114\116",A.StartMoving)A:SetScript("\079\110\068\114\097\103\083\116\111\112",A.StopMovingOrSizing)A:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100",edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114";tile=true,tileSize=32;edgeSize=32,insets={left=11,right=12;top=12;bottom=11}})local V=CreateFrame("\066\117\116\116\111\110",nil,A,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")V:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)V:SetScript("\079\110\067\108\105\099\107",function()A:Hide()end)local J=A:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")J:SetPoint("\084\079\080",0,-20)J:SetText("\208\163\208\191\209\128\208\176\208\178\208\187\208\181\208\189\208\184\208\181 \209\129\208\191\208\184\209\129\208\186\208\190\208\188")local O=CreateFrame("\069\100\105\116\066\111\120",nil,A,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")O:SetSize(200,30)O:SetPoint("\084\079\080",0,-60)O:SetAutoFocus(false)local u=CreateFrame("\066\117\116\116\111\110",nil,A,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")u:SetSize(100,30)u:SetPoint("\084\079\080\076\069\070\084",O,"\066\079\084\084\079\077\076\069\070\084",0,-20)u:SetText("\208\148\208\190\208\177\208\176\208\178\208\184\209\130\209\140")local Z=CreateFrame("\066\117\116\116\111\110",nil,A,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")Z:SetSize(100,30)Z:SetPoint("\084\079\080\082\073\071\072\084",O,"\066\079\084\084\079\077\082\073\071\072\084",0,-20)Z:SetText("\208\163\208\180\208\176\208\187\208\184\209\130\209\140")local w=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\084\101\115\116\083\099\114\111\108\108\070\114\097\109\101",A,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")w:SetSize(360,300)w:SetPoint("\084\079\080",u,"\066\079\084\084\079\077",0,-30)local H=_G.TestScrollFrameScrollBar H:SetPoint("\084\079\080\076\069\070\084",w,"\084\079\080\082\073\071\072\084",-12,-16)local D=CreateFrame("\070\114\097\109\101",nil,w)D:SetSize(335,0)w:SetScrollChild(D)testQ.fls=testQ.fls or{}D.entries={}local function F()local A=0 for A,V in ipairs(D.entries)do V:Hide()end for V,J in ipairs(testQ.fls)do if not D.entries[V]then local A=CreateFrame("\070\114\097\109\101",nil,D)A:SetSize(335,20)local J=A:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")J:SetPoint("\076\069\070\084",10,0)J:SetWidth(315)A.text=J D.entries[V]=A end local O=D.entries[V]O:SetPoint("\084\079\080\076\069\070\084",5,-A)O.text:SetText(J)O:Show()A=A+20 end D:SetHeight(math.max(A,1))w:UpdateScrollChildRect()H:SetValue(0)end u:SetScript("\079\110\067\108\105\099\107",function()local A=O:GetText()if A~=""then table.insert(testQ.fls,A)F()O:SetText("")end end)Z:SetScript("\079\110\067\108\105\099\107",function()local A=O:GetText()for V=#testQ.fls,1,-1 do if testQ.fls[V]==A then table.remove(testQ.fls,V)end end F()O:SetText("")end)F()end function SendGuildOfficerMessageWithBonus(A)local V=mysplit(A)local J=UnitName("\112\108\097\121\101\114")if#V<3 then return end local O=V[2]local u=table.concat(V," ",3)for A=1,GetNumGuildMembers(true),1 do local V,Z=GetGuildRosterInfo(A)if V==J then if Z=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"or Z=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"then SendChatMessage(u..(" \208\191\208\187\209\142\209\129 "..O),"\079\070\070\073\067\069\082",nil,1)SendAddonMessage("\110\115\071\080"..(" "..O),u,"\103\117\105\108\100")end SendAddonMessage("\110\115\071\080\108\111\103\082",O..(" "..u),"\103\117\105\108\100")break end end end GpDb_old={}GpDb_old.__index=GpDb_old function GpDb_old.new(V,A)local J={gp_data={};sort_column="\110\105\099\107",sort_ascending=true;visible_rows=20;selected_indices={};last_selected_index=nil,logData={}}setmetatable(J,V)J:_CreateWindow()J:_CreateRaidSelectionWindow()J:_CreateLogWindow()return J end function GpDb_old._CreateLogWindow(A)A.logWindow=CreateFrame("\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\087\105\110\100\111\119",A.window)A.logWindow:SetFrameStrata("\068\073\065\076\079\071")A.logWindow:SetSize(600,A.window:GetHeight())A.logWindow:SetPoint("\084\079\080\076\069\070\084",A.window,"\084\079\080\082\073\071\072\084",5,0)A.logWindow:SetMovable(false)A.logWindow:Hide()A.logWindow.background=A.logWindow:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")A.logWindow.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")A.logWindow.background:SetVertexColor(.1,.1,.1)A.logWindow.background:SetAlpha(.9)A.logWindow.background:SetAllPoints(true)A.logWindow.borderFrame=CreateFrame("\070\114\097\109\101",nil,A.logWindow)A.logWindow.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)A.logWindow.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)A.logWindow.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",edgeSize=16;insets={left=4;right=4,top=4,bottom=4}})A.logWindow.closeButton=CreateFrame("\066\117\116\116\111\110",nil,A.logWindow,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")A.logWindow.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)A.logWindow.closeButton:SetScript("\079\110\067\108\105\099\107",function()A.logWindow:Hide()end)A.logWindow.filters=CreateFrame("\070\114\097\109\101",nil,A.logWindow)A.logWindow.filters:SetPoint("\084\079\080\076\069\070\084",10,-5)A.logWindow.filters:SetPoint("\082\073\071\072\084",-10,0)A.logWindow.filters:SetHeight(30)A.logWindow.countFilter=CreateFrame("\069\100\105\116\066\111\120",nil,A.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.logWindow.countFilter:SetSize(60,20)A.logWindow.countFilter:SetPoint("\076\069\070\084",A.logWindow.filters,"\076\069\070\084")A.logWindow.countFilter:SetAutoFocus(false)A.logWindow.countFilter:SetText("\208\154\208\190\208\187-\208\178\208\190")A.logWindow.countFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.logWindow.countFilter:ClearFocus()end)A.logWindow.countFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.logWindow.countFilter:ClearFocus()A:UpdateLogDisplay()end)A.logWindow.timeFilter=CreateFrame("\069\100\105\116\066\111\120",nil,A.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.logWindow.timeFilter:SetSize(70,20)A.logWindow.timeFilter:SetPoint("\076\069\070\084",A.logWindow.countFilter,"\082\073\071\072\084",5,0)A.logWindow.timeFilter:SetAutoFocus(false)A.logWindow.timeFilter:SetText("\208\146\209\128\208\181\208\188\209\143")A.logWindow.timeFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.logWindow.timeFilter:ClearFocus()end)A.logWindow.timeFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.logWindow.timeFilter:ClearFocus()A:UpdateLogDisplay()end)A.logWindow.rlFilter=CreateFrame("\069\100\105\116\066\111\120",nil,A.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.logWindow.rlFilter:SetSize(70,20)A.logWindow.rlFilter:SetPoint("\076\069\070\084",A.logWindow.timeFilter,"\082\073\071\072\084",5,0)A.logWindow.rlFilter:SetAutoFocus(false)A.logWindow.rlFilter:SetText("\208\160\208\155")A.logWindow.rlFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.logWindow.rlFilter:ClearFocus()end)A.logWindow.rlFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.logWindow.rlFilter:ClearFocus()A:UpdateLogDisplay()end)A.logWindow.raidFilter=CreateFrame("\069\100\105\116\066\111\120",nil,A.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.logWindow.raidFilter:SetSize(100,20)A.logWindow.raidFilter:SetPoint("\076\069\070\084",A.logWindow.rlFilter,"\082\073\071\072\084",5,0)A.logWindow.raidFilter:SetAutoFocus(false)A.logWindow.raidFilter:SetText("\208\160\208\181\208\185\208\180")A.logWindow.raidFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.logWindow.raidFilter:ClearFocus()end)A.logWindow.raidFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.logWindow.raidFilter:ClearFocus()A:UpdateLogDisplay()end)A.logWindow.nameFilter=CreateFrame("\069\100\105\116\066\111\120",nil,A.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.logWindow.nameFilter:SetSize(100,20)A.logWindow.nameFilter:SetPoint("\076\069\070\084",A.logWindow.raidFilter,"\082\073\071\072\084",5,0)A.logWindow.nameFilter:SetAutoFocus(false)A.logWindow.nameFilter:SetText("\208\157\208\184\208\186")A.logWindow.nameFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.logWindow.nameFilter:ClearFocus()end)A.logWindow.nameFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.logWindow.nameFilter:ClearFocus()A:UpdateLogDisplay()end)A.logWindow.showButton=CreateFrame("\066\117\116\116\111\110",nil,A.logWindow.filters,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")A.logWindow.showButton:SetSize(80,22)A.logWindow.showButton:SetPoint("\076\069\070\084",A.logWindow.nameFilter,"\082\073\071\072\084",5,0)A.logWindow.showButton:SetText("\208\159\208\190\208\186\208\176\208\183\208\176\209\130\209\140")A.logWindow.showButton:SetScript("\079\110\067\108\105\099\107",function()local function V(A)if A:find("\037\115")then A=A:gsub("\037\115\043","\095")end return A end local J=V(A.logWindow.countFilter:GetText())local O=V(A.logWindow.timeFilter:GetText())local u=V(A.logWindow.rlFilter:GetText())local Z=V(A.logWindow.raidFilter:GetText())local w=V(A.logWindow.nameFilter:GetText())gpDb_old:ClearLog()SendAddonMessage("\078\083\083\104\111\119\077\101\076\111\103\115",J..(" "..(O..(" "..(u..(" "..(Z..(" "..w))))))),"\103\117\105\108\100")end)A.logWindow.scrollFrame=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\083\099\114\111\108\108\070\114\097\109\101",A.logWindow,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")A.logWindow.scrollFrame:SetPoint("\084\079\080\076\069\070\084",0,-35)A.logWindow.scrollFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",0,10)A.logWindow.scrollChild=CreateFrame("\070\114\097\109\101")A.logWindow.scrollChild:SetSize(580,1000)A.logWindow.scrollFrame:SetScrollChild(A.logWindow.scrollChild)A.logRows={}for V=1,50,1 do local J=CreateFrame("\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\082\111\119"..V,A.logWindow.scrollChild)J:SetSize(580,40)J:SetPoint("\084\079\080\076\069\070\084",0,-((V-1)*40))J.text=J:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")J.text:SetAllPoints(true)J.text:SetJustifyH("\076\069\070\084")J.text:SetJustifyV("\084\079\080")J.text:SetWordWrap(true)J.text:SetText("")A.logRows[V]=J end end function GpDb_old.ClearLog(A)A.logData={}A.logWindow.countFilter:SetText("\208\154\208\190\208\187-\208\178\208\190")A.logWindow.timeFilter:SetText("\208\146\209\128\208\181\208\188\209\143")A.logWindow.rlFilter:SetText("\208\160\208\155")A.logWindow.raidFilter:SetText("\208\160\208\181\208\185\208\180")A.logWindow.nameFilter:SetText("\208\157\208\184\208\186")A:UpdateLogDisplay()print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\155\208\190\208\179 \209\131\209\129\208\191\208\181\209\136\208\189\208\190 \208\190\209\135\208\184\209\137\208\181\208\189")end function GpDb_old._CreateWindow(A)A.window=CreateFrame("\070\114\097\109\101","\071\112\084\114\097\099\107\101\114\087\105\110\100\111\119",UIParent)A.window:SetFrameStrata("\068\073\065\076\079\071")A.window:SetSize(400,500)A.window:SetPoint("\076\069\070\084",5,100)A.window:SetMovable(true)A.window:EnableMouse(true)A.window:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")A.window:SetScript("\079\110\068\114\097\103\083\116\097\114\116",A.window.StartMoving)A.window:SetScript("\079\110\068\114\097\103\083\116\111\112",A.window.StopMovingOrSizing)A.window:Hide()A.window.background=A.window:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")A.window.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")A.window.background:SetVertexColor(0,0,0)A.window.background:SetAlpha(1)A.window.background:SetAllPoints(true)A.window.borderFrame=CreateFrame("\070\114\097\109\101",nil,A.window)A.window.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)A.window.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)A.window.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114";edgeSize=16;insets={left=4,right=4,top=4;bottom=4}})A.window.title=A.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.window.title:SetPoint("\084\079\080",0,-15)A.window.title:SetText("")A.window.closeButton=CreateFrame("\066\117\116\116\111\110",nil,A.window,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")A.window.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)A.window.closeButton:SetScript("\079\110\067\108\105\099\107",function()A.window:Hide()end)A.window.logButton=CreateFrame("\066\117\116\116\111\110",nil,A.window,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")A.window.logButton:SetSize(24,24)A.window.logButton:SetPoint("\082\073\071\072\084",A.window.closeButton,"\076\069\070\084",-5,0)A.window.logButton:SetText("\076")A.window.logButton:SetScript("\079\110\067\108\105\099\107",function()A:ToggleLogWindow()end)A.window.raidOnlyCheckbox=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,A.window,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")A.window.raidOnlyCheckbox:SetPoint("\084\079\080\076\069\070\084",10,-15)A.window.raidOnlyCheckbox:SetSize(24,24)A.window.raidOnlyCheckbox.text=A.window.raidOnlyCheckbox:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.window.raidOnlyCheckbox.text:SetPoint("\076\069\070\084",A.window.raidOnlyCheckbox,"\082\073\071\072\084",5,0)A.window.raidOnlyCheckbox.text:SetText("\208\162\208\190\208\187\209\140\208\186\208\190 \209\128\208\181\208\185\208\180")A.window.raidOnlyCheckbox:SetScript("\079\110\067\108\105\099\107",function()A:_UpdateFromGuild()A:UpdateWindow()end)A.window.scrollFrame=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\083\099\114\111\108\108\070\114\097\109\101",A.window,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")A.window.scrollFrame:SetPoint("\084\079\080\076\069\070\084",0,-40)A.window.scrollFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",0,40)A.window.scrollChild=CreateFrame("\070\114\097\109\101")A.window.scrollChild:SetSize(380,500)A.window.scrollFrame:SetScrollChild(A.window.scrollChild)A.window.scrollBar=_G[A.window.scrollFrame:GetName().."\083\099\114\111\108\108\066\097\114"]A.window.scrollBar:SetPoint("\084\079\080\076\069\070\084",A.window.scrollFrame,"\084\079\080\082\073\071\072\084",-20,-16)A.window.scrollBar:SetPoint("\066\079\084\084\079\077\076\069\070\084",A.window.scrollFrame,"\066\079\084\084\079\077\082\073\071\072\084",-20,16)A.window.countText=A.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.window.countText:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,10)A.window.countText:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,10)A.window.countText:SetJustifyH("\076\069\070\084")A.window.countText:SetText("")A.window.totalText=A.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.window.totalText:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,30)A.window.totalText:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,30)A.window.totalText:SetJustifyH("\076\069\070\084")A.window.totalText:SetText("")A:_SetupTable()end function GpDb_old._SetupTable(V)local J={"\208\157\208\184\208\186","\208\147\208\159"}for A,J in ipairs(J)do local O=CreateFrame("\066\117\116\116\111\110",nil,V.window.scrollChild)O:SetSize(A==1 and 290 or 50,20)O:SetPoint("\084\079\080\076\069\070\084",(A-1)*290+(A==2 and 10 or 0),0)O:SetNormalFontObject("\071\097\109\101\070\111\110\116\078\111\114\109\097\108")O:SetHighlightFontObject("\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")local u=O:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")u:SetAllPoints(true)u:SetText(J)O:SetScript("\079\110\067\108\105\099\107",function()V:SortData(J:lower())V:UpdateWindow()end)end V.rows={}for J=1,999,1 do local O=CreateFrame("\066\117\116\116\111\110","\071\112\068\098\095\111\108\100\082\111\119"..J,V.window.scrollChild)O:SetSize(350,20)O:SetPoint("\084\079\080\076\069\070\084",0,-25-(J-1)*25)O:EnableMouse(true)O:RegisterForClicks("\076\101\102\116\066\117\116\116\111\110\085\112","\082\105\103\104\116\066\117\116\116\111\110\085\112")O:SetHighlightTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056");(O:GetHighlightTexture()):SetVertexColor(.4,.4,.8,.4)O.selection=O:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")O.selection:SetAllPoints(true)O.selection:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")O.selection:SetVertexColor(.3,.3,.7,.7)O.selection:Hide()O.nick=O:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")O.nick:SetPoint("\076\069\070\084",10,0)O.nick:SetWidth(290)O.nick:SetJustifyH("\076\069\070\084")O.gp=O:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")O.gp:SetPoint("\082\073\071\072\084",5,0)O.gp:SetWidth(50)O.gp:SetJustifyH("\082\073\071\072\084")O.lastClickTime=0 O:SetScript("\079\110\067\108\105\099\107",function(u,Z,w)local H=FauxScrollFrame_GetOffset(V.window.scrollFrame)local D=J+H if not V.gp_data or not V.gp_data[D]then return end local F=GetTime()if Z=="\076\101\102\116\066\117\116\116\111\110"and(A()and F-O.lastClickTime<.5)then V:ClearSelection()for A=1,#V.gp_data,1 do V.selected_indices[A]=true end V.last_selected_index=D V:_UpdateSelectionCount()V:RefreshRowHighlights()V:UpdateRaidWindowVisibility()if V.raidWindow and V.raidWindow:IsShown()then V:_UpdateSelectedPlayersText()end O.lastClickTime=0 return end O.lastClickTime=F if Z=="\076\101\102\116\066\117\116\116\111\110"then local A=V.selected_indices[D]if IsShiftKeyDown()then if not V.last_selected_index then V:ClearSelection()V.selected_indices[D]=true V.last_selected_index=D else local A=math.min(V.last_selected_index,D)local J=math.max(V.last_selected_index,D)if not IsControlKeyDown()then V:ClearSelection()end for A=A,J,1 do if V.gp_data[A]then V.selected_indices[A]=true end end end elseif IsControlKeyDown()then V.selected_indices[D]=not A for A in pairs(V.selected_indices)do if not V.gp_data[A]then V.selected_indices[A]=nil end end if V.selected_indices[D]then V.last_selected_index=D else V.last_selected_index=nil for A in pairs(V.selected_indices)do if V.selected_indices[A]then V.last_selected_index=A break end end end else if A then V:ClearSelection()else V:ClearSelection()V.selected_indices[D]=true V.last_selected_index=D end end V:_UpdateSelectionCount()V:RefreshRowHighlights()V:UpdateRaidWindowVisibility()if V.raidWindow and V.raidWindow:IsShown()then V:_UpdateSelectedPlayersText()end end end)V.rows[J]=O end V.window:SetScript("\079\110\072\105\100\101",function()V:ClearSelection()if V.raidWindow and V.raidWindow:IsShown()then V.raidWindow:Hide()end if V.logWindow and V.logWindow:IsShown()then V.logWindow:Hide()end end)end function GpDb_old.ToggleLogWindow(A)if not A.logWindow then A:_CreateLogWindow()end if A.logWindow:IsShown()then A.logWindow:Hide()else A.logWindow:Show()A:UpdateLogDisplay()if A.raidWindow and A.raidWindow:IsShown()then A.logWindow:SetHeight(A.window:GetHeight()/2)else A.logWindow:SetHeight(A.window:GetHeight())end end end function GpDb_old.UpdateLogDisplay(A)if not A.logWindow or not A.logWindow:IsShown()then return end local V=0 local J={}for O,u in ipairs(A.logData)do local Z=A.logWindow.scrollChild:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")Z:SetWidth(580)Z:SetText(u.text)Z:SetWordWrap(true)local w=Z:GetStringHeight()+5 J[O]=w V=V+w Z:Hide()end local O=0 for V=1,#A.logRows,1 do local u=V if u<=#A.logData then local Z=A.logData[u]local w=J[u]A.logRows[V]:SetHeight(w)A.logRows[V]:SetPoint("\084\079\080\076\069\070\084",0,-O)A.logRows[V].text:SetText(Z.text)A.logRows[V]:Show()O=O+w else A.logRows[V]:Hide()end end A.logWindow.scrollChild:SetHeight(V)A.logWindow.scrollFrame:UpdateScrollChildRect()end function GpDb_old._UpdateSelectionCount(A)local V=0 for J,O in pairs(A.selected_indices)do if O and A.gp_data[J]then V=V+1 else A.selected_indices[J]=nil end end A.window.countText:SetText(string.format("\208\146\209\139\208\180\208\181\208\187\208\181\208\189\208\190\058 \037\100",V))if V==0 then A.last_selected_index=nil end return V end function GpDb_old.IsValidIndex(V,A)return A and(type(A)=="\110\117\109\098\101\114"and(V.gp_data and V.gp_data[A]))end function GpDb_old.RefreshRowHighlights(A)local V=FauxScrollFrame_GetOffset(A.window.scrollFrame)for J,O in ipairs(A.rows)do local u=J+V if u<=#A.gp_data then if A.selected_indices[u]then O.selection:Show();(O:GetHighlightTexture()):SetAlpha(.2)else O.selection:Hide();(O:GetHighlightTexture()):SetAlpha(.4)end end end local J=0 for A in pairs(A.selected_indices)do J=J+1 end A.window.countText:SetText(string.format("\208\146\209\139\208\180\208\181\208\187\208\181\208\189\208\190\058 \037\100",J))end function GpDb_old.ClearSelection(A)A.selected_indices={}A.last_selected_index=nil A:_UpdateSelectionCount()A:RefreshRowHighlights()A:UpdateRaidWindowVisibility()end function GpDb_old.GetSelectedEntries(A)local V={}for J,O in pairs(A.selected_indices)do if J<=#A.gp_data then table.insert(V,A.gp_data[J])end end return V end function GpDb_old.AddLogEntry(Z,A,V,J,O,u)if not Z.logWindow then Z:_CreateLogWindow()end local function w(A)if not A or type(A)~="\115\116\114\105\110\103"or A==""then return"\124\099\070\070\070\070\070\070\070\070"end for V=1,GetNumGuildMembers(),1 do local J,O,u,Z,w,H,D,F,g,I,x=GetGuildRosterInfo(V)if J and J==A then local A=RAID_CLASS_COLORS[x]if A then return string.format("\124\099\070\070\037\048\050\120\037\048\050\120\037\048\050\120",A.r*255,A.g*255,A.b*255)end break end end return"\124\099\070\070\070\070\070\070\070\070"end local H=tonumber(V)or 0 local D="\124\099\070\070\065\048\065\048\065\048"..((A or"\063\063\058\063\063").."\124\114")local F=w(J)..((J or"\208\157\208\181\208\184\208\183\208\178\208\181\209\129\209\130\208\189\208\190").."\124\114")local g=H>=0 and"\124\099\070\070\048\048\070\070\048\048"or"\124\099\070\070\070\070\048\048\048\048"local I=g..(tostring(H).."\124\114")local x="\124\099\070\070\070\070\070\070\048\048"..((O or"\208\157\208\181\208\184\208\183\208\178\208\181\209\129\209\130\208\189\208\190").."\124\114")local function c(A)if not A or type(A)~="\115\116\114\105\110\103"then return A end for V=1,GetNumGuildMembers(),1 do local J,O,u,Z,w,H,D,F=GetGuildRosterInfo(V)if J and F then local V={}for A in F:gmatch("\037\083\043")do table.insert(V,A)end if#V>=2 and V[2]==A then return J end end end return A end local h={}if type(u)=="\115\116\114\105\110\103"then for A in u:gmatch("\037\083\043")do local V=c(A)table.insert(h,w(V)..(V.."\124\114"))end end local E=table.concat(h," ")local a=string.format("\037\115 \124 \037\115 \124 \037\115 \124 \037\115 \124 \037\115",D,F,I,x,E)table.insert(Z.logData,{text=a,raw={time=A;rl=J,gp=H,raid=O;targets=u}})if#Z.logData>200 then table.remove(Z.logData,1)end if Z.logWindow and Z.logWindow:IsShown()then Z:UpdateLogDisplay()Z.logWindow.scrollFrame:SetVerticalScroll(Z.logWindow.scrollFrame:GetVerticalScrollRange())end end function GpDb_old.UpdateRaidWindowVisibility(V)if not V.raidWindow then return end local J=V:_CheckOfficerRank()if not J then if V.raidWindow:IsShown()then V.raidWindow:Hide()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end return end local O=next(V.selected_indices)~=nil if not O then if V.raidWindow:IsShown()then V.raidWindow:Hide()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end return end local u=A()local Z=V.window.raidOnlyCheckbox:GetChecked()local w=not u or Z if w and u then local A={}for V=1,GetNumGroupMembers(),1 do local J=GetRaidRosterInfo(V)if J then A[J]=true end end for J in pairs(V.selected_indices)do local O=V.gp_data[J]if O and not A[O.original_nick]then w=false print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\208\181\208\186\208\190\209\130\208\190\209\128\209\139\208\181 \208\178\209\139\208\180\208\181\208\187\208\181\208\189\208\189\209\139\208\181 \208\184\208\179\209\128\208\190\208\186\208\184 \208\189\208\181 \208\178 \209\128\208\181\208\185\208\180\208\181")break end end end if w then if not V.raidWindow:IsShown()then V.raidWindow:Show()V:RestoreRaidWindowState()V:_UpdateSelectedPlayersText()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight()/2)end end else if V.raidWindow:IsShown()then V.raidWindow:Hide()end if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end end function GpDb_old.UpdateWindow(A)if not A.window or not A.rows then return end local V=FauxScrollFrame_GetOffset(A.window.scrollFrame)for J=1,A.visible_rows,1 do local O=A.rows[J]local u=J+V if u<=#A.gp_data then local V=A.gp_data[u]O.nick:SetText(V.nick)O.gp:SetText(tostring(V.gp))if V.classColor then O.nick:SetTextColor(V.classColor.r,V.classColor.g,V.classColor.b)else O.nick:SetTextColor(1,1,1)end O:Show()else O:Hide()end end A:RefreshRowHighlights()FauxScrollFrame_Update(A.window.scrollFrame,#A.gp_data,A.visible_rows,25)A:UpdateRaidWindowVisibility()end function GpDb_old.GetNumSelected(A)local V=0 for J in pairs(A.selected_indices)do if A.gp_data[J]then V=V+1 else A.selected_indices[J]=nil end end print(string.format("\071\101\116\078\117\109\083\101\108\101\099\116\101\100\058 \208\189\208\176\208\185\208\180\208\181\208\189\208\190 \037\100 \209\141\208\187\208\181\208\188\208\181\208\189\209\130\208\190\208\178",V))return V end function GpDb_old.Show(V)V.window:Show()V.window.raidOnlyCheckbox:SetChecked(A())V:_UpdateFromGuild()V:UpdateWindow()end function GpDb_old.Hide(A)A.window:Hide()end function GpDb_old._UpdateFromGuild(V)V.gp_data={}local J=0 local O=GetNumGuildMembers()local u=A()V.window.raidOnlyCheckbox:SetChecked(u)local Z=u and V.window.raidOnlyCheckbox:GetChecked()if not IsInGuild()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\146\209\139 \208\189\208\181 \209\129\208\190\209\129\209\130\208\190\208\184\209\130\208\181 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184")V:UpdateWindow()return end GuildRoster()C_Timer(.5,function()local A={}for V=1,GetNumGuildMembers(),1 do local J,O,u,Z,w,H,D,F,g,I,x=GetGuildRosterInfo(V)if J then local V=nil if F then local A={}for V in F:gmatch("\037\083\043")do table.insert(A,V)end if#A>=2 then V=A[2]end end A[J]={publicNote=D,officerNote=F,classFileName=x;playerID=V}end end if Z then local u=GetNumGroupMembers()local Z=true local w={}for V=1,u,1 do local J,O,u,H,D,F,g,I,x,c,h,E,a,Q,y,e,B,G=GetRaidRosterInfo(V)if J then local V=J:match("\094\040\046-\041-")or J if not A[V]then Z=false table.insert(w,J)end end end if not Z then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\146 \209\128\208\181\208\185\208\180\208\181 \208\181\209\129\209\130\209\140 \208\189\208\181 \209\135\208\187\208\181\208\189\209\139 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\058 "..table.concat(w,"\044 "))V.window.countText:SetText("\208\158\209\130\208\190\208\177\209\128\208\176\208\182\208\176\208\181\209\130\209\129\209\143 \208\184\208\179\209\128\208\190\208\186\208\190\208\178\058 \048 \040\208\178 \209\128\208\181\208\185\208\180\208\181 \208\181\209\129\209\130\209\140 \208\189\208\181 \209\135\208\187\208\181\208\189\209\139 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041")V.window.totalText:SetText(string.format("\208\146\209\129\208\181\208\179\208\190 \208\184\208\179\209\128\208\190\208\186\208\190\208\178 \209\129 \208\147\208\159\058 \037\100 \040\208\184\208\183 \037\100 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041",J,O))V:UpdateWindow()return end for O=1,u,1 do local u,Z,w,H,D,F=GetRaidRosterInfo(O)if u then local O=u:match("\094\040\046-\041-")or u local Z=A[O]if Z then local A=0 local O=Z.publicNote or""if Z.officerNote then local V={}for A in Z.officerNote:gmatch("\037\083\043")do table.insert(V,A)end if#V>=3 then A=tonumber(V[3])or 0 end end if A>0 then J=J+1 end local w=u if O and O~=""then w=u..(" \124\099\070\070\070\070\070\070\048\048\040"..(O.."\041\124\114"))end table.insert(V.gp_data,{nick=w;original_nick=u;gp=A;classColor=RAID_CLASS_COLORS[F]or{r=1;g=1;b=1},classFileName=F;playerID=Z.playerID})end end end else for A=1,GetNumGuildMembers(),1 do local O,u,Z,w,H,D,F,g,I,x,c=GetGuildRosterInfo(A)if O and(g and g~="")then local A={}for V in g:gmatch("\037\083\043")do table.insert(A,V)end if#A>=3 then local u=tonumber(A[3])or 0 local Z=A[2]if u~=0 then J=J+1 local A=O if F and F~=""then A=O..(" \124\099\070\070\070\070\070\070\048\048\040"..(F.."\041\124\114"))end table.insert(V.gp_data,{nick=A;original_nick=O,gp=u,classColor=RAID_CLASS_COLORS[c]or{r=1;g=1,b=1};classFileName=c,playerID=Z})end end end end end V.window.countText:SetText(string.format("\208\158\209\130\208\190\208\177\209\128\208\176\208\182\208\176\208\181\209\130\209\129\209\143 \208\184\208\179\209\128\208\190\208\186\208\190\208\178\058 \037\100",#V.gp_data))V.window.totalText:SetText(string.format("\208\146\209\129\208\181\208\179\208\190 \208\184\208\179\209\128\208\190\208\186\208\190\208\178 \209\129 \208\147\208\159\058 \037\100 \040\208\184\208\183 \037\100 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041",J,GetNumGuildMembers()))V:ClearSelection()V:SortData()V:UpdateWindow()end)end function GpDb_old.Show(V)V.window:Show()if A()then V.window.raidOnlyCheckbox:SetChecked(true)else V.window.raidOnlyCheckbox:SetChecked(false)end GuildRoster()C_Timer(.5,function()V:_UpdateFromGuild()V:UpdateWindow()end)end function GpDb_old.AddGpEntry(O,A,V,J)table.insert(O.gp_data,{nick=A,original_nick=A;gp=tonumber(V)or 0,playerID=J})O:SortData()O:UpdateWindow()end function GpDb_old.UpdateGpEntry(J,A,V)for J,O in ipairs(J.gp_data)do if O.original_nick==A then O.gp=tonumber(V)or 0 break end end J:SortData()J:UpdateWindow()end function GpDb_old.RemoveGpEntry(V,A)for J,O in ipairs(V.gp_data)do if O.original_nick==A then table.remove(V.gp_data,J)break end end V:UpdateWindow()end function GpDb_old.FindGpEntry(V,A)for V,J in ipairs(V.gp_data)do if J.original_nick==A then return J.gp end end return nil end function GpDb_old.ClearAll(A)A.gp_data={}A:UpdateWindow()end function GpDb_old.SortData(V,A)if A then if V.sort_column==A then V.sort_ascending=not V.sort_ascending else V.sort_column=A V.sort_ascending=true end end table.sort(V.gp_data,function(A,J)local O,u if V.sort_column=="\110\105\099\107"then O=string.lower(string.lower(A.original_nick or""))u=string.lower(string.lower(J.original_nick or""))else O=A.gp or 0 u=J.gp or 0 end if V.sort_ascending then return O<u else return O>u end end)V:ClearSelection()V:UpdateWindow()end function GpDb_old.UpdateWindow(A)if not A.window or not A.rows then return end for V,J in ipairs(A.rows)do local O=A.gp_data[V]if O then J.nick:SetText(O.nick)if O.classColor then local A=O.nick:match("\094\091\094\124\093\043")or O.nick J.nick:SetText(A)J.nick:SetTextColor(O.classColor.r,O.classColor.g,O.classColor.b)local V=O.nick:match("\124\099\046\043\036")if V then local A=J.nick:GetText()..(" "..V)J.nick:SetText(A)end else J.nick:SetTextColor(1,1,1)end J.gp:SetText(tostring(O.gp))J.gp:SetTextColor(1,1,1)J:Show()else J:Hide()end end A.window.scrollChild:SetHeight(#A.gp_data*25)A.window.scrollFrame:UpdateScrollChildRect()end function GpDb_old.SaveToNsDb(A)for V,J in ipairs(A.gp_data)do A.ns_db:addStaticStr("\071\080\095\068\065\084\065",J.original_nick,nil,tostring(J.gp))end end function GpDb_old.LoadFromNsDb(A)A.gp_data={}local V=A.ns_db.input_table.GP_DATA if V then for V,J in pairs(V)do table.insert(A.gp_data,{nick=V;original_nick=V,gp=tonumber(J)or 0})end end A:SortData()A:UpdateWindow()end function GpDb_old._CreateRaidSelectionWindow(A)A.raidWindow=CreateFrame("\070\114\097\109\101","\071\112\068\098\082\097\105\100\087\105\110\100\111\119",A.window)A.raidWindow:SetFrameStrata("\068\073\065\076\079\071")A.raidWindow:SetSize(250,A.window:GetHeight()*.5)A.raidWindow:SetPoint("\066\079\084\084\079\077\076\069\070\084",A.window,"\066\079\084\084\079\077\082\073\071\072\084",5,0)A.raidWindow:SetMovable(false)A.raidWindow.background=A.raidWindow:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")A.raidWindow.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")A.raidWindow.background:SetVertexColor(0,0,0)A.raidWindow.background:SetAlpha(1)A.raidWindow.background:SetAllPoints(true)A.raidWindow.borderFrame=CreateFrame("\070\114\097\109\101",nil,A.raidWindow)A.raidWindow.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)A.raidWindow.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)A.raidWindow.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",edgeSize=16;insets={left=4;right=4,top=4,bottom=4}})A.raidWindow.closeButton=CreateFrame("\066\117\116\116\111\110",nil,A.raidWindow,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")A.raidWindow.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)A.raidWindow.closeButton:SetScript("\079\110\067\108\105\099\107",function()A.raidWindow:Hide()end)A.raidWindow.dropdown=CreateFrame("\070\114\097\109\101","\071\112\068\098\082\097\105\100\068\114\111\112\100\111\119\110",A.raidWindow,"\085\073\068\114\111\112\068\111\119\110\077\101\110\117\084\101\109\112\108\097\116\101")A.raidWindow.dropdown:SetPoint("\084\079\080\076\069\070\084",10,-10)A.raidWindow.dropdown:SetPoint("\082\073\071\072\084",A.raidWindow.closeButton,"\076\069\070\084",-10,0)A.raidWindow.dropdown:SetHeight(32)local function V()if A.raidWindow.selectedRaidId then for V=1,GetNumSavedInstances(),1 do local J,O=GetSavedInstanceInfo(V)if O==A.raidWindow.selectedRaidId then UIDropDownMenu_SetText(A.raidWindow.dropdown,string.format("\037\100\058 \037\115",O,J))return end end else UIDropDownMenu_SetText(A.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")end end local function J(J,O,u)local Z=UIDropDownMenu_CreateInfo()for J=1,GetNumSavedInstances(),1 do local O,u,w,H,D,F,g,I,x=GetSavedInstanceInfo(J)if O and u then Z.text=string.format("\037\100\058 \037\115 \040\037\100\041",u,O,x)Z.arg1={id=u,name=O,players=x}Z.func=function(J,O)A.raidWindow.selectedRaidId=O.id A.raidWindow.selectedRaidName=O.name A.raidWindow.selectedRaidPlayers=O.players if A.saveSelectionEnabled then A.lastSelectionType="\114\097\105\100"A.lastRaidId=O.id A.lastRaidName=O.name A.lastRaidPlayers=O.players end V()A.raidWindow.editBox:SetText("")end Z.checked=A.raidWindow.selectedRaidId==u UIDropDownMenu_AddButton(Z)end end Z.text="\208\158\209\135\208\184\209\129\209\130\208\184\209\130\209\140 \208\178\209\139\208\177\208\190\209\128"Z.func=function()A.raidWindow.selectedRaidId=nil A.raidWindow.selectedRaidName=nil if A.saveSelectionEnabled then A.lastSelectionType=nil A.lastRaidId=nil A.lastRaidName=nil A.lastRaidPlayers=0 end V()end Z.notCheckable=true UIDropDownMenu_AddButton(Z)end UIDropDownMenu_Initialize(A.raidWindow.dropdown,J)UIDropDownMenu_SetWidth(A.raidWindow.dropdown,200)UIDropDownMenu_SetButtonWidth(A.raidWindow.dropdown,224)UIDropDownMenu_JustifyText(A.raidWindow.dropdown,"\076\069\070\084")V()A.raidWindow.otherText=A.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.raidWindow.otherText:SetPoint("\084\079\080\076\069\070\084",A.raidWindow.dropdown,"\066\079\084\084\079\077\076\069\070\084",0,-10)A.raidWindow.otherText:SetText("\208\148\209\128\209\131\208\179\208\190\208\181\058")A.raidWindow.editBox=CreateFrame("\069\100\105\116\066\111\120",nil,A.raidWindow,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.raidWindow.editBox:SetPoint("\084\079\080\076\069\070\084",A.raidWindow.otherText,"\066\079\084\084\079\077\076\069\070\084",0,-5)A.raidWindow.editBox:SetPoint("\082\073\071\072\084",-10,0)A.raidWindow.editBox:SetHeight(20)A.raidWindow.editBox:SetAutoFocus(false)A.raidWindow.editBox:SetScript("\079\110\084\101\120\116\067\104\097\110\103\101\100",function(J)if J:GetText()~=""then if A.saveSelectionEnabled then A.lastSelectionType="\111\116\104\101\114"A.lastOtherText=J:GetText()end A.raidWindow.selectedRaidId=nil A.raidWindow.selectedRaidName=nil V()end end)A.raidWindow.saveCheckbox=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,A.raidWindow,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")A.raidWindow.saveCheckbox:SetPoint("\084\079\080\076\069\070\084",A.raidWindow.editBox,"\066\079\084\084\079\077\076\069\070\084",0,-10)A.raidWindow.saveCheckbox:SetSize(24,24)A.raidWindow.saveCheckbox.text=A.raidWindow.saveCheckbox:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")A.raidWindow.saveCheckbox.text:SetPoint("\076\069\070\084",A.raidWindow.saveCheckbox,"\082\073\071\072\084",5,0)A.raidWindow.saveCheckbox.text:SetText("\208\161\208\190\209\133\209\128\208\176\208\189\208\184\209\130\209\140 \208\178\209\139\208\177\208\190\209\128")A.raidWindow.saveCheckbox:SetChecked(true)A.saveSelectionEnabled=true A.raidWindow.saveCheckbox:SetScript("\079\110\067\108\105\099\107",function()A.saveSelectionEnabled=A.raidWindow.saveCheckbox:GetChecked()end)A.raidWindow.selectedPlayersText=A.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")A.raidWindow.selectedPlayersText:SetPoint("\084\079\080\076\069\070\084",A.raidWindow.saveCheckbox,"\066\079\084\084\079\077\076\069\070\084",0,-5)A.raidWindow.selectedPlayersText:SetPoint("\082\073\071\072\084",-10,0)A.raidWindow.selectedPlayersText:SetHeight(70)A.raidWindow.selectedPlayersText:SetJustifyH("\076\069\070\084")A.raidWindow.selectedPlayersText:SetJustifyV("\084\079\080")A.raidWindow.selectedPlayersText:SetWordWrap(true)local O={5;10;20,25,50,100}local u for V,J in ipairs(O)do local O=CreateFrame("\066\117\116\116\111\110",nil,A.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")O:SetSize(27,20)O:SetText(tostring(J))if V==1 then O:SetPoint("\066\079\084\084\079\077\076\069\070\084",A.raidWindow.selectedPlayersText,"\066\079\084\084\079\077\076\069\070\084",0,-20)else O:SetPoint("\076\069\070\084",u,"\082\073\071\072\084",5,0)end O:SetScript("\079\110\067\108\105\099\107",function()local V=tonumber(A.raidWindow.gpEditBox:GetText())or 0 A.raidWindow.gpEditBox:SetText(tostring(J))A.raidWindow.gpEditBox:HighlightText()end)u=O end local Z=CreateFrame("\066\117\116\116\111\110",nil,A.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")Z:SetSize(40,22)Z:SetText("-\047\043")Z:SetPoint("\076\069\070\084",u,"\082\073\071\072\084",5,0)Z:SetScript("\079\110\067\108\105\099\107",function()local V=tonumber(A.raidWindow.gpEditBox:GetText())or 0 A.raidWindow.gpEditBox:SetText(tostring(-V))A.raidWindow.gpEditBox:HighlightText()end)A.raidWindow.gpEditBox=CreateFrame("\069\100\105\116\066\111\120",nil,A.raidWindow,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")A.raidWindow.gpEditBox:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,5)A.raidWindow.gpEditBox:SetSize(100,20)A.raidWindow.gpEditBox:SetAutoFocus(false)A.raidWindow.gpEditBox:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()A.raidWindow.gpEditBox:ClearFocus()end)A.raidWindow.gpEditBox:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()A.raidWindow.gpEditBox:ClearFocus()end)A.raidWindow.awardButton=CreateFrame("\066\117\116\116\111\110",nil,A.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")A.raidWindow.awardButton:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,5)A.raidWindow.awardButton:SetSize(100,22)A.raidWindow.awardButton:SetText("\208\157\208\176\209\135\208\184\209\129\208\187\208\184\209\130\209\140")A.raidWindow.awardButton:SetScript("\079\110\067\108\105\099\107",function()if not A:_CheckOfficerRank()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\162\208\190\208\187\209\140\208\186\208\190 \208\190\209\132\208\184\209\134\208\181\209\128\209\139 \208\188\208\190\208\179\209\131\209\130 \208\189\208\176\209\135\208\184\209\129\208\187\209\143\209\130\209\140 \208\147\208\159")A.raidWindow:Hide()return end if next(A.selected_indices)==nil then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\208\181\209\130 \208\178\209\139\208\180\208\181\208\187\208\181\208\189\208\189\209\139\209\133 \208\184\208\179\209\128\208\190\208\186\208\190\208\178")A.raidWindow:Hide()return end local V=tonumber(A.raidWindow.gpEditBox:GetText())if not V then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\163\208\186\208\176\208\182\208\184\209\130\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181 \208\147\208\159")return end if not A.raidWindow.selectedRaidId and not(A.lastOtherText or""):match("\037\083")then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\209\131\208\182\208\189\208\190 \208\178\209\139\208\177\209\128\208\176\209\130\209\140 \209\128\208\181\208\185\208\180 \208\184\208\187\208\184 \209\131\208\186\208\176\208\183\208\176\209\130\209\140 \208\191\209\128\208\184\209\135\208\184\208\189\209\131")return end if not A.saveSelectionEnabled then A.lastSelectionType=nil A.lastRaidId=nil A.lastRaidName=nil A.lastRaidPlayers=0 A.lastOtherText=nil A.lastGPValue=0 else A.lastGPValue=V end local J if A.raidWindow.selectedRaidId then local O=(A.raidWindow.selectedRaidName or""):gsub("\037\115\043","\095")J=string.format("\037\048\052\100\095\037\115\095\037\100 \037\100",A.raidWindow.selectedRaidId,O,A.raidWindow.selectedRaidPlayers or 0,V)else local O=(A.lastOtherText or""):gsub("\037\115\043","\095")J=string.format("\037\115 \037\100",O,V)end for O in pairs(A.selected_indices)do if A.gp_data[O]then local u=A.gp_data[O].original_nick local Z=A.gp_data[O].playerID or"\085\078\075\078\079\087\078"SendAddonMessage("\110\115\071\080"..(" "..V),u,"\103\117\105\108\100")J=J..(" "..Z)A:AddLogEntry(V,date("\037\072\058\037\077"),UnitName("\112\108\097\121\101\114"),A.raidWindow.selectedRaidName or A.raidWindow.editBox:GetText(),u)end end SendAddonMessage("\110\115\071\080\108\111\103",J,"\103\117\105\108\100")for A,J in ipairs(A:GetSelectedEntries())do J.gp=(J.gp or 0)+V end A:UpdateWindow()A.raidWindow:Hide()end)A.raidWindow:SetScript("\079\110\072\105\100\101",function()if A.logWindow and A.logWindow:IsShown()then A.logWindow:SetHeight(A.window:GetHeight())end end)A.raidWindow:Hide()end function GpDb_old._UpdateSelectedPlayersText(A)if not A.raidWindow then return end local V=A:GetSelectedEntries()local J={}for A,V in ipairs(V)do table.insert(J,V.original_nick)end local O=table.concat(J,"\044 ")if not A.raidWindow.selectedPlayersText then A.raidWindow.selectedPlayersText=A.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")A.raidWindow.selectedPlayersText:SetPoint("\084\079\080\076\069\070\084",A.raidWindow.saveCheckbox,"\066\079\084\084\079\077\076\069\070\084",0,-5)A.raidWindow.selectedPlayersText:SetPoint("\082\073\071\072\084",-10,0)A.raidWindow.selectedPlayersText:SetHeight(80)A.raidWindow.selectedPlayersText:SetJustifyH("\076\069\070\084")A.raidWindow.selectedPlayersText:SetJustifyV("\084\079\080")A.raidWindow.selectedPlayersText:SetWordWrap(true)A.raidWindow.selectedPlayersTextContainer=CreateFrame("\070\114\097\109\101",nil,A.raidWindow)A.raidWindow.selectedPlayersTextContainer:SetAllPoints(A.raidWindow.selectedPlayersText)A.raidWindow.selectedPlayersTextContainer:SetScript("\079\110\069\110\116\101\114",function()if A.raidWindow.selectedPlayersText.tooltip then GameTooltip:SetOwner(A.raidWindow.selectedPlayersTextContainer,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:SetText("\208\146\209\139\208\177\209\128\208\176\208\189\208\189\209\139\208\181 \208\184\208\179\209\128\208\190\208\186\208\184\058")GameTooltip:AddLine(A.raidWindow.selectedPlayersText.tooltip,1,1,1,true)GameTooltip:Show()end end)A.raidWindow.selectedPlayersTextContainer:SetScript("\079\110\076\101\097\118\101",function()GameTooltip:Hide()end)end if#O>60 then local V=string.sub(O,1,600).."\046\046\046"A.raidWindow.selectedPlayersText:SetText(V)A.raidWindow.selectedPlayersText.tooltip=O else A.raidWindow.selectedPlayersText:SetText(O)A.raidWindow.selectedPlayersText.tooltip=nil end end function GpDb_old.RestoreRaidWindowState(A)if not A.raidWindow then return end if A.lastSelectionType=="\114\097\105\100"and A.lastRaidId then UIDropDownMenu_SetText(A.raidWindow.dropdown,string.format("\037\100\058 \037\115",A.lastRaidId,A.lastRaidName))A.raidWindow.editBox:SetText("")A.raidWindow.selectedRaidId=A.lastRaidId A.raidWindow.selectedRaidName=A.lastRaidName A.raidWindow.selectedRaidPlayers=A.lastRaidPlayers elseif A.lastSelectionType=="\111\116\104\101\114"and A.lastOtherText then UIDropDownMenu_SetText(A.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")A.raidWindow.editBox:SetText(A.lastOtherText)A.raidWindow.selectedRaidId=nil A.raidWindow.selectedRaidName=nil else UIDropDownMenu_SetText(A.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")A.raidWindow.editBox:SetText("")A.raidWindow.selectedRaidId=nil A.raidWindow.selectedRaidName=nil end if not A.lastGPValue then A.lastGPValue=0 end A.raidWindow.gpEditBox:SetText(tostring(A.lastGPValue))A.raidWindow.saveCheckbox:SetChecked(A.saveSelectionEnabled)A:_UpdateSelectedPlayersText()end function GpDb_old._CheckOfficerRank(A)if not IsInGuild()then return false end local V=UnitName("\112\108\097\121\101\114")for A=1,GetNumGuildMembers(),1 do local J,O,u=GetGuildRosterInfo(A)if J and J==V then local A=GuildControlGetRankName(u+1)if A=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"or A=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"then return true end break end end return false end function GpDb_old.ToggleRaidWindow(V)if not V:_CheckOfficerRank()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\162\208\190\208\187\209\140\208\186\208\190 \208\190\209\132\208\184\209\134\208\181\209\128\209\139 \208\188\208\190\208\179\209\131\209\130 \208\189\208\176\209\135\208\184\209\129\208\187\209\143\209\130\209\140 \208\147\208\159")if V.raidWindow and V.raidWindow:IsShown()then V.raidWindow:Hide()end return end if not V.raidWindow then V:_CreateRaidSelectionWindow()end local J=A()local O=V.window.raidOnlyCheckbox:GetChecked()local u=next(V.selected_indices)~=nil if not u and not V.raidWindow:IsShown()then V.raidWindow:Show()UIDropDownMenu_Initialize(V.raidWindow.dropdown,nil)return end if u then if J and not O then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\148\208\187\209\143 \208\189\208\176\209\135\208\184\209\129\208\187\208\181\208\189\208\184\209\143 \208\147\208\159 \208\178 \209\128\208\181\208\185\208\180\208\181 \208\178\208\186\208\187\209\142\209\135\208\184\209\130\208\181 \'\208\162\208\190\208\187\209\140\208\186\208\190 \209\128\208\181\208\185\208\180\'")V.raidWindow:Hide()return end if V.raidWindow:IsShown()then V.raidWindow:Hide()else V.raidWindow:Show()UIDropDownMenu_Initialize(V.raidWindow.dropdown,nil)end end end function C_Timer(A,V,J)local O=CreateFrame("\070\114\097\109\101")O.duration=A O.elapsed=0 O.isLooping=J or false O:SetScript("\079\110\085\112\100\097\116\101",function(A,J)A.elapsed=A.elapsed+J if A.elapsed>=A.duration then if type(V)=="\102\117\110\099\116\105\111\110"then V()end if A.isLooping then A.elapsed=0 else A:SetScript("\079\110\085\112\100\097\116\101",nil)A=nil end end end)end function GetNumGroupMembers()if GetNumRaidMembers()>0 then return GetNumRaidMembers()else return GetNumPartyMembers()+1 end end