function mysplit(H,V)if V==nil then V="\037\115"end local c={}for H in string.gmatch(H,"\040\091\094"..(V.."\093\043\041"))do table.insert(c,H)end return c end local function H()return GetNumRaidMembers()>0 end function round(H)if(H-H%.1)-(H-H%1)<.5 then H=H-H%1 else H=(H-H%1)+1 end return H end function nsplit(H)lines={}for H in H:gmatch("\091\094\r\n\093\043")do table.insert(lines,H)end return lines end function all_trim(H)return H:match("\094\037\115\042\040\046-\041\037\115\042\036")end function kirTest(H,V)test1=H:sub(V,V)testN=H:byte(7)testN=tonumber(testN)if testN==208 then r=H:sub(V*2-1,V*2)else r=test1 end return r end function alfabet(H)shablon="\208\176\208\177\208\178\208\179\208\180\208\181\209\145\208\182\208\183\208\184\208\185\208\186\208\187\208\188\208\189\208\190\208\191\209\128\209\129\209\130\209\131\209\132\209\133\209\134\209\135\209\136\209\137\209\138\209\139\209\140\209\141\209\142\209\143\208\144\208\145\208\146\208\147\208\148\208\149\208\129\208\150\208\151\208\152\208\153\208\154\208\155\208\156\208\157\208\158\208\159\208\160\208\161\208\162\208\163\208\164\208\165\208\166\208\167\208\168\208\169\208\170\208\171\208\172\208\173\208\174\208\175\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"myB=string.find(shablon,H,1,true)return myB end function alfabetC(H,V)shablon="\208\176\208\177\208\178\208\179\208\180\208\181\209\145\208\182\208\183\208\184\208\185\208\186\208\187\208\188\208\189\208\190\208\191\209\128\209\129\209\130\209\131\209\132\209\133\209\134\209\135\209\136\209\137\209\138\209\139\209\140\209\141\209\142\209\143\208\144\208\145\208\146\208\147\208\148\208\149\208\129\208\150\208\151\208\152\208\153\208\154\208\155\208\156\208\157\208\158\208\159\208\160\208\161\208\162\208\163\208\164\208\165\208\166\208\167\208\168\208\169\208\170\208\171\208\172\208\173\208\174\208\175\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"local c if V==0 then c=string.find(shablon,H,1,true)end if V==1 then if H<133 then c=string.utf8sub(shablon,H/2+.5,H/2+.5)else c=string.sub(shablon,H,H)end end return c end function hashStr(H)local V=time()V=V%10000 V=tostring(V)V=string.utf8sub(V,2,3)V=string.format("\037\048\051\100",V)nomeLen=string.utf8len(H)nome1={}for V=1,nomeLen,1 do nome1[V]=string.utf8sub(H,V,V)tmNome=nome1[V]nome1[V]=alfabet(tmNome)end nome11=0 for H=1,nomeLen,1 do nome11=nome11+nome1[H]end nome11=nome11%1000 hNome=string.format("\037\048\051\100",nome11)iN=tostring(V)r1=string.utf8sub(iN,1,1)r2=string.utf8sub(hNome,1,1)r3=string.utf8sub(iN,2,2)r4=string.utf8sub(hNome,2,2)r5=string.utf8sub(iN,3,3)r6=string.utf8sub(hNome,3,3)r=r1 ..(r2 ..(r3 ..(r4 ..(r5 ..r6))))return r end function tablelength(H)local V=0 for H in pairs(H)do V=V+1 end return V end function getPOS(H,V)local c=(1-V)*668 local j=H*1002 return j,c end function hshStrNuovo(H,V)nomeLen=string.utf8len(V)nome1={}for H=1,nomeLen,1 do nome1[H]=string.utf8sub(V,H,H)tmNome=nome1[H]nome1[H]=alfabet(tmNome)end nome11=0 for H=1,nomeLen,1 do nome11=nome11+nome1[H]end nome11=nome11%1000 hNome=string.format("\037\048\051\100",nome11)local c=string.sub(H,2,2)local j=string.sub(H,4,4)local G=string.sub(H,6,6)local P=math.random(0,9)local k=math.random(0,9)local A=math.random(0,9)local Y=c..(j..G)local D=hashStr(V)local W=string.utf8sub(nome11,2,2)local n=string.utf8sub(nome11,4,4)local u=string.utf8sub(nome11,6,6)local l=W..(n..u)local B=P..(n..(k..(W..(A..u))))return Y,l,B end function hshStrNuovo(H,V)local c local j local G local P local k local A local Y local D local W local n local u local l local B c=string.utf8len(V)local r={}for H=1,c,1 do r[H]=string.utf8sub(V,H,H)j=r[H]r[H]=alfabet(j)end G=0 for H=1,c,1 do G=G+r[H]end G=G%1000 P=string.format("\037\048\051\100",G)k=string.sub(P,1,1)A=string.sub(P,2,2)Y=string.sub(P,3,3)D=string.sub(H,2,2)D=tonumber(D)if D==0 then W=string.sub(H,3,3)n=string.sub(H,4,4)u=string.sub(H,6,6)elseif D==1 then W=string.sub(H,4,4)n=string.sub(H,3,3)u=string.sub(H,6,6)elseif D==2 then W=string.sub(H,4,4)n=string.sub(H,6,6)u=string.sub(H,3,3)elseif D==3 then W=string.sub(H,3,3)n=string.sub(H,6,6)u=string.sub(H,4,4)elseif D==4 then W=string.sub(H,1,1)n=string.sub(H,6,6)u=string.sub(H,4,4)elseif D==5 then W=string.sub(H,1,1)n=string.sub(H,6,6)u=string.sub(H,3,3)elseif D==6 then W=string.sub(H,6,6)n=string.sub(H,1,1)u=string.sub(H,3,3)elseif D==7 then W=string.sub(H,6,6)n=string.sub(H,3,3)u=string.sub(H,1,1)elseif D==8 then W=string.sub(H,4,4)n=string.sub(H,5,5)u=string.sub(H,6,6)elseif D==9 then W=string.sub(H,5,5)n=string.sub(H,1,1)u=string.sub(H,3,3)end l=W..(n..u)B=k..(A..Y)return l,B end function hshSenderNomeC(H)local V local c local j local G local P local k local A local Y local D local W local n V=string.utf8len(H)c={}for V=1,V,1 do c[V]=string.utf8sub(H,V,V)tmNome=c[V]c[V]=alfabet(tmNome)end j=0 for H=1,V,1 do j=j+c[H]end j=j%1000 G=string.format("\037\048\051\100",j)P=string.sub(G,1,1)k=string.sub(G,2,2)A=string.sub(G,3,3)Y=math.random(0,9)D=math.random(0,9)W=math.random(0,9)if D==0 then n=Y..(D..(P..(k..(W..A))))elseif D==1 then n=Y..(D..(k..(P..(W..A))))elseif D==2 then n=Y..(D..(A..(P..(W..k))))elseif D==3 then n=Y..(D..(P..(A..(W..k))))elseif D==4 then n=P..(D..(Y..(A..(W..k))))elseif D==5 then n=P..(D..(A..(Y..(W..k))))elseif D==6 then n=k..(D..(A..(Y..(W..P))))elseif D==7 then n=A..(D..(k..(W..(Y..P))))elseif D==8 then n=Y..(D..(W..(P..(k..A))))elseif D==8 then n=P..(D..(A..(Y..(k..W))))elseif D==9 then n=k..(D..(A..(Y..(P..W))))end if testQ~=nil then if testQ[H]~=nil then if testQ[H].rarHSH1==nil then testQ[H].rarHSH1={}end if testQ[H].rarHSH==nil then testQ[H].rarHSH={}end testDate=date("\037\100")testDate=tonumber(testDate)if testDate%2==0 then tableHSH="\114\097\114\072\083\072"testQ[H].rarHSH1=nil else tableHSH="\114\097\114\072\083\072\049"testQ[H].rarHSH=nil end if n==testQ[H][tableHSH]then n=hshSenderNomeC(H)end table.insert(testQ[H][tableHSH],n)return n end end end function gmTest(H)local V for c=1,#gmList,1 do if H==gmList[c]then V="\208\179\208\188"break end c=c+1 end return V end function proverkaVypolneniyaKvestySachivkoj(H,V)local c=testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]if V=="\050"then V="\208\186\208\178\208\181\209\129\209\130\095\208\187\208\178\208\187\050"elseif V=="\051"then V="\208\186\208\178\208\181\209\129\209\130\095\208\187\208\178\208\187\051"end local G=testQ[H][V][c]G=tonumber(G)local P=GetAchievementNumCriteria(c)j=0 k=0 for H=1,P,1 do local V,G,P,A,Y,D,W,n,u,l=GetAchievementCriteriaInfo(c,H)prov=P if prov==true then j=j+1 else k=k+1 end H=H+1 end local A=G-j if A<0 then A=0 end SendChatMessage("\208\158\209\129\209\130\208\176\208\187\208\190\209\129\209\140 \208\178\209\139\208\191\208\190\208\187\208\189\208\184\209\130\209\140 "..(A..(" \208\191\209\131\208\189\208\186\209\130\208\190\208\178 \208\176\209\135\208\184\208\178\208\186\208\184 "..(c..(" "..(GetAchievementLink(c)..(" \208\184\208\183 "..G)))))),"\071\085\073\076\068",nil,1)end function npcXY(H,V,c,j,G)local P=nil local k=H local A=V k=tostring(k)A=tostring(A)if npcScan[k]==nil then npcScan[k]={}end if npcScan[k][A]==nil then npcScan[k][A]={}end local Y=G if Y~=nil then local H=c local V=j H=tostring(H)V=tostring(V)if npcScan[k][A][Y]==nil then npcCount=1 npcCount=tostring(npcCount)npcScan[k][A][Y]={}npcScan[k][A][Y][npcCount]={}npcScan[k][A][Y][npcCount].x=H npcScan[k][A][Y][npcCount].y=V else local c={}local j={}npcCount=tablelength(npcScan[k][A][Y])+1 npcCount=tostring(npcCount)H=tostring(H)V=tostring(V)npcScan[k][A][Y][npcCount]={}npcScan[k][A][Y][npcCount].x=H npcScan[k][A][Y][npcCount].y=V end else print("\208\146\209\139\208\177\208\181\209\128\208\184 \209\134\208\181\208\187\209\140")end end function testNpc(H)local V CreateFrame("\071\097\109\101\084\111\111\108\116\105\112","\077\121\083\099\097\110\110\105\110\103\084\111\111\108\116\105\112",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\109\112\108\097\116\101")MyScanningTooltip:SetOwner(WorldFrame,"\065\078\067\072\079\082\095\078\079\078\069")MyScanningTooltip:AddFontStrings(MyScanningTooltip:CreateFontString("\036\112\097\114\101\110\116\084\101\120\116\076\101\102\116\049",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116"),MyScanningTooltip:CreateFontString("\036\112\097\114\101\110\116\084\101\120\116\082\105\103\104\116\049",nil,"\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116"))MyScanningTooltip:SetHyperlink("\117\110\105\116\058"..H)V=EnumerateTooltipLines(MyScanningTooltip)return V end local function V(...)local H for V=1,select("\035",...),1 do local c=select(V,...)if c and c:GetObjectType()=="\070\111\110\116\083\116\114\105\110\103"then local V=c:GetText()if V~=nil then print(V)if string.find(V,"\208\163\209\128\208\190\208\178\208\181\208\189\209\140")then testLvlNpc=mysplit(V)end if string.find(V,"\209\131\209\128\208\190\208\178\208\189\209\143")then testLvlNpc=mysplit(V)if string.find(testLvlNpc[3],"\037\063\037\063")then else H="\049"end if string.find(testLvlNpc[2],"\037\063\037\063")then SendAddonMessage("\078\083\071\097\100\100","\035\110\112\099\079\102\102","\103\117\105\108\100")end if string.find(testLvlNpc[1],"\208\162\209\128\209\131\208\191")then SendAddonMessage("\078\083\071\097\100\100","\035\110\112\099\068\105\101","\103\117\105\108\100")end end end end end return H end function EnumerateTooltipLines(H)local c c=V(H:GetRegions())return c end function pLid()if UnitIsPartyLeader("\112\097\114\116\121\049")then pL=1 elseif UnitIsPartyLeader("\112\097\114\116\121\050")then pL=2 elseif UnitIsPartyLeader("\112\097\114\116\121\051")then pL=3 elseif UnitIsPartyLeader("\112\097\114\116\121\052")then pL=4 else pL=0 end return pL end function pM(H)if H==UnitName("\112\097\114\116\121\049")then r=1 elseif H==UnitName("\112\097\114\116\121\050")then r=1 elseif H==UnitName("\112\097\114\116\121\051")then r=1 elseif H==UnitName("\112\097\114\116\121\052")then r=1 else r=0 end return r end function testN()testNpc(UnitGUID("\116\097\114\103\101\116"))end function tblAllFail(H,V)if mmList[H]~=nil then for c=1,mmList[H]["\208\186\208\190\208\187\208\184\209\135\208\181\209\129\209\130\208\178\208\190\095\208\177\208\190\209\129\209\129\208\190\208\178"],1 do if V==mmList[H][c]then r=c break else r=0 end end end return r end function testMarsh(H,V)trovMarsh(H,V)local c=0 for V,c in pairs(mapTables[H])do if type(V)=="\115\116\114\105\110\103"then tKont=V end for H,V in pairs(mapTables[H][V])do if type(H)=="\115\116\114\105\110\103"then tLok=H end end end if testQ.schet1~=nil then for V=testQ.schet1-10,testQ.schet1+10,1 do if testQ.schet[V]~=nil then marshrut(V,tablelength(mapTables[H][tKont][tLok]))c=c+testQ.schet[V]if c>0 then break end end end end return c end function trovMarsh(H,V)if testKontLok(H)~=nil then local c,G=GetPlayerMapPosition("\112\108\097\121\101\114")local P=GetCurrentMapContinent()P=tostring(P)local k=GetCurrentMapZone()k=tostring(k)local A=GetMapInfo()if A=="\082\097\103\101\102\105\114\101"then P="\057\057"k="\049"end local Y=tablelength(mapTables[H][P][k])testQ.schet={}testQ.numPunti={}if testQ.num==nil then if testKontLok(H)<V then testQ.num=1 testQ.schet1=1 end end for A=testQ.num-10,testQ.num+10,1 do testQ.schet1=A j=tostring(A)if testQ["\209\129\209\130\208\176\209\128\209\130"]~=nil then if mapTables[H][P][k][j]~=nil then mioCel=sqrt((c-mapTables[H][P][k][j].x)^2+(G-mapTables[H][P][k][j].y)^2)if mioCel<V then testQ.schet[A]=1 j=testQ.num j=tostring(j)mioCel1=sqrt((c-mapTables[H][P][k][j].x)^2+(G-mapTables[H][P][k][j].y)^2)if mioCel1>mioCel then testQ.num=A testQ.marshF[A]=A if testQ.marshF[A]==math.modf(Y/4)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \209\135\208\181\209\130\208\178\208\181\209\128\209\130\209\140 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if testQ.marshF[A]==math.modf(Y/2)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \208\191\208\190\208\187\208\190\208\178\208\184\208\189\209\131 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if testQ.marshF[A]==math.modf((Y/4)*3)then SendChatMessage("\208\175 \208\191\209\128\208\190\209\136\208\181\208\187 \209\130\209\128\208\184 \209\135\208\181\209\130\208\178\208\181\209\128\209\130\208\184 \208\188\208\176\209\128\209\136\209\128\209\131\209\130\208\176","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end if tonumber(Y)==tonumber(A)then SendChatMessage("\208\156\208\176\209\128\209\136\209\128\209\131\209\130 \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")if marshruT~=nil then for H=1,9999,1 do if marshruT[H]~=nil then marshruT[H]:Hide()end end end marshruT=nil testQ["\209\129\209\130\208\176\209\128\209\130"]=nil testQ.num=nil testQ.marshF=nil if H=="\101\118\079\048\049\048\050"then testQ.evO0102=true testQ.startChern=nil end if H=="\101\118\079\048\050\048\051"then testQ.evO0203=true testQ.startChern=nil end if H=="\101\118\079\048\051\048\052"then testQ.evO0304=true testQ.startChern=nil end if H=="\101\118\079\048\052\048\053"then testQ.evO0405=true testQ.startChern=nil end if H=="\101\118\079\048\053\048\054"then testQ.evO0506=true testQ.startChern=nil end if H=="\101\118\079\048\054\048\055"then testQ.evO0607=true testQ.startChern=nil end if H=="\101\118\079\048\055\048\056"then testQ.evO0708=true testQ.startChern=nil end if H=="\101\118\079\048\056\048\057"then testQ.evO0809=true testQ.startChern=nil end if H=="\101\118\079\048\057\049\048"then testQ.evO0910=true testQ.startChern=nil end if H=="\101\118\079\049\048\049\049"then testQ.evO1011=true testQ.startChern=nil end if H=="\101\118\079\049\049"then testQ.evO11=true testQ.startChern=nil end if H=="\101\118\079\049\050"then testQ.evO12=true testQ.startChern=nil end if H=="\101\118\079\049\051"then testQ.evO13=true testQ.startChern=nil end if H=="\101\118\079\049\052"then testQ.evO14=true testQ.startChern=nil end testQ.start=nil end end else testQ.schet[A]=0 end end end end end end function testKontLok(H)local V=GetCurrentMapContinent()V=tostring(V)local c=GetCurrentMapZone()c=tostring(c)local j local G,P=GetPlayerMapPosition("\112\108\097\121\101\114")local k,A local Y=GetMapInfo()if Y=="\082\097\103\101\102\105\114\101"then V="\057\057"c="\049"end if mapTables~=nil then if mapTables[H]~=nil then for V,c in pairs(mapTables[H])do if type(V)=="\115\116\114\105\110\103"then k=V end for H,V in pairs(mapTables[H][V])do if type(H)=="\115\116\114\105\110\103"then A=H end end end if tostring(c)==tostring(A)then if H~=nil then if mapTables[H]~=nil then if k==V then if mapTables[H][V][c]~=nil then if A==c then j=sqrt((G-mapTables[H][V][c]["\049"].x)^2+(P-mapTables[H][V][c]["\049"].y)^2)return j end end end end end end end end end function startFchern(H,V,c)V=tostring(V)c=tostring(c)if krt[V]==true and krt[c]==true then testQ.start=H testQ["\209\129\209\130\208\176\209\128\209\130"]=0 testQ[H]="\209\129\209\130\208\176\209\128\209\130"marshruT={}end end function testFchern(H,V,c)V=tostring(V)c=tostring(c)local j,G if testQ[H]==nil then for V,c in pairs(mapTables[H])do if type(V)=="\115\116\114\105\110\103"then j=V end for H,V in pairs(mapTables[H][j])do if type(H)=="\115\116\114\105\110\103"then G=H end end end if mapTables.lokRasstoyanie[tostring(j)]~=nil then if mapTables.lokRasstoyanie[tostring(j)][tostring(G)]~=nil then if testKontLok(H)~=nil then if tonumber(testKontLok(H))<=tonumber(mapTables.lokRasstoyanie[tostring(j)][tostring(G)])*3 then startFchern(H,V,c)testQ.startChern=H end end end end end end function printPar(H)local V={}local c for H,c in pairs(H)do if H~=nil then table.insert(V,H)end end c=table.concat(V," ")return c end function otladka(H,V,c,j,G,P,k)local A numF=tonumber(H)if numF==1 then if V=="\116\101\115\116\081"then A=testQ end end if numF==2 then if V=="\116\101\115\116\081"then A=testQ[c]end end if numF==3 then if V=="\116\101\115\116\081"then A=testQ[c][j]end end if numF==4 then if V=="\116\101\115\116\081"then A=testQ[c][j][G]end end if numF==5 then if V=="\116\101\115\116\081"then A=testQ[c][j][G][P]end end if numF==6 then if V=="\116\101\115\116\081"then A=testQ[c][j][G][P][k]end end A=type(A)y=A return A,y end function tabellaFind(H,V)local c=1 while H[c]do print(V)print(H[c])if V==H[c]then return 1 end c=c+1 end return nil end function krtChernGetXY(H)H=tostring(H)for H,V in pairs(krt.chernila[H])do kont=H end for H,V in pairs(krt.chernila[H][kont])do lok=H end for H,V in pairs(krt.chernila[H][kont][lok])do if H=="\120"then x=V end if H=="\121"then y=V end if H=="\109\115\103"then m=V end end return kont,lok,x,y,m end function mapQuest(H)H=tostring(H)for H,V in pairs(testQ.mapQuest[H])do kont=H end for H,V in pairs(testQ.mapQuest[H][kont])do lok=H end for H,V in pairs(testQ.mapQuest[H][kont][lok])do if H=="\120"then x=V end if H=="\121"then y=V end if H=="\109\115\103"then m=V end if H=="\099\101\108"then c=V end end return kont,lok,x,y,m,c end function mapQuestP(H)H=tostring(H)testQ.mapQuest.podskazkiRez={}for H,V in pairs(testQ.mapQuest[H])do kont=H end for H,V in pairs(testQ.mapQuest[H][kont])do lok=H end for V,c in pairs(testQ.mapQuest[H][kont][lok])do if V=="\112\111\100\115\107\097\122\107\105"then for H,V in pairs(testQ.mapQuest[H][kont][lok].podskazki)do testQ.mapQuest.podskazkiRez[H]=V end end end end function chern1P(H)H=tostring(H)krt.chernila.podskazkiRez={}for H,V in pairs(krt.chernila[H])do kont=H end for H,V in pairs(krt.chernila[H][kont])do lok=H end for V,c in pairs(krt.chernila[H][kont][lok])do if V=="\112\111\100\115\107\097\122\107\105"then for H,V in pairs(krt.chernila[H][kont][lok].podskazki)do krt.chernila.podskazkiRez[H]=V end end end end function tabellaEnStr(H,V)local c,j,G,P,k,A H=tostring(H)V=tostring(V)if testQ.chD==nil then testQ.chD={}end if testQ.chD[tostring(H)]==nil then G="\048"for H,V in pairs(krt.chernila[H])do k=H end for H,V in pairs(krt.chernila[H][k])do A=H end c=tablelength(krt.chernila[H][k][A].podskazki)for c=1,c,1 do P=tostring(c)if j==nil then j=P..(" "..(txtXor(krt.chernila[H][k][A].podskazki[P]).."\n"))else j=j..(P..(" "..(txtXor(krt.chernila[H][k][A].podskazki[P]).."\n")))end G=tonumber(G)G=G+1 G=tostring(G)if G==V then break end end else for H,V in pairs(krt.chernila[H])do k=H end for H,V in pairs(krt.chernila[H][k])do A=H end j=H.." \208\178\209\139\208\191\208\190\208\187\208\189\208\181\208\189\208\190\n"G=tablelength(krt.chernila[H][k][A].podskazki)end return j,G end function txtXor(H)local V=H:utf8sub(1,3)local c local j if V~="\035\035\035"then c=string.utf8len(H)j="\035\035\035"for V=1,c,1 do j=j..string.format("\037\048\051\100",alfabet(string.utf8sub(H,V,V)))end end if V=="\035\035\035"then j=alfabetC(tonumber(string.sub(H,4,6)),1)for V=7,#H,3 do j=j..alfabetC(tonumber(string.sub(H,V,V+2)),1)end end return j end bcsQuickFrame={}function createQuickHtmlFrame(H,V,c)local j=GetTime()bcsQuickFrame[c]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)bcsQuickFrame[c]:SetSize(222,222)bcsQuickFrame[c]:SetFrameStrata("\072\073\071\072")bcsQuickFrame[c]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",33,V)bcsQuickFrame[c]:SetBackdropColor(0,103,51,1)bcsQuickFrame[c]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",32)bcsQuickFrame[c]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\057\048\101\101\057\048"..(H.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))end dmG={}function dmgText(H,V,c,j,G)if dmG[c]==nil then dmG[c]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)else dmG[c]:Show()end dmG[c]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG[c]:ClearAllPoints()dmG[c]:SetBackdropColor(0,103,51,1)dmG[c]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")if H~=""then if tonumber(H)<=9999 then dmG[c]:SetSize(48,48)end if tonumber(H)>9999 then dmG[c]:SetSize(54,48)end if tonumber(H)<=9999 then dmG[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(H)>9999 then dmG[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end dmG[c]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(G..(H.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end dmG1={}function dmgText1(H,V,c,j,G)if dmG1[c]==nil then dmG1[c]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)dmG1[c]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG1[c]:ClearAllPoints()dmG1[c]:SetBackdropColor(0,103,51,1)dmG1[c]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end if H~=""then if tonumber(H)<=9999 then dmG1[c]:SetSize(48,48)end if tonumber(H)>9999 then dmG1[c]:SetSize(54,48)end if tonumber(H)<=9999 then dmG1[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(H)>9999 then dmG1[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end dmG1[c]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(G..(H.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end dmG2={}function dmgText2(H,V,c,j,G)if dmG2[c]==nil then dmG2[c]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\100\109\071",V)dmG2[c]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dmG2[c]:ClearAllPoints()dmG2[c]:SetBackdropColor(0,103,51,1)dmG2[c]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",13,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end if H~=nil and H~=""then if tonumber(H)<=9999 then dmG2[c]:SetSize(48,48)end if tonumber(H)>9999 then dmG2[c]:SetSize(54,48)end if tonumber(H)<=9999 then dmG2[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",5,-10)end if tonumber(H)>9999 then dmG2[c]:SetPoint("\067\069\078\084\069\082",V,"\067\069\078\084\069\082",1,-10)end end if H~=nil then dmG2[c]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112 \115\116\121\108\101\061\'\098\097\099\107\103\114\111\117\110\100-\099\111\108\111\114\058 \035\049\050\051\052\053\097\'\062 \124\099\102\102"..(G..(H.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")))end end rtnText={}function rtnTextF(H,V,c)if c=="\115\104\111\119"then if rtnText[V]==nil then rtnText[V]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)rtnText[V]:SetSize(415,396)rtnText[V]:SetFrameStrata("\084\079\079\076\084\073\080")rtnText[V]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",5,-55)rtnText[V]:SetBackdropColor(0,0,0,0)if tonumber(string.utf8len(H))<200 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",33)elseif tonumber(string.utf8len(H))>200 and tonumber(string.utf8len(H))<300 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",27)elseif tonumber(string.utf8len(H))>=400 then rtnText[V]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",16)end end rtnText[V]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\048\048\048\048\048\048"..(H.."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))rtnText[V]:Show()else if rtnText[V]~=nil then rtnText[V]:Hide()end end end function versFail(H)if VerF==nil then VerF=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\066\067\083\081\117\105\099\107\070\114\097\109\101",UIParent)end VerF:SetSize(1111,888)VerF:SetFrameStrata("\072\073\071\072")if testQ.VerF==nil then testQ.VerF=600 end VerF:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",testQ.VerF,-355)VerF:SetBackdropColor(0,103,51,1)VerF:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",H+10)VerF:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\102\102\048\048\048\048\208\158\208\145\208\157\208\158\208\146\208\152 \208\144\208\148\208\148\208\158\208\157\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062")end function marshrut(H,V)local c=H-1 local j=H+1 local G=H+2 local P=H-2 local k=H+3 local A=H-3 if testQ.start~="\101\118\079\051"then if marshruT~=nil then if marshruT[H]==nil then marshruT[H]=CreateFrame("\083\105\109\112\108\101\072\084\077\076","\109\097\114\115\104\114\117\116",UIParent)marshruT[H]:SetSize(222,222)marshruT[H]:SetFrameStrata("\072\073\071\072")marshruT[H]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",333,111)marshruT[H]:SetBackdropColor(0,103,51,1)marshruT[H]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",32)marshruT[H]:SetText("\060\104\116\109\108\062\060\098\111\100\121\062\060\112\062\124\099\102\102\057\048\101\101\057\048"..(H..(" \208\184\208\183 "..(tostring(V).."\060\047\112\062\060\047\098\111\100\121\062\060\047\104\116\109\108\062"))))end if marshruT[c]~=nil then marshruT[c]:Hide()marshruT[c]=nil end if marshruT[j]~=nil then marshruT[j]:Hide()marshruT[j]=nil end if marshruT[G]~=nil then marshruT[G]:Hide()marshruT[G]=nil end if marshruT[P]~=nil then marshruT[P]:Hide()marshruT[P]=nil end if marshruT[k]~=nil then marshruT[k]:Hide()marshruT[k]=nil end if marshruT[A]~=nil then marshruT[A]:Hide()marshruT[A]=nil end end end end function showRB(H)if debuffChkB==nil then debuffChkB={}end if pokazat==1 and btn[1]~=nil then for H=1,15,1 do if btn[H]~=nil then btn[H]:Hide()end end btn[991]:Show()if tonumber(testQ.mioFldLvl)~=.5 and(tonumber(testQ.mioFldLvl)~=.9 and tonumber(testQ.mioFldLvl)~=nil)then btn[14]:Show()end myCheckButton1:Show()myCheckButton2:Show()myCheckButton3:Show()myCheckButton4:Show()myCheckButton5:Show()myCheckButton6:Show()myCheckButton7:Show()btn[998]:Show()btn[997]:Show()for V=1,20,1 do local c,j,G,P,k,A,Y,D=UnitDebuff("\112\108\097\121\101\114",V)if c~=nil then debuffChkB[c]=createCheckbutton(UIParent,150,-20*V+230,c)debuffChkB[c].tooltip="\208\161\208\186\209\128\209\139\208\178\208\176\209\130\209\140 \208\184\208\186\208\190\208\189\208\186\209\131 "..c debuffChkB[c]:SetScript("\079\110\067\108\105\099\107",function()if testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB==nil then testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB={}end if testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[c]=="\068\105\115\097\098\108\101"or testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[c]==nil then testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[c]="\069\110\097\098\108\101"debuffChkB[c]:SetChecked(true)elseif testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[c]=="\069\110\097\098\108\101"then testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[c]="\068\105\115\097\098\108\101"debuffChkB[c]:SetChecked(false)end end)end end pokazat=0 pokazatChk=1 elseif pokazat==0 then btn[991]:Hide()if tonumber(testQ.mioFldLvl)~=.5 and(tonumber(testQ.mioFldLvl)~=.9 and tonumber(testQ.mioFldLvl)~=nil)then for H=1,15,1 do if btn[H]~=nil then btn[H]:Show()end end if btn[ii]~=nil then if testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]=="\057\057\057\057"then btn[1]:Show()btn[2]:Hide()end if testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130"]~="\057\057\057\057"then btn[1]:Hide()btn[2]:Show()end end end testQ.lvlProv=nil myCheckButton1:Hide()myCheckButton2:Hide()myCheckButton3:Hide()myCheckButton4:Hide()myCheckButton5:Hide()myCheckButton6:Hide()myCheckButton7:Show()for H,V in pairs(debuffChkB)do if debuffChkB[H]~=nil then debuffChkB[H]:Hide()end end btn[998]:Hide()btn[997]:Hide()pokazat=1 pokazatChk=0 end end function marSh()local H=GetCurrentMapContinent()local V=GetCurrentMapZone()local c,j=GetPlayerMapPosition("\112\108\097\121\101\114")local G H=tostring(H)V=tostring(V)local P=GetMapInfo()if P=="\082\097\103\101\102\105\114\101"then H="\057\057"V="\049"end if marsh==nil then marsh={}end if marsh[H]==nil then marsh[H]={}end if marsh[H][V]==nil then marsh[H][V]={}end local k=tablelength(marsh[H][V])k=tostring(k+1)marsh[H][V][k]={}testQ.marshK=H testQ.marshL=V testQ.marshN=k marsh[H][V][k].x=string.format("\037\046\051\102",c)marsh[H][V][k].y=string.format("\037\046\051\102",j)print(k)end function resObj1(H,V,c)if krt==nil then krt={}end if krt.podskazki==nil then krt.podskazki=1 end if testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]==nil then testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]={}testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=0 end if V==c then if mioFld~=nil then if mioFld[V]~=nil then if mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"]~=nil then if tonumber(testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"])<=tonumber(krt.podskazki)then if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\104\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\115\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\097\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\112"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\122"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\118"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\102"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\048"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\108\120"and mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\108\112")))))))))))))))then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\102"then SendAddonMessage("\116\114\101\101 "..tostring(H),V,"\103\117\105\108\100")end mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\109\048"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\104\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\122"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\108\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\097\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\099"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<14999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=14999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<4999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=4999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\115\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+50 testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]=testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"]+.02 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\104\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\115\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\097\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\120"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\115"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\099"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\112"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\122"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\118"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\102"and(mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\048"and mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\108\120"))))))))))))))then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\102"then SendAddonMessage("\116\114\101\101 "..tostring(H),V,"\103\117\105\108\100")end mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\104\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\108\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\122"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\109\048"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\097\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\099"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\115"or mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<14999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=14999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\115"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\099"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<4999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=4999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[V]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\115\120"then if tonumber(mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]+5 else mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end end SendAddonMessage("\114\101\115\079\098\106 "..(H..(" "..mioFld[V]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])),c,"\103\117\105\108\100")end end end else if mioFld~=nil then if mioFld[c]~=nil then if mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"]~=nil then if tonumber(testQ["\209\130\209\128\209\131\208\180\208\190\208\178\209\139\208\181\095\209\128\208\181\209\129\209\131\209\128\209\129\209\139"])<=tonumber(krt.podskazki)then if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\104\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\115\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\097\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\112"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\122"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\118"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\048"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\102"and mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\108\120"))))))))))))))then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\104\115"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\108\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\122"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\109\048"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\099"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\097\115"or mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\099"or mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\115"or mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\098\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<14999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=14999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\115"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\099"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<4999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=4999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\115\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((5*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end else if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\104\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\115\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\097\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\115"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\098\120"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\099"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\122\112"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\122"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\116\118"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\048"and(mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\109\102"and mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]~="\108\120"))))))))))))))then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\104\115"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<9999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=9999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\108\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\122"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\109\048"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\116\099"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<4999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=4999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\097\115"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<14999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=14999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\115"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\122\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<19999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=19999 end end if mioFld[c]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(H)]=="\115\120"then if tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])<29999 then if(1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl)<1 then local V=math.random(((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))*10,9)if V==9 then mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=tonumber(mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])+round((1*tonumber(testQ.mioFldLvl))/tonumber(testQ.fldLvl))end else mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)]=29999 end end end SendAddonMessage("\114\101\115\079\098\106 "..(H..(" "..mioFld[c]["\209\134\208\181\208\187\208\190\209\129\209\130\208\189\208\190\209\129\209\130\209\140"][tostring(H)])),c,"\103\117\105\108\100")end end end end end function gKam(H,V)local c=nil if tonumber(V)==500 then for V=1,100,1 do if mioFld1[H]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(V)]=="\115\107"then if c==nil then c=1 else c=c+1 end end end if c==nil then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\048","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif c==1 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\049","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif c==2 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\050","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif c==3 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\051","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif c==4 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\052","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")elseif c==5 then testQ.kamen=testQ.kamen+1 testQ.nikQK=antc(testQ.kamen)SendAddonMessage("\110\115\095\107\080","\053","\103\117\105\108\100")PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\107\046\111\103\103")end end end function bdf(H)if testQ==nil then testQ={}end if testQ.myNome==nil then testQ.myNome={}end if testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"]==nil then testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"]={}end if testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB==nil then testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB={}end if DebuffButton1~=nil then if tonumber(testQ.buffX)~=nil and tonumber(testQ.buffX)~=0 then local V,c,G,P=DebuffButton1:GetPoint()local k,A,Y,D=btn[991]:GetPoint()if P~=D then local V,c=DebuffButton1:GetSize()local G=UIParent:GetSize()/2 j=1 for c=1,DEBUFF_MAX_DISPLAY,1 do if AuraButton_Update("\068\101\098\117\102\102\066\117\116\116\111\110",c,"\072\065\082\077\070\085\076")then local P,k,A,Y,D,W,n,u=UnitDebuff("\112\108\097\121\101\114",c)local l=_G["\068\101\098\117\102\102\066\117\116\116\111\110"..c]if l~=nil and(testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[P]==nil or testQ[H]["\208\189\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184"].debuffChkB[P]=="\068\105\115\097\098\108\101")then l:ClearAllPoints()if tonumber(testQ.buffX)<G then l:SetPoint("\066\079\084\084\079\077\076\069\070\084",UIParent,"\066\079\084\084\079\077\076\069\070\084",tonumber(testQ.buffX)+V*j,testQ.buffY)j=j+1 else l:SetPoint("\066\079\084\084\079\077\076\069\070\084",UIParent,"\066\079\084\084\079\077\076\069\070\084",tonumber(testQ.buffX)-V*j,testQ.buffY)j=j+1 end else if l~=nil and l:IsVisible()then l:Hide()end end end end end if testQ.buffX==0 then testQ.buffX=nil end end end end function gtest()gTest=nil gTest={}for H=1,50,1 do local V,c,j,G,P,k,A=GetWhoInfo(H)if c==""then if G~="\208\148\209\128\208\181\208\189\208\181\208\185"and(G~="\208\157\208\190\209\135\208\189\208\176\209\143 \209\141\208\187\209\140\209\132\208\184\208\185\208\186\208\176"and(G~="\208\167\208\181\208\187\208\190\208\178\208\181\208\186"and(G~="\208\157\208\190\209\135\208\189\208\190\208\185 \209\141\208\187\209\140\209\132"and(G~="\208\147\208\189\208\190\208\188"and G~="\208\148\208\178\208\190\209\128\209\132"))))then table.insert(gTest,V)end end end end function ns_q5()ns_q5Test=nil ns_q5Test={}for H=1,50,1 do local V,c,j,G,P,k,A=GetWhoInfo(H)if c==""then table.insert(ns_q5Test,V)end end end function closeFld()for H=1,100,1 do fBtn[H]:Hide()end for H=1,100,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[H]~=nil then if H==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[H]:Hide()end end end end btn[989]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end function hX()quesT("\104\105\100\101")okNo:configure(1,"\104\105\100\101")rtnTextF("\102\100\115\097",1,"\104\105\100\101")for H=1,100,1 do fBtn[H]:Hide()end if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end if okNo~=nil then okNo[1]:Hide()okNo[2]:Hide()end btn[989]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end function showFld(H,V)local c local j local G local P if mBtn[1]~=nil then if mBtn[1]:IsVisible()then P=1 end end if dBtn[1]~=nil then if dBtn[1]:IsVisible()then P=1 end end if not fBtn[1]:IsVisible()and P~=1 then if not GuildFrameLFGButton:GetChecked()or H=="\049"then if H=="\048"then c=GuildFrame.selectedName else c=V end btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",fBtn[10],"\084\079\080\082\073\071\072\084",1,1)for H=1,GetNumGuildMembers(true),1 do local P,k,A,Y,D,W,n,u,l,B,r,O,E,M,v,y,m=GetGuildRosterInfo(H)if c~=V then if P==c then j=string.sub(u,1,1)G=string.sub(u,2,2)if u~=""and(j~="\049"and j~="\048")then testQ.fldLvl=tonumber(j)testQ.qNum=string.sub(u,8,8)testQ.qDay=string.sub(u,6,7)elseif j=="\049"then testQ.fldLvl=.9 testQ.qNum=string.sub(u,8,8)testQ.qDay=string.sub(u,6,7)elseif j=="\048"then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 elseif j==""then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 end if G==nil then testQ.fldLvl=.5 testQ.qNum=0 testQ.qDay=0 end end if P==V then j=string.sub(u,1,1)if u~=""and(j~="\049"and j~="\048")then testQ.mioFldLvl=string.sub(u,1,1)elseif j=="\049"then testQ.mioFldLvl=.9 elseif j=="\048"then testQ.mioFldLvl=.5 elseif j==""then testQ.mioFldLvl=.5 end end else if P==V then j=string.sub(u,1,1)G=string.sub(u,2,2)if u~=""and(j~="\049"and j~="\048")then testQ.mioFldLvl=string.sub(u,1,1)testQ.fldLvl=testQ.mioFldLvl testQ.qNum=string.sub(u,8,8)testQ.qDay=string.sub(u,6,7)elseif j=="\049"then testQ.mioFldLvl=.9 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=string.sub(u,8,8)testQ.qDay=string.sub(u,6,7)elseif j=="\048"then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 elseif j==""then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 end if G==nil then testQ.mioFldLvl=.5 testQ.fldLvl=testQ.mioFldLvl testQ.qNum=0 testQ.qDay=0 end end end if tonumber(testQ.mioFldLvl)==0 then testQ.mioFldLvl=.5 end if tonumber(testQ.fldLvl)==0 then testQ.fldLvl=.5 end end testQ.fRand1=math.random(1,1000000)testQ.sign=H SendAddonMessage("\115\104\077\070\108\100 "..testQ.fRand1,c..(" "..V),"\103\117\105\108\100")FriendsFrame:Hide()else local H=tablelength(risPet)for H=1,100,1 do if risPet[H]~=nil then risPetShow(H,"\104\105\100\101","")end end for H=1,100,1 do fBtn[H]:Hide()end btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end for H=1,100,1 do if dmG[H]~=nil and dmG[H]:IsVisible()then dmG[H]:Hide()end end for H=1,3,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[H]~=nil then if H==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[H]:Hide()end end end end for H=101,103,1 do if dmG[H]~=nil then dmG[H]:Hide()end end if tonumber(testQ.sign)==0 then FriendsFrame:Show()end testQ.sign=nil testQ.fRandD1nome=nil end else local H=tablelength(risPet)for H=1,100,1 do if risPet[H]~=nil then risPetShow(H,"\104\105\100\101","")end end for H=1,100,1 do fBtn[H]:Hide()btn[989]:ClearAllPoints()btn[989]:SetPoint("\066\079\084\084\079\077\076\069\070\084",GuildMemberDetailFrame,"\084\079\080\076\069\070\084",96,-3)end if resursy[1]~=nil then resursy[1]:Hide()resursy[2]:Hide()resursy[3]:Hide()end for H=1,100,1 do if dmG[H]~=nil and dmG[H]:IsVisible()then dmG[H]:Hide()end end for H=1,100,1 do if mgznIcon[1]==nil or not mgznIcon[1]:IsVisible()then if resursy[H]~=nil then if H==5 then if mgznIcon[1]~=nil and mgznIcon[1]:IsVisible()then end else resursy[H]:Hide()end end end end for H=101,103,1 do if dmG[H]~=nil then dmG[H]:Hide()end end if tonumber(testQ.sign)==0 then FriendsFrame:Show()end if tostring(testQ.sign)=="\049"then btn[989]:Hide()end testQ.sign=nil end end function qLvl33c1()local H local V local c local j local G local P local k G=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(G)P=eMotC[G]["\208\191\208\190\208\184\209\129\208\186"]k=eMotC[G]["\208\190\209\130\208\178\208\181\209\130"]H=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]V=npcListC1[H]["\208\184\208\188\209\143"]H=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]c=npcListC1[H]["\208\184\208\188\209\143"]while true do if V==c then H=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]c=npcListC1[H]["\208\184\208\188\209\143"]else break end end H=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]j=npcListC1[H]["\208\184\208\188\209\143"]while true do if j==c or j==V then H=(rndTblc(npcListC1))["\208\176\208\185\208\180\208\184"]j=npcListC1[H]["\208\184\208\188\209\143"]else break end end return G,V,c,j,P,k end function qLvl33c2()local H local V local c local j local G local P local k G=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(G)P=eMotC[G]["\208\191\208\190\208\184\209\129\208\186"]k=eMotC[G]["\208\190\209\130\208\178\208\181\209\130"]H=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]V=npcListC2[H]["\208\184\208\188\209\143"]H=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]c=npcListC2[H]["\208\184\208\188\209\143"]while true do if V==c then H=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]c=npcListC2[H]["\208\184\208\188\209\143"]else break end end H=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]j=npcListC2[H]["\208\184\208\188\209\143"]while true do if j==c or j==V then H=(rndTblc(npcListC2))["\208\176\208\185\208\180\208\184"]j=npcListC2[H]["\208\184\208\188\209\143"]else break end end return G,V,c,j,P,k end function qLvl33c3()local H local V local c local j local G local P local k G=(rndTblc(eMotC))["\208\186\208\178\208\181\209\129\209\130"]print(G)P=eMotC[G]["\208\191\208\190\208\184\209\129\208\186"]k=eMotC[G]["\208\190\209\130\208\178\208\181\209\130"]H=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]V=npcListC3[H]["\208\184\208\188\209\143"]H=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]c=npcListC3[H]["\208\184\208\188\209\143"]while true do if V==c then H=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]c=npcListC3[H]["\208\184\208\188\209\143"]else break end end H=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]j=npcListC3[H]["\208\184\208\188\209\143"]while true do if j==c or j==V then H=(rndTblc(npcListC3))["\208\176\208\185\208\180\208\184"]j=npcListC3[H]["\208\184\208\188\209\143"]else break end end return G,V,c,j,P,k end function rndTblc(H)local V={}for H in pairs(H)do table.insert(V,H)end return H[V[math.random(#V)]]end function htimer(H)local V=0 for c=1,100,1 do if mioFld1[H]["\208\190\208\177\209\138\208\181\208\186\209\130\209\139"][tostring(c)]=="\116\111"then V="\116\111"end end if testQ[H].dTimer[30]==nil then testQ[H].dTimer[30]=26000 end if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil then testQ[H].dTimer[tonumber(date("\037\100"))-1]=26000 end if tonumber(testQ.mioFldLvl)==.5 or tonumber(testQ.mioFldLvl)==.9 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=50400 else testQ[H].hTimer=26000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=testQ[H].dTimer[tonumber(date("\037\100"))-1]else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(testQ[H].dTimer[tonumber(date("\037\100"))-1])/1.5))end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=testQ[H].dTimer[30]else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(testQ[H].dTimer[30])/1.5))end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==2 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=25200 else testQ[H].hTimer=16000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/2))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/2))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/2))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/2))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==3 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=14500 else testQ[H].hTimer=10000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/3))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/3))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/3))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/3))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==4 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=11000 else testQ[H].hTimer=8000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/4))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/4))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/4))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/4))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==5 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=10500 else testQ[H].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/5))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/5))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/5))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/5))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==6 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/6))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/6))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/6))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/6))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end elseif tonumber(testQ.mioFldLvl)==7 then if testQ[H].hTimer==nil then if testQ[H].dTimer[tonumber(date("\037\100"))-1]==nil and testQ[H].dTimer[30]==nil then if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end else if tonumber(date("\037\100"))~=1 then if testQ[H].dTimer[tonumber(date("\037\100"))-1]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/7))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/7))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end else if testQ[H].dTimer[30]~=nil and testQ[H].dTimer[30]>10800 then if V~="\116\111"then testQ[H].hTimer=tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/7))if testQ[H].hTimer<10800 then testQ[H].hTimer=10800 end else testQ[H].hTimer=tonumber(string.format("\037\117",tonumber(string.format("\037\117",testQ[H].dTimer[tonumber(date("\037\100"))-1]/7))/1.5))if testQ[H].hTimer<7000 then testQ[H].hTimer=7000 end end else if V~="\116\111"then testQ[H].hTimer=10800 else testQ[H].hTimer=7000 end end end end end end SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..H,testQ[H].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..H,testQ[H].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")SendAddonMessage("\035\109\105\111\084\105\109\101\114 "..H,testQ[H].hTimer..(" "..tonumber(testQ.mioFldLvl)),"\103\117\105\108\100")end function ml()if BrowseBuyoutButton~=nil then if aucBtn==nil then aucBtn=CreateFrame("\066\117\116\116\111\110",nil,UIParent,"")aucBtn:SetFrameStrata("\084\079\079\076\084\073\080")aucBtn:SetSize(222,32)aucBtn:SetPoint("\067\069\078\084\069\082",BrowseBidButton,"\067\069\078\084\069\082",22,0)aucBtn:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\097\117\107\046\116\103\097")aucBtn:Hide()end name,texture,count,quality,canUse,level,levelColHeader,minBid,minIncrement,buyoutPrice,bidAmount,highBidder,owner,saleStatus,itemId,hasAllInfo=GetAuctionItemInfo("\108\105\115\116",tonumber(GetSelectedAuctionItem("\108\105\115\116")))if name=="\208\158\208\177\209\139\209\135\208\189\208\190\208\181 \208\191\208\184\209\129\209\140\208\188\208\190"then aucBtn:Show()if highBidder=="\208\165\208\181\209\132\208\181"then aucBtn:Hide()end else if aucBtn~=nil then aucBtn:Hide()end end end if Atr_Buy1_Button~=nil and Atr_Buy1_Button:IsVisible()then if aucBtn==nil then aucBtn=CreateFrame("\066\117\116\116\111\110",nil,UIParent,"")aucBtn:SetFrameStrata("\084\079\079\076\084\073\080")aucBtn:SetSize(222,32)aucBtn:SetPoint("\067\069\078\084\069\082",BrowseBidButton,"\067\069\078\084\069\082",22,0)aucBtn:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\097\117\107\046\116\103\097")aucBtn:Hide()end if Atr_Search_Box:IsVisible()and Atr_Search_Box:GetText()=="\208\158\208\177\209\139\209\135\208\189\208\190\208\181 \208\191\208\184\209\129\209\140\208\188\208\190"then aucBtn:Show()aucBtn:SetSize(422,32)else if aucBtn~=nil then aucBtn:Hide()end end end end function diffT(H,V)for c=1,100,1 do if H[c]~=V[c]then return false end end return true end function antc(H)shablon="\097\098\099\100\101\102\103\104\105\106\107\108\109\110\111\112\113\114\115\116\117\118\119\120\121\122\065\066\067\068\069\070\071\072\073\074\075\076\077\078\079\080\081\082\083\084\085\086\087\088\089\090 \033\063\044\046-\048\049\050\051\052\053\054\055\056\057\'\040\041"myB=string.find(shablon,(tostring(H)):sub(1,1),1,true)if tonumber(#tostring(H))>=2 then for V=2,#tostring(H),1 do myB=myB..string.find(shablon,(tostring(H)):sub(V,V),1,true)end end return myB end function ochered(H,V,c,j,G,P,k,A,Y,D)if H~="\208\156\208\190\209\128"then local W=UnitClass("\112\108\097\121\101\114")local n=0 local u,l,B,r for V=1,24,1 do if c==1 then u,__,__,__,__,l,B,r=UnitDebuff("\116\097\114\103\101\116",V)if r=="\112\108\097\121\101\114"then if u=="\208\158\208\183\208\189\208\190\208\177"then if B~=nil and tonumber(B)-tonumber(GetTime())<=5 then testQ.o=1 else testQ.o=nil end end if u=="\208\154\209\128\208\190\208\178\208\176\208\178\208\176\209\143 \209\135\209\131\208\188\208\176"then if B~=nil and tonumber(B)-tonumber(GetTime())<=5 then testQ.c=1 else testQ.c=nil end end end end if j==1 then u=UnitBuff("\112\108\097\121\101\114",V)end if u~=nil then if u==H then n=1 end end end local O=UnitClass("\112\108\097\121\101\114")if O=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then if testQ.o==1 and testQ.c==1 then local H for V,c in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]=="\208\156\208\190\209\128"then H=1 end end end if H~=1 then table.insert(testQ.skills,V,"\208\156\208\190\209\128")end end end for V,c in pairs(testQ.skills)do if testQ.skills[V]==H then n=1 end end local E=0 if A~=nil then E=E+1 end if Y~=nil then E=E+1 end if D~=nil then E=E+1 end local M,v,y,m=GetSpellInfo(H)if m==nil then m=0 end if O=="\208\148\209\128\209\131\208\184\208\180"then m=30 end if P=="\109"then if UnitPower("\112\108\097\121\101\114")<m and(IsUsableSpell(H)and GetSpellCooldown(H)==0)then if n~=1 then if V==0 then table.insert(testQ.skills,V,H)end if V==1 then table.insert(testQ.skills,H)end end else for V,c in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==H then testQ.skills[V]=nil end end end end end local b,s,C,h=GetSpellInfo(H)if h==nil then h=0 end if P=="\098"then if UnitPower("\112\108\097\121\101\114")>=h and(IsUsableSpell(H)and GetSpellCooldown(H)==0)then if n~=1 then if V==0 then table.insert(testQ.skills,1,H)end if V==1 then table.insert(testQ.skills,H)end else end else for V,c in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==H then testQ.skills[V]=nil end end end end end if G~=nil and(IsUsableSpell(H)and(GetSpellCooldown(H)==0 and k==nil))then if O=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then if H=="\208\159\209\128\208\176\208\178\208\181\208\180\208\189\208\190\208\181 \208\189\208\181\208\184\209\129\209\130\208\190\208\178\209\129\209\130\208\178\208\190"then if n~=1 then PlaySoundFile(G)end end else if H~="\208\146\208\187\208\176\209\129\209\130\209\140 \208\187\209\140\208\180\208\176"then PlaySoundFile(G)end end if O=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then if H=="\208\146\208\187\208\176\209\129\209\130\209\140 \208\187\209\140\208\180\208\176"then if n~=1 then end end else if H~="\208\159\209\128\208\176\208\178\208\181\208\180\208\189\208\190\208\181 \208\189\208\181\208\184\209\129\209\130\208\190\208\178\209\129\209\130\208\178\208\190"then PlaySoundFile(G)end end end if H=="\208\156\209\143\209\129\208\190\209\128\209\131\208\177\208\186\208\176"then if tonumber(GetComboPoints("\112\108\097\121\101\114",target))==1 and n~=1 then end end if k==1 then if UnitHealth("\112\108\097\121\101\114")<=tonumber(UnitHealthMax("\112\108\097\121\101\114"))/2 and GetSpellCooldown(H)==0 then table.insert(testQ.skills,V,H)if G~=nil then end else for V,c in pairs(testQ.skills)do if testQ.skills[V]~=nil then if testQ.skills[V]==H then testQ.skills[V]=nil end end end end end end end function partyFrameHide()for H=1,25,1 do local V=_G["\080\097\114\116\121\077\101\109\098\101\114\070\114\097\109\101"..H]if V~=nil and V:IsVisible()then V:Hide()end end end function bs(H)local V local c=UnitClass("\112\108\097\121\101\114")local j=UnitStat("\112\108\097\121\101\114",1)local G=UnitStat("\112\108\097\121\101\114",2)local P=UnitStat("\112\108\097\121\101\114",3)local k=UnitStat("\112\108\097\121\101\114",4)local A=UnitStat("\112\108\097\121\101\114",5)local Y=GetSpellBonusHealing()local D=GetCombatRating(6)local W=GetCombatRating(9)local n=GetCombatRating(24)local u=GetCombatRating(2)local l=GetCombatRating(3)local B=GetCombatRating(4)local r=GetCombatRating(5)local O=GetManaRegen()local E=GetCombatRating(25)local M,v=UnitAttackPower("\112\108\097\121\101\114")local y=GetCombatRating(18)local m=M+v local b local s=0 if c=="\208\150\209\128\208\181\209\134"or c=="\208\150\209\128\208\184\209\134\208\176"then local H,c,j,G,P=GetTalentInfo(3,27)if P>=1 then V=(((((k+A*.5)+Y*2)+D)+W*2)+O*.5)+y s=D.."\047\050\056\057\047\052\052\054"else V=((((k+A*1.5)+Y*2)+W)+O*1.5)+y s=D.."\047\048"end end if c=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then local H,c,E,M,v=GetTalentInfo(1,26)local b,C,h,z,q=GetTalentInfo(2,26)local J,X,t,K,a=GetTalentInfo(3,26)if v>=1 then V=((((k*2+A)+Y*1.5)+W)+O)+y*1.5 s=D.."\047\048"end if q>=1 then V=(((((((j+G)+P*2)+D)+n)+u*1.5)+l*1.5)+B*1.5)+r*1.5 s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n.."\047\049\056\053"))))end if a>=1 then V=(((((j*2+G)+D)+W)+m)+y)+n s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n.."\047\049\052\056"))))end end if c=="\208\146\208\190\208\184\208\189"then local H,c,k,A,Y=GetTalentInfo(3,7)if Y>=1 then V=(((((((j+G)+P*2)+D)+n)+u*1.5)+l*1.5)+B*1.5)+r*1.5 s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n.."\047\049\054\052"))))else V=((((((j*2+G)+D)+W*1.5)+n)+E*2)+m)+y s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n..("\047\050\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\049\052\048\048")))))))end end if c=="\208\148\209\128\209\131\208\184\208\180"then local c,B,r,M,v=GetTalentInfo(3,27)local b,C,h,z,q=GetTalentInfo(2,5)local J,X,t,K,a=GetTalentInfo(1,13)local L,U,F,p,R=GetTalentInfo(2,9)if v>=1 or H=="\209\133\208\184\208\187"then V=((((k+A*1.5)+Y*2)+y*1.5)+W)+O*1.5 s=D.."\047\048"end if q>=1 or H=="\208\188\208\181\208\180\208\178\208\181\208\180\209\140"then V=((((((((j+G*2)+P*2)+D)+W)+y*1.5)+n)+u*1.5)+l*2)+E s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n..("\047\049\051\050\047\050\056\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\063\063")))))))end if a>=1 or H=="\209\129\208\190\208\178\208\176"then V=(((((k+A*.5)+Y*2)+D)+W*2)+O*.5)+y s=D.."\047\050\054\051"end if R>=1 or H=="\208\186\208\190\209\130"then V=((((((j+G*2)+D)+W*1.5)+n)+E*2)+m)+y s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n..("\047\049\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\049\052\048\048")))))))end end if c=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"or c=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"then V=((((((j+G*2)+D)+W)+E*2)+n)+m)+y s=D..("\047"..("\050\054\051"..("\047"..("\055\050\050"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n..("\047\049\051\050"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\049\052\048\048")))))))))end if c=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\208\186"or c=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\209\134\208\176"then V=(((((k+A*1.5)+Y*2)+D)+W*1.5)+O*.5)+y*1.5 s=D..("\047"..("\050\056\057\047\052\052\054 "..("\208\165\208\176\209\129\209\130\058 "..(y.." \049\049\048\048\047\049\052\048\048"))))end if c=="\208\168\208\176\208\188\208\176\208\189"or c=="\208\168\208\176\208\188\208\176\208\189\208\186\208\176"then local H,c,P,u,l=GetTalentInfo(1,3)local B,r,M,v,b=GetTalentInfo(2,9)local C,h,z,q,J=GetTalentInfo(3,1)if l>=3 and b>=1 then q,q,q,q,l=GetTalentInfo(1,7)q,q,q,q,b=GetTalentInfo(2,11)end if l>=1 then V=(((k+Y*2)+W)+D)+y*1.5 s=D.."\047\051\054\056"end if b>=1 then V=(((((((j+G*2)+D)+W*1.5)+E)+m)+y*1.5)+n)+Y*.5 s=D..("\047"..("\050\051\050"..("\047"..("\051\054\056"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n.."\047\049\052\048"))))))end if J>=1 then V=((((k+A)+Y*2)+W)+O*2)+y*2 s=D..("\047"..("\048"..(" \099\046\047\208\186\208\176\208\191\058 "..(y.."\047\049\050\054\057\047\050\049\048\048"))))end end if c=="\208\158\209\133\208\190\209\130\208\189\208\184\208\186"or c=="\208\158\209\133\208\190\209\130\208\189\208\184\209\134\208\176"then V=((((G*2+D)+W)+E*2)+m)+y s=D..("\047"..("\050\054\051"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\049\052\048\048"))))end if c=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then local H,c,k,A,Y=GetTalentInfo(1,7)local B,r,O,M,v=GetTalentInfo(2,3)local y,b,C,h,z=GetTalentInfo(3,3)if Y>=1 or v>=1 or z>=1 then V=(((((j+G)+P*2)+D)+n)+u*1.5)+l*1.5 s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n.."\047\049\055\048\047\052\048\057"))))else V=(((((j*2+G)+D)+W)+n)+E)+m s=D..("\047"..("\050\054\051"..(" \208\188\208\176\209\129\209\130\046\047\208\186\208\176\208\191\058 "..(n..("\047\049\055\048"..(" \209\128\208\191\208\177\047\208\186\208\176\208\191\058 "..(E.."\047\049\052\048\048")))))))end end if c=="\208\156\208\176\208\179"then V=((((k+A)+Y*2)+D)+W*1.5)+y*1.5 s=D..("\047"..("\051\055\054 \209\133\208\176\209\129\209\130\047\208\186\208\176\208\191\058 "..(y..("\047\049\049\051\048 \208\154\209\128\208\184\209\130\047\208\186\208\176\208\191\058 "..(W.."\047\049\049\053\048\063\040\052\053\037\041")))))end if V~=nil then return string.format("\037\100",V)..(" \209\133\208\184\209\130\047\208\186\208\176\208\191\058 "..s)else SendChatMessage("\208\159\208\190\209\135\208\181\208\188\209\131 \209\130\208\190 \208\191\209\131\209\129\209\130\208\190\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\046 \208\175\058 "..c,"\079\070\070\073\067\069\082",nil,1)end end GameTooltip:HookScript("\079\110\083\104\111\119",function(H)local V=UnitClass("\112\108\097\121\101\114")local c=0 local j local G=0 local P=0 local k=0 local A=0 local Y=0 local D=0 local W=0 local n=0 local u=0 local l=0 local B=0 local r=0 local O=0 local E=0 local M=0 local v=0 local y=0 local m=0 local b=0 local s=0 local C=0 local h=0 local z=0 local q=0 local J=0 local X=0 local t=0 local K=0 local a=0 local L local U=GetUnitName("\112\108\097\121\101\114")if testQ then if testQ[U]then if testQ[U].edaQuest~=nil and testQ[U].edaQuest~=2 then local H=_G.GameTooltipTextLeft1:GetText()if testQ.edaNum==nil then testQ.edaNome=H testQ.edaNum=proverkaNaKolvoPredmetov(H)if testQ.edaNomeRez==nil then testQ.edaNomeRez={}end else if testQ.edaNome~=H then testQ.edaNome=nil testQ.edaNum=nil else if testQ.edaNomeRez~=nil then local V=proverkaNaKolvoPredmetov(H)if testQ.edaNum>V then if testQ.edaNomeRez[H]==nil then local V=math.random(1,10)if V~=1 then print("\208\164\209\131\044 \208\189\208\181\208\178\208\186\209\131\209\129\208\189\208\190\033")testQ.edaNomeRez[H]=H else local H=math.random(1,10)if H==10 then testQ[U].edaQuest=2 SendChatMessage("\208\157\208\176\208\185\208\180\208\181\208\189 \208\184\208\180\208\181\208\176\208\187\209\140\208\189\209\139\208\185 \208\186\208\190\209\128\208\188 \208\180\208\187\209\143 \208\191\208\181\209\130\208\176\033","\079\070\070\073\067\069\082",nil,1)SendChatMessage("\208\157\208\176\208\185\208\180\208\181\208\189 \208\184\208\180\208\181\208\176\208\187\209\140\208\189\209\139\208\185 \208\186\208\190\209\128\208\188 \208\180\208\187\209\143 \208\191\208\181\209\130\208\176\033\033","\079\070\070\073\067\069\082",nil,1)SendChatMessage("\208\157\208\176\208\185\208\180\208\181\208\189 \208\184\208\180\208\181\208\176\208\187\209\140\208\189\209\139\208\185 \208\186\208\190\209\128\208\188 \208\180\208\187\209\143 \208\191\208\181\209\130\208\176\033\033\033","\079\070\070\073\067\069\082",nil,1)else print("\208\146\209\128\208\190\208\180\208\181 \208\178\208\186\209\131\209\129\208\189\208\190\044 \208\189\208\190 \209\141\209\130\208\190 \208\189\208\181 \209\130\208\190\209\135\208\189\208\190\046\046")testQ.edaNomeRez={}end end end end end end end end end end for H=1,H:NumLines(),1 do if _G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText()~=nil then if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,1)=="\043"or string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,1)=="\124"then j=mysplit(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText())if j[3]~=nil and string.utf8sub(j[3],1,3)=="\208\178\209\139\208\189"then if k==0 then k=tonumber(string.utf8sub(j[1],2))end if k==nil then k=tonumber(string.utf8sub(j[1],11))L=H end if k~=0 and L~=H then if tonumber(j[1]:sub(2))~=nil then else k=k+tonumber(j[1]:sub(11))end end end if j[3]~=nil and string.utf8sub(j[3],1,3)=="\208\187\208\190\208\178"then if P==0 then P=tonumber(string.utf8sub(j[1],2))end if P==nil then P=tonumber(string.utf8sub(j[1],11))L=H end if P~=0 and L~=H then if tonumber(j[1]:sub(2))~=nil then else P=P+tonumber(j[1]:sub(11))end end end if j[3]~=nil and string.utf8sub(j[3],1,3)=="\209\129\208\184\208\187"then if j[4]==nil then if G==0 then G=tonumber(string.utf8sub(j[1],2))end if G==nil then G=tonumber(string.utf8sub(j[1],11))L=H end if G~=0 and L~=H then if tonumber(j[1]:sub(2))~=nil then else G=G+tonumber(j[1]:sub(11))end end end end if j[3]~=nil and string.utf8sub(j[3],1,3)=="\208\184\208\189\209\130"then if A==0 then A=tonumber(string.utf8sub(j[1],2))end if A==nil then A=tonumber(string.utf8sub(j[1],11))L=H end if A~=0 and L~=H then if tonumber(j[1]:sub(2))~=nil then else A=A+tonumber(j[1]:sub(11))end end end if j[3]~=nil and string.utf8sub(j[3],1,3)=="\208\180\209\131\209\133"then if Y==0 then Y=tonumber(string.utf8sub(j[1],2))end if Y==nil then Y=tonumber(string.utf8sub(j[1],11))L=H end if Y~=0 and L~=H then if tonumber(j[1]:sub(2))~=nil then else Y=Y+tonumber(j[1]:sub(11))end end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\176\209\130\208\176"then v=tonumber(j[1]:sub(2))if v==nil then v=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\186\209\128\208\184"then n=tonumber(j[1]:sub(2))if n==nil then n=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\188\208\176\209\129"then u=tonumber(j[1]:sub(2))if u==nil then u=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\183\208\176\208\186"then D=tonumber(j[1]:sub(2))if D==nil then D=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\188\208\181\209\130"then W=tonumber(j[1]:sub(2))if W==nil then W=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\209\129\208\186\208\190"then W=tonumber(j[1]:sub(2))if W==nil then W=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\183\208\176\209\137"then l=tonumber(j[1]:sub(2))if l==nil then l=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\209\131\208\186\208\187"then B=tonumber(j[1]:sub(2))if B==nil then B=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\191\208\176\209\128"then r=tonumber(j[1]:sub(2))if r==nil then r=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\177\208\187\208\190"then O=tonumber(j[1]:sub(2))if O==nil then O=tonumber(j[1]:sub(11))end end if j[4]~=nil and string.utf8sub(j[4],1,3)=="\208\191\209\128\208\190"then M=tonumber(j[1]:sub(2))if M==nil then M=tonumber(j[1]:sub(11))end end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\176\209\130\208\176\208\186\208\184")then K=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\186\209\128\208\184\209\130\208\184\209\135\208\181\209\129\208\186\208\190\208\179\208\190")then s=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\188\208\176\209\129\209\130\208\181\209\128\209\129\209\130\208\178\208\176")then C=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\183\208\176\208\186\208\187\208\184\208\189\208\176\208\189\208\184\208\185")then m=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\188\208\181\209\130\208\186\208\190\209\129\209\130\208\184")then b=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\209\129\208\186\208\190\209\128\208\190\209\129\209\130\208\184")then a=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\183\208\176\209\137\208\184\209\130\209\139")then h=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\209\131\208\186\208\187\208\190\208\189\208\181\208\189\208\184\209\143")then z=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\191\208\176\209\128\208\184\209\128\208\190\208\178\208\176\208\189\208\184\209\143")then q=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\177\208\187\208\190\208\186\208\184\209\128\208\190\208\178\208\176\208\189\208\184\209\143")then J=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\146\208\190\209\129\208\191\208\190\208\187\208\189\208\181\208\189\208\184\208\181")then X=mysplit(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText())X=tonumber(X[5])end end if string.utf8sub(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),1,4)=="\208\149\209\129\208\187\208\184"then if string.find(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\208\191\209\128\208\190\208\177\208\184\208\178\208\176\208\189\208\184\209\143")then t=tonumber(string.match(_G["\071\097\109\101\084\111\111\108\116\105\112\084\101\120\116\076\101\102\116"..H]:GetText(),"\037\083\043\036"))end end end end if v==nil then v=0 end if G==nil then G=0 end if P==nil then P=0 end if k==nil then k=0 end if A==nil then A=0 end if Y==nil then Y=0 end if D==nil then D=0 end if W==nil then W=0 end if n==nil then n=0 end if u==nil then u=0 end if l==nil then l=0 end if B==nil then B=0 end if r==nil then r=0 end if O==nil then O=0 end if E==nil then E=0 end if M==nil then M=0 end if K==nil then K=0 end if m==nil then m=0 end if b==nil then b=0 end if s==nil then s=0 end if C==nil then C=0 end if h==nil then h=0 end if z==nil then z=0 end if q==nil then q=0 end if J==nil then J=0 end if X==nil then X=0 end if t==nil then t=0 end if a==nil then a=0 end if y==nil then y=0 end if V=="\208\150\209\128\208\181\209\134"or V=="\208\150\209\128\208\184\209\134\208\176"then local H,V,j,G,P=GetTalentInfo(3,27)if P>=1 then c=((((((((((A+Y*.5)+D*2)+m*2)+W)+b)+n*2)+s*2)+E*.5)+X*.5)+y)+a else c=((((((((A+Y*1.5)+D*2)+n)+E*1.5)+y)+m*2)+s)+X*1.5)+a end end if V=="\208\159\208\176\208\187\208\176\208\180\208\184\208\189"then local H,V,j,M,t=GetTalentInfo(1,26)local L,U,F,p,R=GetTalentInfo(2,26)local Q,o,i,T,w=GetTalentInfo(3,26)if t>=1 then c=((((((((A*2+Y)+D*1.5)+n)+E)+y*1.5)+m*1.5)+s)+X)+a*1.5 end if R>=1 then c=(((((((((((((G+P)+k*2)+W)+u)+l*1.5)+B*1.5)+r*1.5)+O*1.5)+b)+C)+h*1.5)+z*1.5)+q*1.5)+J*1.5 end if w>=1 then c=((((((((((G*2+P)+W)+n)+v)+y)+u)+b)+s)+K)+a)+C end end if V=="\208\146\208\190\208\184\208\189"then local H,V,j,A,Y=GetTalentInfo(3,7)if Y>=1 then c=(((((((((((((G+P)+k*2)+W)+u)+l*1.5)+B*1.5)+r*1.5)+O*1.5)+b)+C)+h*1.5)+z*1.5)+q*1.5)+J*1.5 else c=((((((((((((G*2+P)+W)+n*1.5)+u)+M*2)+v)+y)+b)+s*1.5)+C)+t*2)+K)+a end end if V=="\208\148\209\128\209\131\208\184\208\180"then local H,V,j,r,O=GetTalentInfo(3,27)local q,J,L,U,F=GetTalentInfo(2,5)local p,R,Q,o,i=GetTalentInfo(1,13)local T,w,S,I,Z=GetTalentInfo(2,9)if O>=1 then c=((((((((A+Y*1.5)+D*2)+y*1.5)+n)+E*1.5)+m*2)+a*1.5)+s)+X*1.5 end if F>=1 then c=(((((((((((((((G+P*2)+k*2)+W)+n)+y*1.5)+u)+l*1.5)+B*2)+M)+b)+s)+a*1.5)+C)+h*1.5)+z*2)+t end if i>=1 then c=((((((((((A+Y*.5)+D*2)+W)+n*2)+E*.5)+y)+m*2)+b)+s*2)+X*.5)+a end if Z>=1 then c=((((((((((((G+P*2)+W)+n*1.5)+u)+M*2)+v)+y)+b)+s*1.5)+C)+t*2)+K)+a end end if V=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"or V=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"then c=((((((((((((G+P*2)+W)+n)+M*2)+u)+v)+y)+b)+s)+t*2)+C)+K)+a end if V=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\208\186"or V=="\208\167\208\181\209\128\208\189\208\190\208\186\208\189\208\184\208\182\208\189\208\184\209\134\208\176"then c=((((((((((A+Y*1.5)+D*2)+W)+n*1.5)+E*.5)+y*1.5)+m*2)+b)+s*1.5)+X*.5)+a*1.5 end if V=="\208\168\208\176\208\188\208\176\208\189"then local H,V,j,k,l=GetTalentInfo(1,3)local B,r,O,h,z=GetTalentInfo(2,9)local q,J,L,U,F=GetTalentInfo(3,1)if l>=3 and z>=1 then U,U,U,U,l=GetTalentInfo(1,7)U,U,U,U,z=GetTalentInfo(2,11)end if l>=1 then c=(((((((A+D*2)+n)+W)+y*1.5)+m*2)+s)+b)+a*1.5 end if z>=1 then c=((((((((((((((G+P*2)+W)+n*1.5)+M)+v)+y*1.5)+u)+D)+b)+s*1.5)+t)+K)+a*1.5)+C)+m end if F>=1 then c=((((((((A+Y)+D*2)+n)+E*2)+y*2)+m*2)+s)+X*2)+a*2 end end if V=="\208\158\209\133\208\190\209\130\208\189\208\184\208\186"or V=="\208\158\209\133\208\190\209\130\208\189\208\184\209\134\208\176"then c=(((((((((P*2+W)+n)+M*2)+v)+y)+b)+s)+t*2)+K)+a end if V=="\208\160\209\139\209\134\208\176\209\128\209\140 \209\129\208\188\208\181\209\128\209\130\208\184"then local H,V,j,A,Y=GetTalentInfo(1,7)local D,r,O,E,y=GetTalentInfo(2,3)local m,q,J,X,a=GetTalentInfo(3,3)if Y>=1 or y>=1 or a>=1 then c=(((((((((G+P)+k*2)+W)+u)+l*1.5)+B*1.5)+b)+C)+h*1.5)+z*1.5 else c=((((((((((G*2+P)+W)+n)+u)+M)+v)+b)+s)+C)+t)+K end end if V=="\208\156\208\176\208\179"then c=((((((((A+Y)+D*2)+W)+n*1.5)+y*1.5)+m*2)+b)+s*1.5)+a*1.5 end if tonumber(c)~=0 then GameTooltip:AddLine("\124\099\102\102\048\048\066\070\070\070\208\177\209\129\058 \124\099\102\102\070\070\056\067\048\048"..c)GameTooltip:Show()else end end)function ns_obj(H)local V if H=="\097\097"then V="\107\097"end if H=="\097\065"then V="\116"end if H=="\097\098"then V="\102"end if H=="\097\066"then V="\111\098"end if H=="\097\099"then V="\109\122"end if H=="\097\067"then V="\104"end return V end local G={[0]="\048";[1]="\049";[2]="\050";[3]="\051";[4]="\052",[5]="\053",[6]="\054",[7]="\055";[8]="\056",[9]="\057";[10]="\065",[11]="\066";[12]="\067",[13]="\068",[14]="\069",[15]="\070",[16]="\071";[17]="\035";[18]="\036",[19]="\037";[20]="\040",[21]="\041";[22]="\042",[23]="\043";[24]="-",[25]="\046";[26]="\047",[27]="\058",[28]="\059";[29]="\060",[30]="\061",[31]="\062";[32]="\063";[33]="\064",[34]="\072";[35]="\073";[36]="\074",[37]="\075";[38]="\076";[39]="\077";[40]="\078",[41]="\079",[42]="\080",[43]="\081",[44]="\082";[45]="\083";[46]="\084",[47]="\085",[48]="\086",[49]="\087";[50]="\088",[51]="\089",[52]="\090",[53]="\094";[54]="\095";[55]="\096";[56]="\097",[57]="\098",[58]="\099";[59]="\100";[60]="\101";[61]="\102",[62]="\103",[63]="\104";[64]="\105",[65]="\106";[66]="\107",[67]="\108";[68]="\109",[69]="\110";[70]="\111";[71]="\112";[72]="\113",[73]="\114",[74]="\115";[75]="\116",[76]="\117";[77]="\118",[78]="\119";[79]="\120",[80]="\121",[81]="\122";[82]="\033";[83]="\123";[84]="\124",[85]="\125",[86]="\091",[87]="\093";[88]="\'";[89]="\044"}local P={}for H,V in pairs(G)do P[V]=H end function numeCod(H)local V=0 for c=1,#H,1 do local j=H:sub(c,c)local G=P[j]or 0 V=V*90+G end return V end function rand_alfabet()testQ.ns_alfabetQ={}testQ.ns_alfabetQ1={}local H={[1]="\208\144";[2]="\208\145";[3]="\208\146",[4]="\208\147",[5]="\208\148";[6]="\208\150";[7]="\208\151",[8]="\208\152";[9]="\208\154";[10]="\208\155";[11]="\208\156",[12]="\208\157";[13]="\208\158";[14]="\208\159";[15]="\208\160";[16]="\208\161";[17]="\208\162";[18]="\208\163",[19]="\208\164",[20]="\208\165";[21]="\208\166",[22]="\208\167",[23]="\208\168",[24]="\208\175";[25]="\208\149",[26]="\208\153";[27]="\208\173",[28]="\208\169",[29]="\208\174";[30]="\208\171"}for V=1,5,1 do local c=math.random(1,30)table.insert(testQ.ns_alfabetQ,H[c])table.insert(testQ.ns_alfabetQ1,H[c])end end function np_change_0()ns_cfg={HPheight=14;HPwidth=99,CBheight=5,CBtieFont=10,border=4,rheight=15;Rpoint="\082\073\071\072\084";RrelativePoint="\076\069\070\084";Rx=0,Ry=-4;LvLFontSize=13,LvLpoint="\082\073\071\072\084";LvLrelativePoint="\076\069\070\084";LvLx=-2;LvLy=0,NameFontSize=11;Npoint="\066\079\084\084\079\077";NrelativePoint="\084\079\080",Nx=0;Ny=4,hostileunit={r=.77;g=.11,b=.11};friendlyunit={r=.6,g=.88,b=.99},friendlyplayer={r=.11;g=.88;b=.11},neutralunit={r=.99,g=.99;b=.0}}end function np_change_nil()ns_cfg={HPheight=4;HPwidth=99,CBheight=5;CBtieFont=10,border=2,rheight=15,Rpoint="\082\073\071\072\084",RrelativePoint="\076\069\070\084";Rx=0;Ry=-4,LvLFontSize=13;LvLpoint="\082\073\071\072\084";LvLrelativePoint="\076\069\070\084";LvLx=-2;LvLy=0,NameFontSize=11,Npoint="\066\079\084\084\079\077",NrelativePoint="\084\079\080",Nx=0,Ny=4,hostileunit={r=.77,g=.11;b=.11},friendlyunit={r=.6,g=.88;b=.99};friendlyplayer={r=.11,g=.88;b=.11};neutralunit={r=.99,g=.99;b=.0}}end function ns_xy(H,V,c,j)local G=sqrt((H-c)^2+(V-j)^2)return G end function numZome()if GetZoneText()=="\208\155\209\131\208\189\208\190\209\129\208\178\208\181\209\130"then kont="\050"lok="\049\052"end if GetZoneText()=="\208\151\208\176\208\189\208\179\208\176\209\128\209\130\208\190\208\191\209\140"then kont="\051"lok="\050"end if GetZoneText()=="\208\162\208\176\208\189\208\176\209\128\208\184\209\129"then kont="\049"lok="\049\056"end if GetZoneText()=="\208\158\209\128\208\179\209\128\208\184\208\188\208\188\208\176\209\128"then kont="\049"lok="\049\048"end if GetZoneText()=="\208\168\209\130\208\190\209\128\208\188\208\179\209\128\208\176\208\180"then kont="\050"lok="\050\056"end if GetZoneText()=="\208\148\209\131\209\128\208\190\209\130\208\176\209\128"then kont="\049"lok="\052"end if GetZoneText()=="\208\161\209\130\208\181\208\191\208\184"then kont="\049"lok="\049\055"end return kont,lok end function ns_locaziya()local H=math.random(1,7)local V if H==1 then V="\208\155\209\131\208\189\208\190\209\129\208\178\208\181\209\130"end if H==2 then V="\208\148\209\131\209\128\208\190\209\130\208\176\209\128"end if H==3 then V="\208\158\209\128\208\179\209\128\208\184\208\188\208\188\208\176\209\128"end if H==4 then V="\208\151\208\176\208\189\208\179\208\176\209\128\209\130\208\190\208\191\209\140"end if H==5 then V="\208\161\209\130\208\181\208\191\208\184"end if H==6 then V="\208\162\208\176\208\189\208\176\209\128\208\184\209\129"end if H==7 then V="\208\168\209\130\208\190\209\128\208\188\208\179\209\128\208\176\208\180"end return V end function ns_q4xy()local H=GetUnitName("\112\108\097\121\101\114")kont,lok=numZome()if kont~=nil then if testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]==nil then testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]={}local V=math.random(1,99)local c=math.random(1,99)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=600 testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..c)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=5 else if GetZoneText()==testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok then if testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time>=1 then local V,c=GetPlayerMapPosition("\112\108\097\121\101\114")testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=(ns_xy(V,c,testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x,testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y)/tonumber(mapTables.lokRasstoyanie[kont][lok]))/10 testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time-1 print("\208\158\209\129\209\130\208\176\208\187\208\190\209\129\209\140 "..(testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time.." \209\129\208\181\208\186\209\131\208\189\208\180"))if(ns_xy(V,c,testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x,testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y)/tonumber(mapTables.lokRasstoyanie[kont][lok]))/10<.5 then testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121\095\101\110\100"]=1 SendChatMessage("\208\158\208\189\208\176 \209\130\209\131\209\130\033 \208\157\209\142\209\133\208\190\208\188 \209\135\209\131\209\142\033","\079\070\070\073\067\069\082",nil,1)end else testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()SendChatMessage("\208\163\208\178\209\139\044 \208\188\208\190\209\142 \208\191\209\128\208\184\208\189\209\134\208\181\209\129\209\129\209\131 \209\131\208\182\208\181 \209\131\208\178\208\181\208\183\208\187\208\184 \208\178 "..testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok,"\079\070\070\073\067\069\082",nil,1)local V=math.random(1,99)local c=math.random(1,99)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..c)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=600 end end end else if testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]==nil then testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"]={}local V=math.random(1,99)local c=math.random(1,99)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].time=300 testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].x=tonumber("\048\046"..V)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].y=tonumber("\048\046"..c)testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].lok=ns_locaziya()testQ[H]["\208\178\208\183\209\143\209\130\209\139\208\185\095\208\186\208\178\208\181\209\129\209\130\095\120\121"].timer=5 end end end function allcash(H,V,c)local j,G=GetPlayerMapPosition("\112\108\097\121\101\114")local P=sqrt((j-H)^2+(G-V)^2)local k=(.82-P)/.82 if c==1 then MoveViewRightStart(0)if testQ.acbuhlo==nil then MoveViewLeftStart(k)else MoveViewLeftStart(k/2)end else MoveViewLeftStart(0)if testQ.acbuhlo==nil then MoveViewRightStart(k)else MoveViewRightStart(k/2)end end local A=math.random(1,2)if A==1 then if testQ.acbuhlo==1 then print(k)end end end function osleplenie(H)MoveViewLeftStart(0)MoveViewRightStart(0)local V=math.random(1,2)if V==1 then MoveViewLeftStart(H)else MoveViewRightStart(H)end end function Shuffle(H)local V={}for c=1,#H,1 do V[c]=H[c]end for H=#H,2,-1 do local c=math.random(H)V[H],V[c]=V[c],V[H]end return V end function ns_iya(H)for H=1,100,1 do if iYaBtn[H]~=nil then iYaBtn[H]:Hide()iYaBtn[H]:Enable()iYaBtn[H]:SetAlpha(1)end if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end if tblIya[H].sh==1 then testQ.iya_temp=time()for H=1,11,1 do if iYaBtn[H]~=nil then iYaBtn[H]:SetAlpha(1)end end for H=1,100,1 do if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end for H=1,100,1 do if iYaBtnPic[H]~=nil then iYaBtnPic[H]:Hide()end end for H=1,100,1 do if iYaBtnText[H]~=nil then iYaBtnText[H]:Hide()end end for H=1,100,1 do if iYaBtnVsp[H]~=nil then iYaBtnVsp[H]:Hide()end end iYaBtn:configure(1,0,300,515,32,"",tblIya[H].t1,H,tblIya[H].s1,99)iYaBtn:configure(2,-131,125,256,256,tblIya[H].p1,tblIya[H].t2,H,tblIya[H].s2,99)iYaBtn:configure(3,127,125,256,256,tblIya[H].p2,tblIya[H].t3,H,tblIya[H].s3,99)iYaBtn:configure(4,-131,-165,256,256,tblIya[H].p3,tblIya[H].t4,H,tblIya[H].s4,tblIya[H].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[H].p4,tblIya[H].t5,H,tblIya[H].s5,tblIya[H].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[H].t6,H,tblIya[H].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[H].t7,H,tblIya[H].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[H].t8,H,tblIya[H].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[H].t9,H,tblIya[H].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,300,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)iYaBtn[6]:SetAlpha(.5)iYaBtn[7]:SetAlpha(.5)iYaBtn[2]:SetAlpha(.5)iYaBtn[3]:SetAlpha(.5)end if tblIya[H].sh==2 then testQ.iya_temp=time()for H=1,11,1 do if iYaBtn[H]~=nil then iYaBtn[H]:SetAlpha(1)end end for H=1,100,1 do if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end for H=1,100,1 do if iYaBtnPic[H]~=nil then iYaBtnPic[H]:Hide()end end for H=1,100,1 do if iYaBtnText[H]~=nil then iYaBtnText[H]:Hide()end end for H=1,100,1 do if iYaBtnVsp[H]~=nil then iYaBtnVsp[H]:Hide()end end local V={"\050";"\051","\052";"\053"}local c=Shuffle(V)iYaBtn:configure(1,0,300,515,32,tblIya[H].p10,tblIya[H].t1,H,tblIya[H].s1,99)iYaBtn:configure(2,-131,125,256,256,tblIya[H]["\112"..c[1]],tblIya[H]["\116"..c[1]],H,tblIya[H]["\115"..c[1]],tblIya[H].tq)iYaBtn:configure(3,127,125,256,256,tblIya[H]["\112"..c[2]],tblIya[H]["\116"..c[2]],H,tblIya[H]["\115"..c[2]],tblIya[H].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[H]["\112"..c[3]],tblIya[H]["\116"..c[3]],H,tblIya[H]["\115"..c[3]],tblIya[H].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[H]["\112"..c[4]],tblIya[H]["\116"..c[4]],H,tblIya[H]["\115"..c[4]],tblIya[H].tq)iYaBtn:configure(6,-128,268,256,32,tblIya[H].p6,tblIya[H].t6,H,tblIya[H].s6,99)iYaBtn:configure(7,128,268,256,32,tblIya[H].p7,tblIya[H].t7,H,tblIya[H].s7,99)iYaBtn:configure(8,-128,-22,256,32,tblIya[H].p8,tblIya[H].t8,H,tblIya[H].s8,99)iYaBtn:configure(9,128,-22,256,32,tblIya[H].p9,tblIya[H].t9,H,tblIya[H].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,300,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[H].sh==3 then testQ.iya_temp=time()for H=1,11,1 do if iYaBtn[H]~=nil then iYaBtn[H]:SetAlpha(1)end end for H=1,100,1 do if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end for H=1,100,1 do if iYaBtnPic[H]~=nil then iYaBtnPic[H]:Hide()end end for H=1,100,1 do if iYaBtnText[H]~=nil then iYaBtnText[H]:Hide()end end for H=1,100,1 do if iYaBtnVsp[H]~=nil then iYaBtnVsp[H]:Hide()end end local V={"\050";"\051";"\052"}local c=Shuffle(V)iYaBtn:configure(1,0,300,515,32,"",tblIya[H].t1,H,tblIya[H].s1,99)iYaBtn:configure(2,0,125,256,256,tblIya[H]["\112"..c[1]],tblIya[H]["\116"..c[1]],H,tblIya[H]["\115"..c[1]],tblIya[H].tq)iYaBtn:configure(3,-256,125,256,256,tblIya[H]["\112"..c[2]],tblIya[H]["\116"..c[2]],H,tblIya[H]["\115"..c[2]],tblIya[H].tq)iYaBtn:configure(4,256,125,256,256,tblIya[H]["\112"..c[3]],tblIya[H]["\116"..c[3]],H,tblIya[H]["\115"..c[3]],tblIya[H].tq)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,300,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[H].sh==4 then local V={"\050";"\051","\052";"\053"}local c=Shuffle(V)for H=1,11,1 do if iYaBtn[H]~=nil then iYaBtn[H]:SetAlpha(1)end end for H=1,100,1 do if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end for H=1,100,1 do if iYaBtnPic[H]~=nil then iYaBtnPic[H]:Hide()end end for H=1,100,1 do if iYaBtnText[H]~=nil then iYaBtnText[H]:Hide()end end for H=1,100,1 do if iYaBtnVsp[H]~=nil then iYaBtnVsp[H]:Hide()end end iYaBtn:configure(2,-131,125,256,256,tblIya[H]["\112"..c[1]],tblIya[H]["\116"..c[1]],H,tblIya[H]["\115"..c[1]],tblIya[H].tq)iYaBtn:configure(3,127,125,256,256,tblIya[H]["\112"..c[2]],tblIya[H]["\116"..c[2]],H,tblIya[H]["\115"..c[2]],tblIya[H].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[H]["\112"..c[3]],tblIya[H]["\116"..c[3]],H,tblIya[H]["\115"..c[3]],tblIya[H].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[H]["\112"..c[4]],tblIya[H]["\116"..c[4]],H,tblIya[H]["\115"..c[4]],tblIya[H].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[H]["\116\116"..c[1]],H,tblIya[H].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[H]["\116\116"..c[2]],H,tblIya[H].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[H]["\116\116"..c[3]],H,tblIya[H].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[H]["\116\116"..c[4]],H,tblIya[H].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,300,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)local j={"\049";"\050","\051","\052"}local G=Shuffle(j)iYaBtnP:configure(1,tblIya[H].x1,tblIya[H].y1,tblIya[H].rx1,tblIya[H].ry1,"",tblIya[H]["\116\112"..G[1]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(2,tblIya[H].x2,tblIya[H].y2,tblIya[H].rx2,tblIya[H].ry2,"",tblIya[H]["\116\112"..G[2]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(3,tblIya[H].x3,tblIya[H].y3,tblIya[H].rx3,tblIya[H].ry3,"",tblIya[H]["\116\112"..G[3]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(4,tblIya[H].x4,tblIya[H].y4,tblIya[H].rx4,tblIya[H].ry4,"",tblIya[H]["\116\112"..G[4]],H,tblIya[H].s10,tblIya[H].tq)iYaBtn[2]:Disable()iYaBtn[3]:Disable()iYaBtn[4]:Disable()iYaBtn[5]:Disable()iYaBtn[6]:Disable()iYaBtn[7]:Disable()iYaBtn[8]:Disable()iYaBtn[9]:Disable()end if tblIya[H].sh==5 then testQ.iya_temp=time()local V={"\049","\050";"\051";"\052","\053","\054"}local c=Shuffle(V)iYaBtn:configure(1,0,300,515,32,tblIya[H].p11,tblIya[H].t11,H,tblIya[H].s1,99)iYaBtnPic:configure(1,-259,125,256,256,tblIya[H]["\112"..c[1]],tblIya[H]["\116"..c[1]],H,tblIya[H]["\116\115"..c[1]],tblIya[H].tq)iYaBtnPic:configure(2,257,125,256,256,tblIya[H]["\112"..c[2]],tblIya[H]["\116"..c[2]],H,tblIya[H]["\116\115"..c[2]],tblIya[H].tq)iYaBtnPic:configure(3,-259,-165,256,256,tblIya[H]["\112"..c[3]],tblIya[H]["\116"..c[3]],H,tblIya[H]["\116\115"..c[3]],tblIya[H].tq)iYaBtnPic:configure(4,257,-165,256,256,tblIya[H]["\112"..c[4]],tblIya[H]["\116"..c[4]],H,tblIya[H]["\116\115"..c[4]],tblIya[H].tq)iYaBtnPic:configure(5,0,125,256,256,tblIya[H]["\112"..c[5]],tblIya[H]["\116"..c[5]],H,tblIya[H]["\116\115"..c[5]],tblIya[H].tq)iYaBtnPic:configure(6,0,-165,256,256,tblIya[H]["\112"..c[6]],tblIya[H]["\116"..c[6]],H,tblIya[H]["\116\115"..c[6]],tblIya[H].tq)iYaBtnText:configure(1,-259,268,256,32,"",tblIya[H].tt1,H,tblIya[H].tts1,99)iYaBtnText:configure(2,255,268,256,32,"",tblIya[H].tt2,H,tblIya[H].tts2,99)iYaBtnText:configure(3,-259,-22,256,32,"",tblIya[H].tt3,H,tblIya[H].tts3,99)iYaBtnText:configure(4,255,-22,256,32,"",tblIya[H].tt4,H,tblIya[H].tts4,99)iYaBtnText:configure(5,0,268,256,32,"",tblIya[H].tt5,H,tblIya[H].tts5,99)iYaBtnText:configure(6,0,-22,256,32,"",tblIya[H].tt6,H,tblIya[H].tts6,99)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,316,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)iYaBtn[1]:SetAlpha(.5)end if tblIya[H].sh==6 then local V={"\050","\051","\052","\053"}local c=Shuffle(V)for H=1,11,1 do if iYaBtn[H]~=nil then iYaBtn[H]:SetAlpha(1)end end for H=1,100,1 do if iYaBtnP[H]~=nil then iYaBtnP[H]:Hide()end end for H=1,100,1 do if iYaBtnPic[H]~=nil then iYaBtnPic[H]:Hide()end end for H=1,100,1 do if iYaBtnText[H]~=nil then iYaBtnText[H]:Hide()end end for H=1,100,1 do if iYaBtnVsp[H]~=nil then iYaBtnVsp[H]:Hide()end end iYaBtn:configure(2,-131,125,256,256,tblIya[H]["\112"..c[1]],tblIya[H]["\116"..c[1]],H,tblIya[H]["\115"..c[1]],tblIya[H].tq)iYaBtn:configure(3,127,125,256,256,tblIya[H]["\112"..c[2]],tblIya[H]["\116"..c[2]],H,tblIya[H]["\115"..c[2]],tblIya[H].tq)iYaBtn:configure(4,-131,-165,256,256,tblIya[H]["\112"..c[3]],tblIya[H]["\116"..c[3]],H,tblIya[H]["\115"..c[3]],tblIya[H].tq)iYaBtn:configure(5,127,-165,256,256,tblIya[H]["\112"..c[4]],tblIya[H]["\116"..c[4]],H,tblIya[H]["\115"..c[4]],tblIya[H].tq)iYaBtn:configure(6,-128,268,256,32,"",tblIya[H]["\116\116"..c[1]],H,tblIya[H].s6,99)iYaBtn:configure(7,128,268,256,32,"",tblIya[H]["\116\116"..c[2]],H,tblIya[H].s7,99)iYaBtn:configure(8,-128,-22,256,32,"",tblIya[H]["\116\116"..c[3]],H,tblIya[H].s8,99)iYaBtn:configure(9,128,-22,256,32,"",tblIya[H]["\116\116"..c[4]],H,tblIya[H].s9,99)iYaBtn:configure(10,268,300,32,32,"","\120",H,"",99)iYaBtn:configure(11,-322,300,128,64,"",H..("\047"..50-testQ.iya_ser),"","",99)local j={"\049";"\050";"\051";"\052"}local G=Shuffle(j)iYaBtnP:configure(1,-11,148,80,32,"",tblIya[H]["\116\112"..G[1]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(2,-11,116,80,32,"",tblIya[H]["\116\112"..G[2]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(3,-11,84,80,32,"",tblIya[H]["\116\112"..G[3]],H,tblIya[H].s10,tblIya[H].tq)iYaBtnP:configure(4,-11,52,80,32,"",tblIya[H]["\116\112"..G[4]],H,tblIya[H].s10,tblIya[H].tq)iYaBtn[2]:Disable()iYaBtn[3]:Disable()iYaBtn[4]:Disable()iYaBtn[5]:Disable()iYaBtn[6]:Disable()iYaBtn[7]:Disable()iYaBtn[8]:Disable()iYaBtn[9]:Disable()end end function sCh()SendChatMessage("\208\167\209\130\208\190 \208\178\209\139 \208\178\208\184\208\180\208\184\209\130\208\181 \209\130\209\131\209\130\058 \"\195\145\195\177\"\063","\071\085\073\076\068",nil,1)end function pokazTextur(H,V,c,j)if j=="\115\104\111\119"then prok_set1={Rx=128,Ry=256,x=-200;y=0}prok_set2={Rx=128,Ry=256;x=200;y=0}prok_set3={Rx=256;Ry=128;x=0,y=200}prok_set4={Rx=0,Ry=0;x=0,y=0}local j=GetScreenWidth()local G=GetScreenHeight()if c==4 then unIcon(tonumber(H),j,G,0+prok_set4.x,0+prok_set4.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if c==1 then unIcon(tonumber(H),prok_set1.Rx,prok_set1.Ry,0+prok_set1.x,0+prok_set1.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if c==2 then unIcon(tonumber(H),prok_set2.Rx,prok_set2.Ry,0+prok_set2.x,0+prok_set2.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end if c==3 then unIcon(tonumber(H),prok_set3.Rx,prok_set3.Ry,0+prok_set3.x,0+prok_set3.y,V,"\115\104\111\119",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082")end else unIcon(tonumber(tonumber(H),x,y,0,0,0,"\104\105\100\101",UIParent,"\067\069\078\084\069\082","\067\069\078\084\069\082"))end end function cepochkiQuestov(H,V,c,j,G,P,k)if H=="\102\101\110\105\120"then if t_cQ[H][testQ[k].puteshestvie].sh=="\208\181\208\180\208\176"then if testQ[k].edaQuest==nil then testQ[k].edaQuest=1 end local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if mapTables.lokRasstoyanie[c]~=nil then if mapTables.lokRasstoyanie[c][j]~=nil then if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\209\141\208\188\208\190\209\134\208\184\209\143"then if testQ[k]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]==nil then obnulenieEmocij(k)testQ[k]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]=1 end if testQ[k]["\208\186\208\178\208\181\209\129\209\130\095\208\189\208\176\095\209\141\208\188\208\190\209\134\208\184\208\184\095\208\178\208\183\209\143\209\130"]~=nil then if proverkaEmocij(k)==nil then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]else local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if mapTables.lokRasstoyanie[c]~=nil then if mapTables.lokRasstoyanie[c][j]~=nil then if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\186\208\187\208\184\208\186"then if ns_FLAGnaClick~=nil then if testQ.fx==nil then testQ.fx,testQ.fy=GetPlayerMapPosition("\112\108\097\121\101\114")end local V=sqrt((G-testQ.fx)^2+(P-testQ.fy)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then showFenix("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]testQ.fy=nil testQ.fx=nil ns_FLAGnaClick=nil end end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\180\208\190\208\177\209\139\209\135\208\176 \208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then showFenix("\115\104\111\119")local V rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")for c=1,t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\154\208\190\208\187\208\184\209\135\208\181\209\129\209\130\208\178\208\190"],1 do if proverkaNaPredmety(t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130"..c])then if proverkaNaKolvoPredmetov(t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130"..c])>=t_cQ[H][testQ[k].puteshestvie]["\208\178\209\129\208\181\208\179\208\190\208\159\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"..c]then V=1 else V=nil break end else V=nil break end end if V~=nil then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end end if H~="\102\101\110\105\120"then if t_cQ[H][testQ[k].puteshestvie].sh=="\208\191\208\190\208\180\208\184 \209\130\209\131\208\180\208\176"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\178\208\183\208\187\208\190\208\188 \209\129\208\181\208\185\209\132\208\176"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)puteshestvieGrafikaHide()sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\180\208\190\208\177\209\139\209\135\208\176 \208\191\209\128\208\181\208\180\208\188\208\181\209\130\208\190\208\178"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")if proverkaNaPredmety(t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\049"])and(proverkaNaPredmety(t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\050"])and proverkaNaPredmety(t_cQ[H][testQ[k].puteshestvie]["\208\191\209\128\208\181\208\180\208\188\208\181\209\130\051"]))then puteshestvieGrafikaHide()SendChatMessage("\208\173\209\130\208\176\208\191 "..(testQ[k].puteshestvie..(" \208\183\208\176\208\178\208\181\209\128\209\136\208\181\208\189\046 \208\159\208\181\209\128\208\181\209\133\208\190\208\180 \208\189\208\176 \209\141\209\130\208\176\208\191 "..t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"])),"\079\070\070\073\067\069\082",nil,1)sohranenieProgressa("\208\190\208\177\209\139\209\135\208\186\208\176")testQ[k].puteshestvie=t_cQ[H][testQ[k].puteshestvie]["\208\186\209\131\208\180\208\176"]PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\178\208\190\208\191\209\128\208\190\209\129"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\112\117\110\116\111\046\111\103\103")end end end if t_cQ[H][testQ[k].puteshestvie].sh=="\208\191\208\190\208\177\208\181\208\180\208\176"then if tonumber(t_cQ[H][testQ[k].puteshestvie].kont)==tonumber(c)and tonumber(t_cQ[H][testQ[k].puteshestvie].lok)==tonumber(j)then local V=sqrt((G-t_cQ[H][testQ[k].puteshestvie].x)^2+(P-t_cQ[H][testQ[k].puteshestvie].y)^2)if V<mapTables.lokRasstoyanie[c][j]*t_cQ[H][testQ[k].puteshestvie].dalnost then quesT("\115\104\111\119")rtnTextF(t_cQ[H][testQ[k].puteshestvie].text,1,"\115\104\111\119")else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\159\208\190\208\177\208\181\208\180\208\176\033\033\033 \208\146\208\190\208\182\208\180\209\140\044 \209\143 \208\189\208\181\209\129\209\131 \209\130\208\181\208\177\208\181 \208\178\209\129\208\181 \209\129\208\190\208\180\208\181\209\128\208\182\208\184\208\188\208\190\208\181 \209\129\208\181\208\185\209\132\208\190\208\178\033\033\033","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")puteshestvieHide()end end else if rtnText[1]~=nil and rtnText[1]:IsVisible()then puteshestvieGrafikaHide()SendChatMessage("\208\159\208\190\208\177\208\181\208\180\208\176\033\033\033 \208\146\208\190\208\182\208\180\209\140\044 \209\143 \208\189\208\181\209\129\209\131 \209\130\208\181\208\177\208\181 \208\178\209\129\208\181 \209\129\208\190\208\180\208\181\209\128\208\182\208\184\208\188\208\190\208\181 \209\129\208\181\208\185\209\132\208\190\208\178\033\033\033","\079\070\070\073\067\069\082",nil,1)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\102\105\110\046\111\103\103")puteshestvieHide()end end end end end function puteshestvieHide()local H=GetUnitName("\112\108\097\121\101\114")testQ[H].puteshestvie=nil testQ[H][testQ[H].puteshestvieTabella]=nil quesT("\104\105\100\101")rtnTextF("",1,"\104\105\100\101")if btn[980]~=nil then btn[980]:Hide()btn[979]:Hide()btn[978]:Hide()end puteshestvieGrafikaHide()end function puteshestvieGrafikaHide()if fenix[1]~=nil then showFenix("\104\105\100\101")end if iconQ[1]~=nil then quesT("\104\105\100\101")end rtnTextF("",1,"\104\105\100\101")end function ns_addXY()local H,V=GetPlayerMapPosition("\112\108\097\121\101\114")local c=tostring(GetCurrentMapContinent())local j=tostring(GetCurrentMapZone())print("\091\'\120\'\093 \061 "..(H.."\044"))print("\091\'\121\'\093 \061 "..(V.."\044"))print("\091\'\107\111\110\116\'\093 \061 "..(c.."\044"))print("\091\'\108\111\107\'\093 \061 "..(j.."\044"))end function proverkaNaPredmety(H)for V=0,4,1 do for c=1,GetContainerNumSlots(V),1 do local j=GetContainerItemLink(V,c)if j and j:find(H)then return true end end end end function proverkaNaKolvoPredmetov(H)local V=0 for c=0,4,1 do for j=1,GetContainerNumSlots(c),1 do local G=GetContainerItemLink(c,j)if G and G:find(H)then local H,G=GetContainerItemInfo(c,j)V=V+G end end end return V end function sohranenieProgressa(H)local V=GetUnitName("\112\108\097\121\101\114")if H=="\208\190\208\177\209\139\209\135\208\186\208\176"then if testQ[V][testQ[V]]==nil then testQ[V][testQ[V].puteshestvieTabella]=0 end if tonumber(testQ[V][testQ[V].puteshestvieTabella])<tonumber(t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176"])then testQ[V][testQ[V].puteshestvieTabella]=t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176"]end end if H=="\208\178\208\183\208\187\208\190\208\188"then if testQ[V][testQ[V]]==nil then testQ[V][testQ[V].puteshestvieTabella]=0 end if tonumber(testQ[V][testQ[V].puteshestvieTabella])<tonumber(t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176 \208\191\209\128\208\184 \208\178\208\183\208\187\208\190\208\188\208\181"])then testQ[V][testQ[V].puteshestvieTabella]=t_cQ[testQ[V].puteshestvieTabella][testQ[V].puteshestvie]["\208\186\209\131\208\180\208\176 \208\191\209\128\208\184 \208\178\208\183\208\187\208\190\208\188\208\181"]end end end function sohranenieTablicRamerovLokaciy()SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\055","\048\046\048\048\048\052\057\057","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\048","\048\046\048\048\051\054\055\054","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \052","\048\046\048\048\048\054\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \050\056","\048\046\048\048\050\049","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \057\057 \049","\048\046\048\048\051","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\056","\048\046\048\048\048\056\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \051 \050","\048\046\048\048\055","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \049\052","\048\046\048\048\050","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \049 \049\053","\048\046\048\048\048\052\057\057","\103\117\105\108\100")SendAddonMessage("\114\097\115\115\116\111\121\097\110\105\101 \050 \050\053","\048\046\048\048\048\052\057\057","\103\117\105\108\100")end function proverkaEmocij(H)local V if testQ[H].HumanMan==nil then V=1 end if testQ[H].HumanWoman==nil then V=1 end if testQ[H].DworfMan==nil then V=1 end if testQ[H].DworfWoman==nil then V=1 end if testQ[H].NEMan==nil then V=1 end if testQ[H].NEWoman==nil then V=1 end if testQ[H].GnomMan==nil then V=1 end if testQ[H].GnomWoman==nil then V=1 end if testQ[H].DrenayMan==nil then V=1 end if testQ[H].DrenayWoman==nil then V=1 end if testQ[H].OrkMan==nil then V=1 end if testQ[H].OrkWoman==nil then V=1 end if testQ[H].UndeadMan==nil then V=1 end if testQ[H].UndeaWoman==nil then V=1 end if testQ[H].TaurenMan==nil then V=1 end if testQ[H].TaurenWoman==nil then V=1 end if testQ[H].TrollMan==nil then V=1 end if testQ[H].TrollWoman==nil then V=1 end if testQ[H].ElfMan==nil then V=1 end if testQ[H].ElfWoman==nil then V=1 end return V end function testShip(H)local V if testQ[H].HumanMan==nil then V="\208\167\208\181\208\187\208\190\208\178\208\181\208\186"end if testQ[H].HumanWoman==nil then V="\208\167\208\181\208\187\208\190\208\178\208\181\208\186\208\176"end if testQ[H].DworfMan==nil then V="\208\148\208\178\208\190\209\128\209\132"end if testQ[H].DworfWoman==nil then V="\208\148\208\178\208\190\209\128\209\132\208\186\208\176"end if testQ[H].NEMan==nil then V="\208\157\208\190\209\135\208\189\208\190\209\141\208\187\209\140\209\132"end if testQ[H].NEWoman==nil then V="\208\157\208\190\209\135\208\189\208\190\209\141\208\187\209\140\209\132\208\186\208\176"end if testQ[H].GnomMan==nil then V="\208\147\208\189\208\190\208\188"end if testQ[H].GnomWoman==nil then V="\208\147\208\189\208\190\208\188\208\176"end if testQ[H].DrenayMan==nil then V="\208\148\209\128\208\181\208\189\208\181\208\185"end if testQ[H].DrenayWoman==nil then V="\208\148\209\128\208\181\208\189\208\181\208\185\208\186\208\176"end if testQ[H].OrkMan==nil then V="\208\158\209\128\208\186"end if testQ[H].OrkWoman==nil then V="\208\158\209\128\209\135\208\186\208\176"end if testQ[H].UndeadMan==nil then V="\208\144\208\189\208\180\208\181\208\180"end if testQ[H].UndeaWoman==nil then V="\208\149\209\137\208\181 \051\048 \208\188\208\184\208\189\209\131\209\130 \208\182\208\181\208\189\209\137\208\184\208\189\208\176"end if testQ[H].TaurenMan==nil then V="\208\162\208\176\209\131\209\128\208\181\208\189"end if testQ[H].TaurenWoman==nil then V="\208\162\208\181\208\187\208\190\209\135\208\186\208\176"end if testQ[H].TrollMan==nil then V="\208\162\209\128\208\190\208\187\208\187\209\140"end if testQ[H].TrollWoman==nil then V="\208\162\209\128\208\190\208\187\208\187\209\140\208\186\208\176"end if testQ[H].ElfMan==nil then V="\208\173\208\187\209\140\209\132"end if testQ[H].ElfWoman==nil then V="\208\173\208\187\209\140\209\132\208\176"end return V end function obnulenieEmocij(H)testQ[H].HumanMan=nil testQ[H].HumanWoman=nil testQ[H].DworfMan=nil testQ[H].DworfWoman=nil testQ[H].NEMan=nil testQ[H].NEWoman=nil testQ[H].GnomMan=nil testQ[H].GnomWoman=nil testQ[H].DrenayMan=nil testQ[H].DrenayWoman=nil testQ[H].OrkMan=nil testQ[H].OrkWoman=nil testQ[H].UndeadMan=nil testQ[H].UndeaWoman=nil testQ[H].TaurenMan=nil testQ[H].TaurenWoman=nil testQ[H].TrollMan=nil testQ[H].TrollWoman=nil testQ[H].ElfMan=nil testQ[H].ElfWoman=nil end function obnulenieEmocij1(H)testQ[H].HumanMan=1 testQ[H].HumanWoman=1 testQ[H].DworfMan=1 testQ[H].DworfWoman=1 testQ[H].NEMan=1 testQ[H].NEWoman=1 testQ[H].GnomMan=1 testQ[H].GnomWoman=1 testQ[H].DrenayMan=1 testQ[H].DrenayWoman=1 testQ[H].OrkMan=1 testQ[H].OrkWoman=1 testQ[H].UndeadMan=1 testQ[H].UndeaWoman=1 testQ[H].TaurenMan=1 testQ[H].TaurenWoman=1 testQ[H].TrollMan=1 testQ[H].TrollWoman=1 testQ[H].ElfMan=1 testQ[H].ElfWoman=1 end function nsGP()local H={}local V=GetNumRaidMembers()for V=1,V,1 do local c for j=1,GetNumGuildMembers(true),1 do local G,P,k,A,Y,D,W,n,u,l,B,r,O,E,M,v,y=GetGuildRosterInfo(j)if G==UnitName("\114\097\105\100"..V)then H[V]={}local j=mysplit(n)H[V].nome=G H[V].public=W H[V].rank=P if j[3]~=nil then H[V].znach=tonumber(j[3])else H[V].znach=tonumber("\048\048\048\048")end c=1 end end if c==nil then H[V]={}if UnitName("\114\097\105\100"..V)~=nil then H[V].nome=UnitName("\114\097\105\100"..V)H[V].znach=tonumber("\048\048\048\048")H[V].public="\208\157\208\149 \208\146 \208\147\208\152\208\155\208\172\208\148\208\152\208\152"else H[V].nome="\208\191\209\131\209\129\209\130\208\190"H[V].znach=tonumber("\048\048\048\048")end end end table.sort(H,function(H,V)return H.znach<V.znach end)local c={}local j=tostring(1)for H,V in ipairs(H)do c[j]={}c[j].nome=V.nome c[j].znach=V.znach c[j].public=V.public c[j].rank=V.rank j=tostring(tonumber(j)+1)end return c end function gpEnTg()FriendsFrame:Show()GuildFrame:Show()testQ.gpEnTg={}for H=1,GetNumGuildMembers(true),1 do local V,c,j,G,P,k,A,Y,D,W,n,u,l,B,r,O,E=GetGuildRosterInfo(H)local M=mysplit(Y)if M[3]~=nil then testQ.gpEnTg[V]=tonumber(M[3])end end FriendsFrame:Hide()GuildFrame:Hide()end function addMioFld(H,V,c,j)if mioFld1~=nil then if mioFld1[H]~=nil then if mioFld1[H][V]~=nil then mioFld1[H][V][tostring(c)]=tostring(j)end end end end function readMioFld(H,V,c)if mioFld1~=nil then if mioFld1[H]~=nil then if mioFld1[H][V]~=nil then return mioFld1[H][V][tostring(c)]end end end end nBtn={}function nBtn.new(m,H,V,c,j,G,P,k,A,Y,D,W,n,u,l,B,r,O,E,M,v,y)local b={}local s local C local h local z=M b.message=n function b.configure(P)if y==nil then P[H]=P[H]or CreateFrame("\066\117\116\116\111\110",nil,c,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")else P[H]=P[H]or CreateFrame("\066\117\116\116\111\110",nil,c,"")P[H]:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092"..(y.."\046\116\103\097"))if v~=0 then P[H]:SetHighlightTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092"..(y.."\046\116\103\097"))end s={}b:SetText(n)end P[H]:SetPoint(u,c,l,j,G)P[H]:SetSize(D,W)P[H]:SetText(n)P[H]:SetFrameStrata(O)if V~=nil then V(b)end end function b.reMove(G,V,j)G[H]:SetPoint(u,c,l,V,j)end function b.reSize(j,V,c)j[H]:SetSize(V,c)end function b.getID(V)print(H)end function b.Hide(V)V[H]:Hide()end function b.Show(V)V[H]:Show()end function b.textSize(c,V)s[H]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",V,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")end function b.textMove(j,V,c)s[H]:SetPoint("\066\079\084\084\079\077\076\069\070\084",b[H],"\066\079\084\084\079\077\076\069\070\084",V,c)end function b.SetText(c,V)if y~=nil then s[H]=s[H]or b[H]:CreateFontString(nil,"\079\086\069\082\076\065\089")s[H]:SetSize(D,W)s[H]:SetPoint("\084\079\080\076\069\070\084")s[H]:SetFont("\070\111\110\116\115\092\070\082\073\090\081\084\095\095\046\084\084\070",Y,"\079\085\084\076\073\078\069","\077\079\078\079\067\072\082\079\077\069")s[H]:SetText("\124\099\102\102"..(E..(V.."\124\114")))s[H]:Show()else b[H]:SetText(V)end end function b.getSaveNome(H)return z end function b.setOnUpdate(j,V,c)V(j[H],c)end function b.setOnEnter(c,V)V(c[H],n)end function b.setOnClick(c,V)V(c[H],n)end function b.setClick(G,V,c,j)G[H]:RegisterForClicks("\082\105\103\104\116\066\117\116\116\111\110\068\111\119\110","\076\101\102\116\066\117\116\116\111\110\068\111\119\110")G[H]:SetScript("\079\110\067\108\105\099\107",function(H,G,P)if V~=nil then if arg1=="\076\101\102\116\066\117\116\116\111\110"then V(H,G,z,j)end end if c~=nil then if arg1=="\082\105\103\104\116\066\117\116\116\111\110"then c(H,G,z,j)end end end)end function b.gesture(j,V,c)C=CreateFrame("\070\082\065\077\069")h=0 C:SetScript("\079\110\085\112\100\097\116\101",function(j,G)h=h+G if h>.1 then local j,G=WorldFrame:GetSize()local P,k=GetCursorPosition()if P<=20 and k>=G-20 then V(b[H])end if P>=j-20 and k>=G-20 then c(b[H])end end end)end function b.killall(V)C:SetScript("\079\110\085\112\100\097\116\101",nil)b[H]:SetScript("\079\110\067\108\105\099\107",nil)end setmetatable(b,m)m.__index=m return b end function gpBtn1_enter(H,V)H:SetScript("\079\110\069\110\116\101\114",function(H,c,j)GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\155\208\154\208\156\058 \208\189\208\176\209\135\208\184\209\129\208\187\208\184\209\130\209\140 "..(" \124\099\102\102\070\070\056\067\048\048"..(V.." \124\099\102\102\057\057\102\102\057\057\208\147\208\159")))GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\159\208\154\208\156\058 \209\129\208\189\209\143\209\130\209\140 "..(" \124\099\102\102\070\070\056\067\048\048"..(V.." \124\099\102\102\057\057\102\102\057\057\208\147\208\159")))GameTooltip:Show()gpBtn1:Show()gpBtn2:Show()gpBtn3:Show()gpBtn4:Show()gpBtn5:Show()gpBtn6:Show()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",0,-20)ShowCheckboxWindow()end)H:SetScript("\079\110\076\101\097\118\101",function(H,V,c)GameTooltip:Hide()end)end function gpBtn1_click(H,V)H:RegisterForClicks("\082\105\103\104\116\066\117\116\116\111\110\068\111\119\110","\076\101\102\116\066\117\116\116\111\110\068\111\119\110")H:SetScript("\079\110\067\108\105\099\107",function(H,c)if testQ.gpRez==nil or#testQ.gpRez==0 then if arg1=="\076\101\102\116\066\117\116\116\111\110"then SendChatMessage("\208\147\208\159 "..V,"\071\085\073\076\068",nil,1)else SendChatMessage("\208\147\208\159 -"..V,"\071\085\073\076\068",nil,1)end gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)HideCheckboxWindow()gplabels={}testQ.gpRez=nil else if arg1=="\076\101\102\116\066\117\116\116\111\110"then sendGPnik(V)HideCheckboxWindow()gplabels={}testQ.gpRez=nil gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)else sendGPnik(-V)HideCheckboxWindow()gplabels={}testQ.gpRez=nil gpBtn1:Hide()gpBtn2:Hide()gpBtn3:Hide()gpBtn4:Hide()gpBtn5:Hide()gpBtn6:Hide()btn[973]:SetPoint("\076\069\070\084",MinimapZoomOut,"\082\073\071\072\084",25,-20)end end end)end function change_spek(H,V,c,j)SendChatMessage("\033\208\183\208\176\208\188\208\181\209\130\208\186\208\176 "..j.message,"\071\085\073\076\068",nil,1)spek1:Hide()spek2:Hide()spek3:Hide()end function duelOnUpdate(H,V)H:SetScript("\079\110\069\110\116\101\114",function(H,c)GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine("\124\099\070\070\054\052\057\053\069\068\208\159\209\128\208\184\208\189\209\143\209\130\209\140 \208\180\209\131\209\141\208\187\209\140 \208\190\209\130 \208\184\208\179\209\128\208\190\208\186\208\176\058 \124\099\102\102\057\057\102\102\057\057"..V)GameTooltip:Show()end)H:SetScript("\079\110\076\101\097\118\101",function(H,V)GameTooltip:Hide()end)end function btnHide(H)H:Hide()end function btnShow(H)H:Show()end function gpBtnClick(H)if IsRaidLeader()then if testQ.raidAUKPobeda~=nil then SendChatMessage(testQ.raidAUKPobeda..(" \208\191\208\190\208\177\208\181\208\182\208\180\208\176\208\181\209\130\044 \208\191\208\190\209\129\209\130\208\176\208\178\208\184\208\178 "..(testQ.raidAUKPobeda_gp.." \208\147\208\159")),"\082\065\073\068",nil,1)end SendAddonMessage("\110\115\065\085\075\101\110\100 ","\049\048","\082\065\073\068")end end function ns_duelTrue(H,V,c)SendAddonMessage("\110\115\095\100\117\101\108\095\111\116\118\101\116",c,"\103\117\105\108\100")duelBtn[c.."\049"]:Hide()duelBtn[c.."\050"]:Hide()end function ns_duelFalse(H,V,c)SendChatMessage("\208\162\208\176\208\186 \209\143 \208\182 \209\130\209\128\209\131\209\129 \208\184 \208\191\208\190\208\180\208\187\208\181\209\134\046 \208\158\209\130\208\186\208\176\208\183\209\139\208\178\208\176\209\142\209\129\209\140\046","\071\085\073\076\068",nil,1)duelBtn[c.."\049"]:Hide()duelBtn[c.."\050"]:Hide()SendAddonMessage("\110\115\095\100\117\101\108\095\111\116\107\097\122",c,"\103\117\105\108\100")end function nsAUK(H,V,c)if testQ.raidAUK~=nil then V=tonumber(V)if V~=nil then local j=tablelength(testQ.raidAUK)local G local P local k=tablelength(testQ.rez)local A=""local Y=nil for V=1,k,1 do if testQ.rez[tostring(V)].nome==H then P=testQ.rez[tostring(V)].public G=tonumber(testQ.rez[tostring(V)].znach)break end end if j>=1 then for c=1,j,1 do if testQ.raidAUK[c].nome==H then if tonumber(V)<=G then testQ.raidAUK[c].auk=V end Y=1 break end end if Y==nil then testQ.raidAUK[j+1]={nome=H,auk=0,public=P;rezultat=G}if testQ.raidAUK[j+1].auk+tonumber(V)<=G then testQ.raidAUK[j+1].auk=testQ.raidAUK[j+1].auk+tonumber(V)end end else testQ.raidAUK[1]={nome=H;auk=0;public=P;rezultat=G}if testQ.raidAUK[1].auk+tonumber(V)<=G then testQ.raidAUK[1].auk=testQ.raidAUK[1].auk+tonumber(V)end end table.sort(testQ.raidAUK,function(H,V)return H.auk<V.auk end)local D={}local W=""for H,V in ipairs(testQ.raidAUK)do D[H]={nome=V.nome,znach=V.auk;public=V.public,rezultat=V.rezultat}W=W..("\124\099\070\070\054\052\057\053\069\068"..(V.nome..(" \124\099\102\102\070\070\056\067\048\048\040"..(V.public..("\124\099\102\102\056\048\056\048\056\048\124\124"..("\124\099\102\102\102\102\048\048\048\048"..(V.rezultat..("\124\099\102\102\070\070\056\067\048\048\041\058 \124\099\102\102\057\057\102\102\057\057"..(V.auk.."\n")))))))))if H==#testQ.raidAUK and IsRaidLeader()then SendChatMessage(V.nome..("\058 "..(V.auk.."\044 \208\186\209\130\208\190 \208\177\208\190\208\187\209\140\209\136\208\181\063")),"\082\065\073\068",nil,1)testQ.raidAUKPobeda=V.nome testQ.raidAUKPobeda_gp=V.auk end end print(c)TextWindow(c..("\n\n"..W))end end end function lastWords(H)local V=mysplit(H)V=V[1]local c=string.utf8len(V)local j=string.utf8len(H)local G=string.utf8sub(H,c+1,j)return G end function sendGPnik(H)local V=""for H=1,#testQ.gpRez,1 do V=V..(testQ.gpRez[H].." ")end SendAddonMessage("\110\115\071\080"..(" "..H),V,"\103\117\105\108\100")end function sendGP(H)local V=GetUnitName("\112\108\097\121\101\114")msg={}msg[2]=H for H=1,GetNumGuildMembers(true),1 do local c,j,G,P,k,A,Y,D,W,n,u,l,B,r,O,E,M=GetGuildRosterInfo(H)if c==V then if j=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"or j=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"then if GetNumRaidMembers()<=10 then local H=""H=UnitName("\114\097\105\100\049").." "for V=2,GetNumRaidMembers(),1 do H=H..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),H,"\103\117\105\108\100")elseif GetNumRaidMembers()>10 and GetNumRaidMembers()<=20 then local H=""H=UnitName("\114\097\105\100\049").." "for V=2,10,1 do H=H..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),H,"\103\117\105\108\100")local V=""V=UnitName("\114\097\105\100\049\049").." "for H=12,GetNumRaidMembers(),1 do V=V..(UnitName("\114\097\105\100"..H).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),V,"\103\117\105\108\100")elseif GetNumRaidMembers()>20 then local H=""H=UnitName("\114\097\105\100\049").." "for V=2,10,1 do H=H..(UnitName("\114\097\105\100"..V).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),H,"\103\117\105\108\100")local V=""V=UnitName("\114\097\105\100\049\049").." "for H=12,20,1 do V=V..(UnitName("\114\097\105\100"..H).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),V,"\103\117\105\108\100")local c=""c=UnitName("\114\097\105\100\050\049").." "for H=22,GetNumRaidMembers(),1 do c=c..(UnitName("\114\097\105\100"..H).." ")end SendAddonMessage("\110\115\071\080"..(" "..msg[2]),c,"\103\117\105\108\100")end end end end end function createParent()parentFrame=CreateFrame("\070\114\097\109\101",nil,UIParent)parentFrame:SetSize(200,200)parentFrame:SetPoint("\067\069\078\084\069\082")parentFrame:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100",edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114";tile=true;tileSize=32;edgeSize=32,insets={left=11,right=12,top=12,bottom=11}})parentFrame:SetBackdropColor(0,0,0,1)parentFrame:SetMovable(true)parentFrame:EnableMouse(true)parentFrame:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")parentFrame:SetScript("\079\110\068\114\097\103\083\116\097\114\116",function(H)H:StartMoving()end)parentFrame:SetScript("\079\110\068\114\097\103\083\116\111\112",function(H)H:StopMovingOrSizing()ClampFrameToScreen(H)SaveFramePosition(H)end)if testQ.pgChbX and testQ.pgChbY then parentFrame:ClearAllPoints()parentFrame:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",testQ.pgChbX,testQ.pgChbY)end HideCheckboxWindow()end function ClampFrameToScreen(H)local V=UIParent:GetWidth()local c=UIParent:GetHeight()local j=H:GetWidth()local G=H:GetHeight()local P,k=H:GetCenter()P=P or 0 k=k or 0 P=math.max(j/2,math.min(V-j/2,P))k=math.max(G/2,math.min(c-G/2,k))H:ClearAllPoints()H:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",P,k)end function SaveFramePosition(H)local V,c=H:GetCenter()testQ.pgChbX=V testQ.pgChbY=c end function CreateCheckboxes(H,V)local c={}local j=-10 local G=0 for V,P in ipairs(V)do local k=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,H,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")k:SetSize(24,24)k:SetPoint("\084\079\080\076\069\070\084",10,j)local A=k:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")A:SetPoint("\076\069\070\084",k,"\082\073\071\072\084",5,0)A:SetText(P)k.label=P k:SetScript("\079\110\067\108\105\099\107",function(H)if testQ.gpRez==nil then testQ.gpRez={}end local V=mysplit(H.label)if H:GetChecked()then table.insert(testQ.gpRez,V[1])else for H=1,#testQ.gpRez,1 do if testQ.gpRez[H]==V[1]then table.remove(testQ.gpRez,H)end end end end)c[V]=k local Y=A:GetStringWidth()if Y>G then G=Y end j=j-30 end local P=G+50 local k=#V*30+20 H:SetSize(P,k)return c end function HideCheckboxWindow()if parentFrame then parentFrame:Hide()end end function ShowCheckboxWindow()if parentFrame then parentFrame:Show()end end function DestroyCheckboxWindow()if parentFrame then parentFrame:Hide()parentFrame:ClearAllPoints()parentFrame:SetParent(nil)parentFrame=nil end end gplabels={}textWindow=nil local function A(H)local V=UIParent:GetWidth()local c=UIParent:GetHeight()local j=H:GetWidth()local G=H:GetHeight()local P,k=H:GetCenter()P=P or 0 k=k or 0 P=math.max(j/2,math.min(V-j/2,P))k=math.max(G/2,math.min(c-G/2,k))H:ClearAllPoints()H:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",P,k)end function TextWindow(H)if textWindow then textWindow.textLabel:SetText(H)local V=textWindow.textLabel:GetStringWidth()local c=textWindow.textLabel:GetStringHeight()local j=20 textWindow:SetSize(V+j,c+j)A(textWindow)textWindow:Show()return end textWindow=CreateFrame("\070\114\097\109\101",nil,UIParent)textWindow:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100";edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",tile=true,tileSize=32;edgeSize=32,insets={left=11,right=12;top=12,bottom=11}})textWindow:SetBackdropColor(0,0,0,1)textWindow:SetMovable(true)textWindow:EnableMouse(true)textWindow:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")textWindow:SetScript("\079\110\068\114\097\103\083\116\097\114\116",function(H)H:StartMoving()end)textWindow:SetScript("\079\110\068\114\097\103\083\116\111\112",function(H)H:StopMovingOrSizing()A(H)testQ.textWinX,testQ.textWinY=H:GetCenter()end)textWindow.textLabel=textWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")textWindow.textLabel:SetPoint("\067\069\078\084\069\082",textWindow,"\067\069\078\084\069\082",0,0)textWindow.textLabel:SetText(H)local V=textWindow.textLabel:GetStringWidth()local c=textWindow.textLabel:GetStringHeight()local j=20 textWindow:SetSize(V+j,c+j)if testQ.textWinX and testQ.textWinY then textWindow:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",testQ.textWinX,testQ.textWinY)else textWindow:SetPoint("\082\073\071\072\084",btn[973],"\076\069\070\084",0,0)end end function HideTextWindow()if textWindow then textWindow:Hide()end end function ShowTextWindow()if textWindow then textWindow:Show()end end function DestroyTextWindow()if textWindow then textWindow:Hide()textWindow:ClearAllPoints()textWindow:SetParent(nil)textWindow=nil end end function GetFileName(H)return H:match("\091\094\092\047\093\043\036")or H end function CreateListUI()if TestListFrame then TestListFrame:Show()TestListFrame.UpdateList()return end local H=CreateFrame("\070\114\097\109\101","\084\101\115\116\076\105\115\116\070\114\097\109\101",UIParent)H:SetSize(400,500)H:SetPoint("\067\069\078\084\069\082")H:SetMovable(true)H:EnableMouse(true)H:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")H:SetScript("\079\110\068\114\097\103\083\116\097\114\116",H.StartMoving)H:SetScript("\079\110\068\114\097\103\083\116\111\112",H.StopMovingOrSizing)H:SetBackdrop({bgFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\097\099\107\103\114\111\117\110\100";edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",tile=true;tileSize=32,edgeSize=32;insets={left=11;right=12;top=12,bottom=11}})local V=CreateFrame("\066\117\116\116\111\110",nil,H,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")V:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)V:SetScript("\079\110\067\108\105\099\107",function()H:Hide()end)local c=H:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")c:SetPoint("\084\079\080",0,-20)c:SetText("\208\163\208\191\209\128\208\176\208\178\208\187\208\181\208\189\208\184\208\181 \209\129\208\191\208\184\209\129\208\186\208\190\208\188")local j=CreateFrame("\069\100\105\116\066\111\120",nil,H,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")j:SetSize(200,30)j:SetPoint("\084\079\080",0,-60)j:SetAutoFocus(false)local G=CreateFrame("\066\117\116\116\111\110",nil,H,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")G:SetSize(100,30)G:SetPoint("\084\079\080\076\069\070\084",j,"\066\079\084\084\079\077\076\069\070\084",0,-20)G:SetText("\208\148\208\190\208\177\208\176\208\178\208\184\209\130\209\140")local P=CreateFrame("\066\117\116\116\111\110",nil,H,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")P:SetSize(100,30)P:SetPoint("\084\079\080\082\073\071\072\084",j,"\066\079\084\084\079\077\082\073\071\072\084",0,-20)P:SetText("\208\163\208\180\208\176\208\187\208\184\209\130\209\140")local k=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\084\101\115\116\083\099\114\111\108\108\070\114\097\109\101",H,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")k:SetSize(360,300)k:SetPoint("\084\079\080",G,"\066\079\084\084\079\077",0,-30)local A=_G.TestScrollFrameScrollBar A:SetPoint("\084\079\080\076\069\070\084",k,"\084\079\080\082\073\071\072\084",32,-16)local Y=CreateFrame("\070\114\097\109\101",nil,k)Y:SetSize(335,0)k:SetScrollChild(Y)testQ=testQ or{}testQ.fls=testQ.fls or{}local D={}for H,V in pairs(testQ.fls)do if type(H)~="\115\116\114\105\110\103"or type(V)~="\115\116\114\105\110\103"then table.insert(D,H)end end for H,V in ipairs(D)do testQ.fls[V]=nil end Y.entries={}function H.UpdateList(H)local V=0 for H,V in ipairs(Y.entries)do V:Hide()end Y.entries=Y.entries or{}local c={}for H in pairs(testQ.fls)do table.insert(c,H)end table.sort(c,function(H,V)return H<V end)for H,c in ipairs(c)do local j=testQ.fls[c]local G=Y.entries[H]if not G then G=CreateFrame("\070\114\097\109\101",nil,Y)G:SetSize(335,20)G.text=G:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")G.text:SetPoint("\076\069\070\084",5,0)G.text:SetWidth(200)G.dropdown=CreateFrame("\070\114\097\109\101","\084\101\115\116\068\114\111\112\068\111\119\110"..H,G,"\085\073\068\114\111\112\068\111\119\110\077\101\110\117\084\101\109\112\108\097\116\101")G.dropdown:SetPoint("\082\073\071\072\084",G,"\082\073\071\072\084",-10,0)G.dropdown:SetWidth(120)local V=_G["\084\101\115\116\068\114\111\112\068\111\119\110"..(H.."\066\117\116\116\111\110")]V:SetScript("\079\110\067\108\105\099\107",function(H)ToggleDropDownMenu(1,nil,G.dropdown,H,0,0)end)local c=_G["\084\101\115\116\068\114\111\112\068\111\119\110"..(H.."\084\101\120\116")]if c then c:SetWidth(150)end UIDropDownMenu_Initialize(G.dropdown,function(H,V)if not V then return end if V==1 then for H,c in ipairs(ns_alert_sounds)do local j=UIDropDownMenu_CreateInfo()j.text=c.label j.value=c j.hasArrow=true j.notCheckable=true UIDropDownMenu_AddButton(j,V)end elseif V==2 then local H=UIDROPDOWNMENU_MENU_VALUE if H and H.sounds then for H,c in ipairs(H.sounds)do local j=UIDropDownMenu_CreateInfo()j.text=GetFileName(c)j.value=c j.func=function()testQ.fls[G.name]=c UIDropDownMenu_SetText(G.dropdown,GetFileName(c))PlaySoundFile(c,"\077\097\115\116\101\114")CloseDropDownMenus()end j.checked=testQ.fls[G.name]==c UIDropDownMenu_AddButton(j,V)end end end end)Y.entries[H]=G end G.name=c G.text:SetText(c)if j then UIDropDownMenu_SetText(G.dropdown,GetFileName(j))else UIDropDownMenu_SetText(G.dropdown,"\208\157\208\181 \208\178\209\139\208\177\209\128\208\176\208\189\208\190")end G:SetPoint("\084\079\080\076\069\070\084",5,-V)G:Show()V=V+20 end for H=#c+1,#Y.entries,1 do Y.entries[H]:Hide()end Y:SetHeight(math.max(V,1))k:UpdateScrollChildRect()A:SetValue(0)end G:SetScript("\079\110\067\108\105\099\107",function()local V=j:GetText()if V~=""and not testQ.fls[V]then testQ.fls[V]="\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\102\108\115\046\109\112\051"H:UpdateList()j:SetText("")j:ClearFocus()end end)P:SetScript("\079\110\067\108\105\099\107",function()local V=j:GetText()if V~=""and testQ.fls[V]then testQ.fls[V]=nil H:UpdateList()j:SetText("")j:ClearFocus()end end)H:UpdateList()end function SendGuildOfficerMessageWithBonus(H)local V=mysplit(H)local c=UnitName("\112\108\097\121\101\114")if#V<3 then return end local j=V[2]local G=table.concat(V," ",3)for H=1,GetNumGuildMembers(true),1 do local V,P=GetGuildRosterInfo(H)if V==c then if P=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"or P=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"then SendChatMessage(G..(" \208\191\208\187\209\142\209\129 "..j),"\079\070\070\073\067\069\082",nil,1)SendAddonMessage("\110\115\071\080"..(" "..j),G,"\103\117\105\108\100")end SendAddonMessage("\110\115\071\080\108\111\103\082",j..(" "..G),"\103\117\105\108\100")break end end end GpDb_old={}GpDb_old.__index=GpDb_old function GpDb_old.new(V,H)local c={gp_data={},sort_column="\110\105\099\107";sort_ascending=true;visible_rows=20,selected_indices={};last_selected_index=nil,logData={}}setmetatable(c,V)c:_CreateWindow()c:_CreateRaidSelectionWindow()c:_CreateLogWindow()return c end function GpDb_old._CreateLogWindow(H)H.logWindow=CreateFrame("\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\087\105\110\100\111\119",H.window)H.logWindow:SetFrameStrata("\068\073\065\076\079\071")H.logWindow:SetSize(600,H.window:GetHeight())H.logWindow:SetPoint("\084\079\080\076\069\070\084",H.window,"\084\079\080\082\073\071\072\084",5,0)H.logWindow:SetMovable(false)H.logWindow:Hide()H.logWindow.background=H.logWindow:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")H.logWindow.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")H.logWindow.background:SetVertexColor(.1,.1,.1)H.logWindow.background:SetAlpha(.9)H.logWindow.background:SetAllPoints(true)H.logWindow.borderFrame=CreateFrame("\070\114\097\109\101",nil,H.logWindow)H.logWindow.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)H.logWindow.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)H.logWindow.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114";edgeSize=16,insets={left=4;right=4;top=4,bottom=4}})H.logWindow.closeButton=CreateFrame("\066\117\116\116\111\110",nil,H.logWindow,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")H.logWindow.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)H.logWindow.closeButton:SetScript("\079\110\067\108\105\099\107",function()H.logWindow:Hide()end)H.logWindow.filters=CreateFrame("\070\114\097\109\101",nil,H.logWindow)H.logWindow.filters:SetPoint("\084\079\080\076\069\070\084",10,-5)H.logWindow.filters:SetPoint("\082\073\071\072\084",-10,0)H.logWindow.filters:SetHeight(30)H.logWindow.countFilter=CreateFrame("\069\100\105\116\066\111\120",nil,H.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.logWindow.countFilter:SetSize(60,20)H.logWindow.countFilter:SetPoint("\076\069\070\084",H.logWindow.filters,"\076\069\070\084")H.logWindow.countFilter:SetAutoFocus(false)H.logWindow.countFilter:SetText("\208\154\208\190\208\187-\208\178\208\190")H.logWindow.countFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.logWindow.countFilter:ClearFocus()end)H.logWindow.countFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.logWindow.countFilter:ClearFocus()H:UpdateLogDisplay()end)H.logWindow.timeFilter=CreateFrame("\069\100\105\116\066\111\120",nil,H.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.logWindow.timeFilter:SetSize(70,20)H.logWindow.timeFilter:SetPoint("\076\069\070\084",H.logWindow.countFilter,"\082\073\071\072\084",5,0)H.logWindow.timeFilter:SetAutoFocus(false)H.logWindow.timeFilter:SetText("\208\146\209\128\208\181\208\188\209\143")H.logWindow.timeFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.logWindow.timeFilter:ClearFocus()end)H.logWindow.timeFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.logWindow.timeFilter:ClearFocus()H:UpdateLogDisplay()end)H.logWindow.rlFilter=CreateFrame("\069\100\105\116\066\111\120",nil,H.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.logWindow.rlFilter:SetSize(70,20)H.logWindow.rlFilter:SetPoint("\076\069\070\084",H.logWindow.timeFilter,"\082\073\071\072\084",5,0)H.logWindow.rlFilter:SetAutoFocus(false)H.logWindow.rlFilter:SetText("\208\160\208\155")H.logWindow.rlFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.logWindow.rlFilter:ClearFocus()end)H.logWindow.rlFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.logWindow.rlFilter:ClearFocus()H:UpdateLogDisplay()end)H.logWindow.raidFilter=CreateFrame("\069\100\105\116\066\111\120",nil,H.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.logWindow.raidFilter:SetSize(100,20)H.logWindow.raidFilter:SetPoint("\076\069\070\084",H.logWindow.rlFilter,"\082\073\071\072\084",5,0)H.logWindow.raidFilter:SetAutoFocus(false)H.logWindow.raidFilter:SetText("\208\160\208\181\208\185\208\180")H.logWindow.raidFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.logWindow.raidFilter:ClearFocus()end)H.logWindow.raidFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.logWindow.raidFilter:ClearFocus()H:UpdateLogDisplay()end)H.logWindow.nameFilter=CreateFrame("\069\100\105\116\066\111\120",nil,H.logWindow.filters,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.logWindow.nameFilter:SetSize(100,20)H.logWindow.nameFilter:SetPoint("\076\069\070\084",H.logWindow.raidFilter,"\082\073\071\072\084",5,0)H.logWindow.nameFilter:SetAutoFocus(false)H.logWindow.nameFilter:SetText("\208\157\208\184\208\186")H.logWindow.nameFilter:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.logWindow.nameFilter:ClearFocus()end)H.logWindow.nameFilter:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.logWindow.nameFilter:ClearFocus()H:UpdateLogDisplay()end)H.logWindow.showButton=CreateFrame("\066\117\116\116\111\110",nil,H.logWindow.filters,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")H.logWindow.showButton:SetSize(80,22)H.logWindow.showButton:SetPoint("\076\069\070\084",H.logWindow.nameFilter,"\082\073\071\072\084",5,0)H.logWindow.showButton:SetText("\208\159\208\190\208\186\208\176\208\183\208\176\209\130\209\140")H.logWindow.showButton:SetScript("\079\110\067\108\105\099\107",function()local function V(H)if H:find("\037\115")then H=H:gsub("\037\115\043","\095")end return H end local c=V(H.logWindow.countFilter:GetText())local j=V(H.logWindow.timeFilter:GetText())local G=V(H.logWindow.rlFilter:GetText())local P=V(H.logWindow.raidFilter:GetText())local k=V(H.logWindow.nameFilter:GetText())gpDb_old:ClearLog()SendAddonMessage("\078\083\083\104\111\119\077\101\076\111\103\115",c..(" "..(j..(" "..(G..(" "..(P..(" "..k))))))),"\103\117\105\108\100")end)H.logWindow.scrollFrame=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\083\099\114\111\108\108\070\114\097\109\101",H.logWindow,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")H.logWindow.scrollFrame:SetPoint("\084\079\080\076\069\070\084",0,-35)H.logWindow.scrollFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",0,10)H.logWindow.scrollChild=CreateFrame("\070\114\097\109\101")H.logWindow.scrollChild:SetSize(580,1000)H.logWindow.scrollFrame:SetScrollChild(H.logWindow.scrollChild)H.logRows={}for V=1,50,1 do local c=CreateFrame("\070\114\097\109\101","\071\112\068\098\095\111\108\100\076\111\103\082\111\119"..V,H.logWindow.scrollChild)c:SetSize(580,40)c:SetPoint("\084\079\080\076\069\070\084",0,-((V-1)*40))c.text=c:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")c.text:SetAllPoints(true)c.text:SetJustifyH("\076\069\070\084")c.text:SetJustifyV("\084\079\080")c.text:SetWordWrap(true)c.text:SetText("")H.logRows[V]=c end end function GpDb_old.ClearLog(H)H.logData={}H.logWindow.countFilter:SetText("\208\154\208\190\208\187-\208\178\208\190")H.logWindow.timeFilter:SetText("\208\146\209\128\208\181\208\188\209\143")H.logWindow.rlFilter:SetText("\208\160\208\155")H.logWindow.raidFilter:SetText("\208\160\208\181\208\185\208\180")H.logWindow.nameFilter:SetText("\208\157\208\184\208\186")H:UpdateLogDisplay()print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\155\208\190\208\179 \209\131\209\129\208\191\208\181\209\136\208\189\208\190 \208\190\209\135\208\184\209\137\208\181\208\189")end function GpDb_old._CreateWindow(H)H.window=CreateFrame("\070\114\097\109\101","\071\112\084\114\097\099\107\101\114\087\105\110\100\111\119",UIParent)H.window:SetFrameStrata("\068\073\065\076\079\071")H.window:SetSize(400,500)H.window:SetPoint("\076\069\070\084",5,100)H.window:SetMovable(true)H.window:EnableMouse(true)H.window:RegisterForDrag("\076\101\102\116\066\117\116\116\111\110")H.window:SetScript("\079\110\068\114\097\103\083\116\097\114\116",H.window.StartMoving)H.window:SetScript("\079\110\068\114\097\103\083\116\111\112",H.window.StopMovingOrSizing)H.window:Hide()H.window.background=H.window:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")H.window.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")H.window.background:SetVertexColor(0,0,0)H.window.background:SetAlpha(1)H.window.background:SetAllPoints(true)H.window.borderFrame=CreateFrame("\070\114\097\109\101",nil,H.window)H.window.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)H.window.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)H.window.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114",edgeSize=16,insets={left=4,right=4;top=4,bottom=4}})H.window.title=H.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.window.title:SetPoint("\084\079\080",0,-15)H.window.title:SetText("")H.window.closeButton=CreateFrame("\066\117\116\116\111\110",nil,H.window,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")H.window.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)H.window.closeButton:SetScript("\079\110\067\108\105\099\107",function()H.window:Hide()end)H.window.logButton=CreateFrame("\066\117\116\116\111\110",nil,H.window,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")H.window.logButton:SetSize(24,24)H.window.logButton:SetPoint("\082\073\071\072\084",H.window.closeButton,"\076\069\070\084",-5,0)H.window.logButton:SetText("\076")H.window.logButton:SetScript("\079\110\067\108\105\099\107",function()H:ToggleLogWindow()end)H.window.raidOnlyCheckbox=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,H.window,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")H.window.raidOnlyCheckbox:SetPoint("\084\079\080\076\069\070\084",10,-15)H.window.raidOnlyCheckbox:SetSize(24,24)H.window.raidOnlyCheckbox.text=H.window.raidOnlyCheckbox:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.window.raidOnlyCheckbox.text:SetPoint("\076\069\070\084",H.window.raidOnlyCheckbox,"\082\073\071\072\084",5,0)H.window.raidOnlyCheckbox.text:SetText("\208\162\208\190\208\187\209\140\208\186\208\190 \209\128\208\181\208\185\208\180")H.window.raidOnlyCheckbox:SetScript("\079\110\067\108\105\099\107",function()H:_UpdateFromGuild()H:UpdateWindow()end)H.window.scrollFrame=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101","\083\099\114\111\108\108\070\114\097\109\101",H.window,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")H.window.scrollFrame:SetPoint("\084\079\080\076\069\070\084",0,-40)H.window.scrollFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",0,40)H.window.scrollChild=CreateFrame("\070\114\097\109\101")H.window.scrollChild:SetSize(380,500)H.window.scrollFrame:SetScrollChild(H.window.scrollChild)H.window.scrollBar=_G[H.window.scrollFrame:GetName().."\083\099\114\111\108\108\066\097\114"]H.window.scrollBar:SetPoint("\084\079\080\076\069\070\084",H.window.scrollFrame,"\084\079\080\082\073\071\072\084",-20,-16)H.window.scrollBar:SetPoint("\066\079\084\084\079\077\076\069\070\084",H.window.scrollFrame,"\066\079\084\084\079\077\082\073\071\072\084",-20,16)H.window.countText=H.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.window.countText:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,10)H.window.countText:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,10)H.window.countText:SetJustifyH("\076\069\070\084")H.window.countText:SetText("")H.window.totalText=H.window:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.window.totalText:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,30)H.window.totalText:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,30)H.window.totalText:SetJustifyH("\076\069\070\084")H.window.totalText:SetText("")H:_SetupTable()end function GpDb_old._SetupTable(V)local c={"\208\157\208\184\208\186","\208\147\208\159"}for H,c in ipairs(c)do local j=CreateFrame("\066\117\116\116\111\110",nil,V.window.scrollChild)j:SetSize(H==1 and 290 or 50,20)j:SetPoint("\084\079\080\076\069\070\084",(H-1)*290+(H==2 and 10 or 0),0)j:SetNormalFontObject("\071\097\109\101\070\111\110\116\078\111\114\109\097\108")j:SetHighlightFontObject("\071\097\109\101\070\111\110\116\072\105\103\104\108\105\103\104\116")local G=j:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")G:SetAllPoints(true)G:SetText(c)j:SetScript("\079\110\067\108\105\099\107",function()V:SortData(c:lower())V:UpdateWindow()end)end V.rows={}for c=1,999,1 do local j=CreateFrame("\066\117\116\116\111\110","\071\112\068\098\095\111\108\100\082\111\119"..c,V.window.scrollChild)j:SetSize(350,20)j:SetPoint("\084\079\080\076\069\070\084",0,-25-(c-1)*25)j:EnableMouse(true)j:RegisterForClicks("\076\101\102\116\066\117\116\116\111\110\085\112","\082\105\103\104\116\066\117\116\116\111\110\085\112")j:SetHighlightTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056");(j:GetHighlightTexture()):SetVertexColor(.4,.4,.8,.4)j.selection=j:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")j.selection:SetAllPoints(true)j.selection:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")j.selection:SetVertexColor(.3,.3,.7,.7)j.selection:Hide()j.nick=j:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")j.nick:SetPoint("\076\069\070\084",10,0)j.nick:SetWidth(290)j.nick:SetJustifyH("\076\069\070\084")j.gp=j:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")j.gp:SetPoint("\082\073\071\072\084",5,0)j.gp:SetWidth(50)j.gp:SetJustifyH("\082\073\071\072\084")j.lastClickTime=0 j:SetScript("\079\110\067\108\105\099\107",function(G,P,k)local A=FauxScrollFrame_GetOffset(V.window.scrollFrame)local Y=c+A if not V.gp_data or not V.gp_data[Y]then return end local D=GetTime()if P=="\076\101\102\116\066\117\116\116\111\110"and(H()and D-j.lastClickTime<.5)then V:ClearSelection()for H=1,#V.gp_data,1 do V.selected_indices[H]=true end V.last_selected_index=Y V:_UpdateSelectionCount()V:RefreshRowHighlights()V:UpdateRaidWindowVisibility()if V.raidWindow and V.raidWindow:IsShown()then V:_UpdateSelectedPlayersText()end j.lastClickTime=0 return end j.lastClickTime=D if P=="\076\101\102\116\066\117\116\116\111\110"then local H=V.selected_indices[Y]if IsShiftKeyDown()then if not V.last_selected_index then V:ClearSelection()V.selected_indices[Y]=true V.last_selected_index=Y else local H=math.min(V.last_selected_index,Y)local c=math.max(V.last_selected_index,Y)if not IsControlKeyDown()then V:ClearSelection()end for H=H,c,1 do if V.gp_data[H]then V.selected_indices[H]=true end end end elseif IsControlKeyDown()then V.selected_indices[Y]=not H for H in pairs(V.selected_indices)do if not V.gp_data[H]then V.selected_indices[H]=nil end end if V.selected_indices[Y]then V.last_selected_index=Y else V.last_selected_index=nil for H in pairs(V.selected_indices)do if V.selected_indices[H]then V.last_selected_index=H break end end end else if H then V:ClearSelection()else V:ClearSelection()V.selected_indices[Y]=true V.last_selected_index=Y end end V:_UpdateSelectionCount()V:RefreshRowHighlights()V:UpdateRaidWindowVisibility()if V.raidWindow and V.raidWindow:IsShown()then V:_UpdateSelectedPlayersText()end end end)V.rows[c]=j end V.window:SetScript("\079\110\072\105\100\101",function()V:ClearSelection()if V.raidWindow and V.raidWindow:IsShown()then V.raidWindow:Hide()end if V.logWindow and V.logWindow:IsShown()then V.logWindow:Hide()end end)end function GpDb_old.ToggleLogWindow(H)if not H.logWindow then H:_CreateLogWindow()end if H.logWindow:IsShown()then H.logWindow:Hide()else H.logWindow:Show()H:UpdateLogDisplay()if H.raidWindow and H.raidWindow:IsShown()then H.logWindow:SetHeight(H.window:GetHeight()/2)else H.logWindow:SetHeight(H.window:GetHeight())end end end function GpDb_old.UpdateLogDisplay(H)if not H.logWindow or not H.logWindow:IsShown()then return end local V=0 local c={}for j,G in ipairs(H.logData)do local P=H.logWindow.scrollChild:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")P:SetWidth(580)P:SetText(G.text)P:SetWordWrap(true)local k=P:GetStringHeight()+5 c[j]=k V=V+k P:Hide()end local j=0 for V=1,#H.logRows,1 do local G=V if G<=#H.logData then local P=H.logData[G]local k=c[G]H.logRows[V]:SetHeight(k)H.logRows[V]:SetPoint("\084\079\080\076\069\070\084",0,-j)H.logRows[V].text:SetText(P.text)H.logRows[V]:Show()j=j+k else H.logRows[V]:Hide()end end H.logWindow.scrollChild:SetHeight(V)H.logWindow.scrollFrame:UpdateScrollChildRect()end function GpDb_old._UpdateSelectionCount(H)local V=0 for c,j in pairs(H.selected_indices)do if j and H.gp_data[c]then V=V+1 else H.selected_indices[c]=nil end end H.window.countText:SetText(string.format("\208\146\209\139\208\180\208\181\208\187\208\181\208\189\208\190\058 \037\100",V))if V==0 then H.last_selected_index=nil end return V end function GpDb_old.IsValidIndex(V,H)return H and(type(H)=="\110\117\109\098\101\114"and(V.gp_data and V.gp_data[H]))end function GpDb_old.RefreshRowHighlights(H)local V=FauxScrollFrame_GetOffset(H.window.scrollFrame)for c,j in ipairs(H.rows)do local G=c+V if G<=#H.gp_data then if H.selected_indices[G]then j.selection:Show();(j:GetHighlightTexture()):SetAlpha(.2)else j.selection:Hide();(j:GetHighlightTexture()):SetAlpha(.4)end end end local c=0 for H in pairs(H.selected_indices)do c=c+1 end H.window.countText:SetText(string.format("\208\146\209\139\208\180\208\181\208\187\208\181\208\189\208\190\058 \037\100",c))end function GpDb_old.ClearSelection(H)H.selected_indices={}H.last_selected_index=nil H:_UpdateSelectionCount()H:RefreshRowHighlights()H:UpdateRaidWindowVisibility()end function GpDb_old.GetSelectedEntries(H)local V={}for c,j in pairs(H.selected_indices)do if c<=#H.gp_data then table.insert(V,H.gp_data[c])end end return V end function GpDb_old.AddLogEntry(P,H,V,c,j,G)if not P.logWindow then P:_CreateLogWindow()end local function k(H)if not H or type(H)~="\115\116\114\105\110\103"or H==""then return"\124\099\070\070\070\070\070\070\070\070"end for V=1,GetNumGuildMembers(),1 do local c,j,G,P,k,A,Y,D,W,n,u=GetGuildRosterInfo(V)if c and c==H then local H=RAID_CLASS_COLORS[u]if H then return string.format("\124\099\070\070\037\048\050\120\037\048\050\120\037\048\050\120",H.r*255,H.g*255,H.b*255)end break end end return"\124\099\070\070\070\070\070\070\070\070"end local A=tonumber(V)or 0 local Y="\124\099\070\070\065\048\065\048\065\048"..((H or"\063\063\058\063\063").."\124\114")local D=k(c)..((c or"\208\157\208\181\208\184\208\183\208\178\208\181\209\129\209\130\208\189\208\190").."\124\114")local W=A>=0 and"\124\099\070\070\048\048\070\070\048\048"or"\124\099\070\070\070\070\048\048\048\048"local n=W..(tostring(A).."\124\114")local u="\124\099\070\070\070\070\070\070\048\048"..((j or"\208\157\208\181\208\184\208\183\208\178\208\181\209\129\209\130\208\189\208\190").."\124\114")local function l(H)if not H or type(H)~="\115\116\114\105\110\103"then return H end for V=1,GetNumGuildMembers(),1 do local c,j,G,P,k,A,Y,D=GetGuildRosterInfo(V)if c and D then local V={}for H in D:gmatch("\037\083\043")do table.insert(V,H)end if#V>=2 and V[2]==H then return c end end end return H end local B={}if type(G)=="\115\116\114\105\110\103"then for H in G:gmatch("\037\083\043")do local V=l(H)table.insert(B,k(V)..(V.."\124\114"))end end local r=table.concat(B," ")local O=string.format("\037\115 \124 \037\115 \124 \037\115 \124 \037\115 \124 \037\115",Y,D,n,u,r)table.insert(P.logData,{text=O;raw={time=H;rl=c;gp=A;raid=j,targets=G}})if#P.logData>200 then table.remove(P.logData,1)end if P.logWindow and P.logWindow:IsShown()then P:UpdateLogDisplay()P.logWindow.scrollFrame:SetVerticalScroll(P.logWindow.scrollFrame:GetVerticalScrollRange())end end function GpDb_old.UpdateRaidWindowVisibility(V)if not V.raidWindow then return end local c=V:_CheckOfficerRank()if not c then if V.raidWindow:IsShown()then V.raidWindow:Hide()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end return end local j=next(V.selected_indices)~=nil if not j then if V.raidWindow:IsShown()then V.raidWindow:Hide()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end return end local G=H()local P=V.window.raidOnlyCheckbox:GetChecked()local k=not G or P if k and G then local H={}for V=1,GetNumGroupMembers(),1 do local c=GetRaidRosterInfo(V)if c then H[c]=true end end for c in pairs(V.selected_indices)do local j=V.gp_data[c]if j and not H[j.original_nick]then k=false print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\208\181\208\186\208\190\209\130\208\190\209\128\209\139\208\181 \208\178\209\139\208\180\208\181\208\187\208\181\208\189\208\189\209\139\208\181 \208\184\208\179\209\128\208\190\208\186\208\184 \208\189\208\181 \208\178 \209\128\208\181\208\185\208\180\208\181")break end end end if k then if not V.raidWindow:IsShown()then V.raidWindow:Show()V:RestoreRaidWindowState()V:_UpdateSelectedPlayersText()if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight()/2)end end else if V.raidWindow:IsShown()then V.raidWindow:Hide()end if V.logWindow and V.logWindow:IsShown()then V.logWindow:SetHeight(V.window:GetHeight())end end end function GpDb_old.UpdateWindow(H)if not H.window or not H.rows then return end local V=FauxScrollFrame_GetOffset(H.window.scrollFrame)for c=1,H.visible_rows,1 do local j=H.rows[c]local G=c+V if G<=#H.gp_data then local V=H.gp_data[G]j.nick:SetText(V.nick)j.gp:SetText(tostring(V.gp))if V.classColor then j.nick:SetTextColor(V.classColor.r,V.classColor.g,V.classColor.b)else j.nick:SetTextColor(1,1,1)end j:Show()else j:Hide()end end H:RefreshRowHighlights()FauxScrollFrame_Update(H.window.scrollFrame,#H.gp_data,H.visible_rows,25)H:UpdateRaidWindowVisibility()end function GpDb_old.GetNumSelected(H)local V=0 for c in pairs(H.selected_indices)do if H.gp_data[c]then V=V+1 else H.selected_indices[c]=nil end end print(string.format("\071\101\116\078\117\109\083\101\108\101\099\116\101\100\058 \208\189\208\176\208\185\208\180\208\181\208\189\208\190 \037\100 \209\141\208\187\208\181\208\188\208\181\208\189\209\130\208\190\208\178",V))return V end function GpDb_old.Show(V)V.window:Show()V.window.raidOnlyCheckbox:SetChecked(H())V:_UpdateFromGuild()V:UpdateWindow()end function GpDb_old.Hide(H)H.window:Hide()end function GpDb_old._UpdateFromGuild(V)V.gp_data={}local c=0 local j=GetNumGuildMembers()local G=H()V.window.raidOnlyCheckbox:SetChecked(G)local P=G and V.window.raidOnlyCheckbox:GetChecked()if not IsInGuild()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\146\209\139 \208\189\208\181 \209\129\208\190\209\129\209\130\208\190\208\184\209\130\208\181 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184")V:UpdateWindow()return end GuildRoster()C_Timer(.5,function()local H={}for V=1,GetNumGuildMembers(),1 do local c,j,G,P,k,A,Y,D,W,n,u=GetGuildRosterInfo(V)if c then local V=nil if D then local H={}for V in D:gmatch("\037\083\043")do table.insert(H,V)end if#H>=2 then V=H[2]end end H[c]={publicNote=Y;officerNote=D;classFileName=u;playerID=V}end end if P then local G=GetNumGroupMembers()local P=true local k={}for V=1,G,1 do local c,j,G,A,Y,D,W,n,u,l,B,r,O,E,M,v,y,m=GetRaidRosterInfo(V)if c then local V=c:match("\094\040\046-\041-")or c if not H[V]then P=false table.insert(k,c)end end end if not P then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\146 \209\128\208\181\208\185\208\180\208\181 \208\181\209\129\209\130\209\140 \208\189\208\181 \209\135\208\187\208\181\208\189\209\139 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\058 "..table.concat(k,"\044 "))V.window.countText:SetText("\208\158\209\130\208\190\208\177\209\128\208\176\208\182\208\176\208\181\209\130\209\129\209\143 \208\184\208\179\209\128\208\190\208\186\208\190\208\178\058 \048 \040\208\178 \209\128\208\181\208\185\208\180\208\181 \208\181\209\129\209\130\209\140 \208\189\208\181 \209\135\208\187\208\181\208\189\209\139 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041")V.window.totalText:SetText(string.format("\208\146\209\129\208\181\208\179\208\190 \208\184\208\179\209\128\208\190\208\186\208\190\208\178 \209\129 \208\147\208\159\058 \037\100 \040\208\184\208\183 \037\100 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041",c,j))V:UpdateWindow()return end for j=1,G,1 do local G,P,k,A,Y,D=GetRaidRosterInfo(j)if G then local j=G:match("\094\040\046-\041-")or G local P=H[j]if P then local H=0 local j=P.publicNote or""if P.officerNote then local V={}for H in P.officerNote:gmatch("\037\083\043")do table.insert(V,H)end if#V>=3 then H=tonumber(V[3])or 0 end end if H>0 then c=c+1 end local k=G if j and j~=""then k=G..(" \124\099\070\070\070\070\070\070\048\048\040"..(j.."\041\124\114"))end table.insert(V.gp_data,{nick=k,original_nick=G,gp=H,classColor=RAID_CLASS_COLORS[D]or{r=1;g=1,b=1};classFileName=D;playerID=P.playerID})end end end else for H=1,GetNumGuildMembers(),1 do local j,G,P,k,A,Y,D,W,n,u,l=GetGuildRosterInfo(H)if j and(W and W~="")then local H={}for V in W:gmatch("\037\083\043")do table.insert(H,V)end if#H>=3 then local G=tonumber(H[3])or 0 local P=H[2]if G~=0 then c=c+1 local H=j if D and D~=""then H=j..(" \124\099\070\070\070\070\070\070\048\048\040"..(D.."\041\124\114"))end table.insert(V.gp_data,{nick=H,original_nick=j,gp=G;classColor=RAID_CLASS_COLORS[l]or{r=1;g=1,b=1},classFileName=l;playerID=P})end end end end end V.window.countText:SetText(string.format("\208\158\209\130\208\190\208\177\209\128\208\176\208\182\208\176\208\181\209\130\209\129\209\143 \208\184\208\179\209\128\208\190\208\186\208\190\208\178\058 \037\100",#V.gp_data))V.window.totalText:SetText(string.format("\208\146\209\129\208\181\208\179\208\190 \208\184\208\179\209\128\208\190\208\186\208\190\208\178 \209\129 \208\147\208\159\058 \037\100 \040\208\184\208\183 \037\100 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\041",c,GetNumGuildMembers()))V:ClearSelection()V:SortData()V:UpdateWindow()end)end function GpDb_old.Show(V)V.window:Show()if H()then V.window.raidOnlyCheckbox:SetChecked(true)else V.window.raidOnlyCheckbox:SetChecked(false)end GuildRoster()C_Timer(.5,function()V:_UpdateFromGuild()V:UpdateWindow()end)end function GpDb_old.AddGpEntry(j,H,V,c)table.insert(j.gp_data,{nick=H;original_nick=H;gp=tonumber(V)or 0;playerID=c})j:SortData()j:UpdateWindow()end function GpDb_old.UpdateGpEntry(c,H,V)for c,j in ipairs(c.gp_data)do if j.original_nick==H then j.gp=tonumber(V)or 0 break end end c:SortData()c:UpdateWindow()end function GpDb_old.RemoveGpEntry(V,H)for c,j in ipairs(V.gp_data)do if j.original_nick==H then table.remove(V.gp_data,c)break end end V:UpdateWindow()end function GpDb_old.FindGpEntry(V,H)for V,c in ipairs(V.gp_data)do if c.original_nick==H then return c.gp end end return nil end function GpDb_old.ClearAll(H)H.gp_data={}H:UpdateWindow()end function GpDb_old.SortData(V,H)if H then if V.sort_column==H then V.sort_ascending=not V.sort_ascending else V.sort_column=H V.sort_ascending=true end end table.sort(V.gp_data,function(H,c)local j,G if V.sort_column=="\110\105\099\107"then j=string.lower(string.lower(H.original_nick or""))G=string.lower(string.lower(c.original_nick or""))else j=H.gp or 0 G=c.gp or 0 end if V.sort_ascending then return j<G else return j>G end end)V:ClearSelection()V:UpdateWindow()end function GpDb_old.UpdateWindow(H)if not H.window or not H.rows then return end for V,c in ipairs(H.rows)do local j=H.gp_data[V]if j then c.nick:SetText(j.nick)if j.classColor then local H=j.nick:match("\094\091\094\124\093\043")or j.nick c.nick:SetText(H)c.nick:SetTextColor(j.classColor.r,j.classColor.g,j.classColor.b)local V=j.nick:match("\124\099\046\043\036")if V then local H=c.nick:GetText()..(" "..V)c.nick:SetText(H)end else c.nick:SetTextColor(1,1,1)end c.gp:SetText(tostring(j.gp))c.gp:SetTextColor(1,1,1)c:Show()else c:Hide()end end H.window.scrollChild:SetHeight(#H.gp_data*25)H.window.scrollFrame:UpdateScrollChildRect()end function GpDb_old.SaveToNsDb(H)for V,c in ipairs(H.gp_data)do H.ns_db:addStaticStr("\071\080\095\068\065\084\065",c.original_nick,nil,tostring(c.gp))end end function GpDb_old.LoadFromNsDb(H)H.gp_data={}local V=H.ns_db.input_table.GP_DATA if V then for V,c in pairs(V)do table.insert(H.gp_data,{nick=V,original_nick=V,gp=tonumber(c)or 0})end end H:SortData()H:UpdateWindow()end function GpDb_old._CreateRaidSelectionWindow(H)H.raidWindow=CreateFrame("\070\114\097\109\101","\071\112\068\098\082\097\105\100\087\105\110\100\111\119",H.window)H.raidWindow:SetFrameStrata("\068\073\065\076\079\071")H.raidWindow:SetSize(250,H.window:GetHeight()*.5)H.raidWindow:SetPoint("\066\079\084\084\079\077\076\069\070\084",H.window,"\066\079\084\084\079\077\082\073\071\072\084",5,0)H.raidWindow:SetMovable(false)H.raidWindow.background=H.raidWindow:CreateTexture(nil,"\066\065\067\075\071\082\079\085\078\068")H.raidWindow.background:SetTexture("\073\110\116\101\114\102\097\099\101\092\066\117\116\116\111\110\115\092\087\072\073\084\069\056\088\056")H.raidWindow.background:SetVertexColor(0,0,0)H.raidWindow.background:SetAlpha(1)H.raidWindow.background:SetAllPoints(true)H.raidWindow.borderFrame=CreateFrame("\070\114\097\109\101",nil,H.raidWindow)H.raidWindow.borderFrame:SetPoint("\084\079\080\076\069\070\084",-3,3)H.raidWindow.borderFrame:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",3,-3)H.raidWindow.borderFrame:SetBackdrop({edgeFile="\073\110\116\101\114\102\097\099\101\092\068\105\097\108\111\103\070\114\097\109\101\092\085\073-\068\105\097\108\111\103\066\111\120-\066\111\114\100\101\114";edgeSize=16;insets={left=4,right=4,top=4;bottom=4}})H.raidWindow.closeButton=CreateFrame("\066\117\116\116\111\110",nil,H.raidWindow,"\085\073\080\097\110\101\108\067\108\111\115\101\066\117\116\116\111\110")H.raidWindow.closeButton:SetPoint("\084\079\080\082\073\071\072\084",-5,-5)H.raidWindow.closeButton:SetScript("\079\110\067\108\105\099\107",function()H.raidWindow:Hide()end)H.raidWindow.dropdown=CreateFrame("\070\114\097\109\101","\071\112\068\098\082\097\105\100\068\114\111\112\100\111\119\110",H.raidWindow,"\085\073\068\114\111\112\068\111\119\110\077\101\110\117\084\101\109\112\108\097\116\101")H.raidWindow.dropdown:SetPoint("\084\079\080\076\069\070\084",10,-10)H.raidWindow.dropdown:SetPoint("\082\073\071\072\084",H.raidWindow.closeButton,"\076\069\070\084",-10,0)H.raidWindow.dropdown:SetHeight(32)local function V()if H.raidWindow.selectedRaidId then for V=1,GetNumSavedInstances(),1 do local c,j=GetSavedInstanceInfo(V)if j==H.raidWindow.selectedRaidId then UIDropDownMenu_SetText(H.raidWindow.dropdown,string.format("\037\100\058 \037\115",j,c))return end end else UIDropDownMenu_SetText(H.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")end end local function c(c,j,G)local P=UIDropDownMenu_CreateInfo()for c=1,GetNumSavedInstances(),1 do local j,G,k,A,Y,D,W,n,u=GetSavedInstanceInfo(c)if j and G then P.text=string.format("\037\100\058 \037\115 \040\037\100\041",G,j,u)P.arg1={id=G,name=j;players=u}P.func=function(c,j)H.raidWindow.selectedRaidId=j.id H.raidWindow.selectedRaidName=j.name H.raidWindow.selectedRaidPlayers=j.players if H.saveSelectionEnabled then H.lastSelectionType="\114\097\105\100"H.lastRaidId=j.id H.lastRaidName=j.name H.lastRaidPlayers=j.players end V()H.raidWindow.editBox:SetText("")end P.checked=H.raidWindow.selectedRaidId==G UIDropDownMenu_AddButton(P)end end P.text="\208\158\209\135\208\184\209\129\209\130\208\184\209\130\209\140 \208\178\209\139\208\177\208\190\209\128"P.func=function()H.raidWindow.selectedRaidId=nil H.raidWindow.selectedRaidName=nil if H.saveSelectionEnabled then H.lastSelectionType=nil H.lastRaidId=nil H.lastRaidName=nil H.lastRaidPlayers=0 end V()end P.notCheckable=true UIDropDownMenu_AddButton(P)end UIDropDownMenu_Initialize(H.raidWindow.dropdown,c)UIDropDownMenu_SetWidth(H.raidWindow.dropdown,200)UIDropDownMenu_SetButtonWidth(H.raidWindow.dropdown,224)UIDropDownMenu_JustifyText(H.raidWindow.dropdown,"\076\069\070\084")V()H.raidWindow.otherText=H.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.raidWindow.otherText:SetPoint("\084\079\080\076\069\070\084",H.raidWindow.dropdown,"\066\079\084\084\079\077\076\069\070\084",0,-10)H.raidWindow.otherText:SetText("\208\148\209\128\209\131\208\179\208\190\208\181\058")H.raidWindow.editBox=CreateFrame("\069\100\105\116\066\111\120",nil,H.raidWindow,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.raidWindow.editBox:SetPoint("\084\079\080\076\069\070\084",H.raidWindow.otherText,"\066\079\084\084\079\077\076\069\070\084",0,-5)H.raidWindow.editBox:SetPoint("\082\073\071\072\084",-10,0)H.raidWindow.editBox:SetHeight(20)H.raidWindow.editBox:SetAutoFocus(false)H.raidWindow.editBox:SetScript("\079\110\084\101\120\116\067\104\097\110\103\101\100",function(c)if c:GetText()~=""then if H.saveSelectionEnabled then H.lastSelectionType="\111\116\104\101\114"H.lastOtherText=c:GetText()end H.raidWindow.selectedRaidId=nil H.raidWindow.selectedRaidName=nil V()end end)H.raidWindow.saveCheckbox=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",nil,H.raidWindow,"\085\073\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")H.raidWindow.saveCheckbox:SetPoint("\084\079\080\076\069\070\084",H.raidWindow.editBox,"\066\079\084\084\079\077\076\069\070\084",0,-10)H.raidWindow.saveCheckbox:SetSize(24,24)H.raidWindow.saveCheckbox.text=H.raidWindow.saveCheckbox:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")H.raidWindow.saveCheckbox.text:SetPoint("\076\069\070\084",H.raidWindow.saveCheckbox,"\082\073\071\072\084",5,0)H.raidWindow.saveCheckbox.text:SetText("\208\161\208\190\209\133\209\128\208\176\208\189\208\184\209\130\209\140 \208\178\209\139\208\177\208\190\209\128")H.raidWindow.saveCheckbox:SetChecked(true)H.saveSelectionEnabled=true H.raidWindow.saveCheckbox:SetScript("\079\110\067\108\105\099\107",function()H.saveSelectionEnabled=H.raidWindow.saveCheckbox:GetChecked()end)H.raidWindow.selectedPlayersText=H.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")H.raidWindow.selectedPlayersText:SetPoint("\084\079\080\076\069\070\084",H.raidWindow.saveCheckbox,"\066\079\084\084\079\077\076\069\070\084",0,-5)H.raidWindow.selectedPlayersText:SetPoint("\082\073\071\072\084",-10,0)H.raidWindow.selectedPlayersText:SetHeight(70)H.raidWindow.selectedPlayersText:SetJustifyH("\076\069\070\084")H.raidWindow.selectedPlayersText:SetJustifyV("\084\079\080")H.raidWindow.selectedPlayersText:SetWordWrap(true)local j={5;10;20,25,50,100}local G for V,c in ipairs(j)do local j=CreateFrame("\066\117\116\116\111\110",nil,H.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")j:SetSize(27,20)j:SetText(tostring(c))if V==1 then j:SetPoint("\066\079\084\084\079\077\076\069\070\084",H.raidWindow.selectedPlayersText,"\066\079\084\084\079\077\076\069\070\084",0,-20)else j:SetPoint("\076\069\070\084",G,"\082\073\071\072\084",5,0)end j:SetScript("\079\110\067\108\105\099\107",function()local V=tonumber(H.raidWindow.gpEditBox:GetText())or 0 H.raidWindow.gpEditBox:SetText(tostring(c))H.raidWindow.gpEditBox:HighlightText()end)G=j end local P=CreateFrame("\066\117\116\116\111\110",nil,H.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")P:SetSize(40,22)P:SetText("-\047\043")P:SetPoint("\076\069\070\084",G,"\082\073\071\072\084",5,0)P:SetScript("\079\110\067\108\105\099\107",function()local V=tonumber(H.raidWindow.gpEditBox:GetText())or 0 H.raidWindow.gpEditBox:SetText(tostring(-V))H.raidWindow.gpEditBox:HighlightText()end)H.raidWindow.gpEditBox=CreateFrame("\069\100\105\116\066\111\120",nil,H.raidWindow,"\073\110\112\117\116\066\111\120\084\101\109\112\108\097\116\101")H.raidWindow.gpEditBox:SetPoint("\066\079\084\084\079\077\076\069\070\084",10,5)H.raidWindow.gpEditBox:SetSize(100,20)H.raidWindow.gpEditBox:SetAutoFocus(false)H.raidWindow.gpEditBox:SetScript("\079\110\069\115\099\097\112\101\080\114\101\115\115\101\100",function()H.raidWindow.gpEditBox:ClearFocus()end)H.raidWindow.gpEditBox:SetScript("\079\110\069\110\116\101\114\080\114\101\115\115\101\100",function()H.raidWindow.gpEditBox:ClearFocus()end)H.raidWindow.awardButton=CreateFrame("\066\117\116\116\111\110",nil,H.raidWindow,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")H.raidWindow.awardButton:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-10,5)H.raidWindow.awardButton:SetSize(100,22)H.raidWindow.awardButton:SetText("\208\157\208\176\209\135\208\184\209\129\208\187\208\184\209\130\209\140")H.raidWindow.awardButton:SetScript("\079\110\067\108\105\099\107",function()if not H:_CheckOfficerRank()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\162\208\190\208\187\209\140\208\186\208\190 \208\190\209\132\208\184\209\134\208\181\209\128\209\139 \208\188\208\190\208\179\209\131\209\130 \208\189\208\176\209\135\208\184\209\129\208\187\209\143\209\130\209\140 \208\147\208\159")H.raidWindow:Hide()return end if next(H.selected_indices)==nil then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\208\181\209\130 \208\178\209\139\208\180\208\181\208\187\208\181\208\189\208\189\209\139\209\133 \208\184\208\179\209\128\208\190\208\186\208\190\208\178")H.raidWindow:Hide()return end local V=tonumber(H.raidWindow.gpEditBox:GetText())if not V then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\163\208\186\208\176\208\182\208\184\209\130\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181 \208\147\208\159")return end if not H.raidWindow.selectedRaidId and not(H.lastOtherText or""):match("\037\083")then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\157\209\131\208\182\208\189\208\190 \208\178\209\139\208\177\209\128\208\176\209\130\209\140 \209\128\208\181\208\185\208\180 \208\184\208\187\208\184 \209\131\208\186\208\176\208\183\208\176\209\130\209\140 \208\191\209\128\208\184\209\135\208\184\208\189\209\131")return end if not H.saveSelectionEnabled then H.lastSelectionType=nil H.lastRaidId=nil H.lastRaidName=nil H.lastRaidPlayers=0 H.lastOtherText=nil H.lastGPValue=0 else H.lastGPValue=V end local c if H.raidWindow.selectedRaidId then local j=(H.raidWindow.selectedRaidName or""):gsub("\037\115\043","\095")c=string.format("\037\048\052\100\095\037\115\095\037\100 \037\100",H.raidWindow.selectedRaidId,j,H.raidWindow.selectedRaidPlayers or 0,V)else local j=(H.lastOtherText or""):gsub("\037\115\043","\095")c=string.format("\037\115 \037\100",j,V)end for j in pairs(H.selected_indices)do if H.gp_data[j]then local G=H.gp_data[j].original_nick local P=H.gp_data[j].playerID or"\085\078\075\078\079\087\078"SendAddonMessage("\110\115\071\080"..(" "..V),G,"\103\117\105\108\100")c=c..(" "..P)H:AddLogEntry(V,date("\037\072\058\037\077"),UnitName("\112\108\097\121\101\114"),H.raidWindow.selectedRaidName or H.raidWindow.editBox:GetText(),G)end end SendAddonMessage("\110\115\071\080\108\111\103",c,"\103\117\105\108\100")for H,c in ipairs(H:GetSelectedEntries())do c.gp=(c.gp or 0)+V end H:UpdateWindow()H.raidWindow:Hide()end)H.raidWindow:SetScript("\079\110\072\105\100\101",function()if H.logWindow and H.logWindow:IsShown()then H.logWindow:SetHeight(H.window:GetHeight())end end)H.raidWindow:Hide()end function GpDb_old._UpdateSelectedPlayersText(H)if not H.raidWindow then return end local V=H:GetSelectedEntries()local c={}for H,V in ipairs(V)do table.insert(c,V.original_nick)end local j=table.concat(c,"\044 ")if not H.raidWindow.selectedPlayersText then H.raidWindow.selectedPlayersText=H.raidWindow:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\083\109\097\108\108")H.raidWindow.selectedPlayersText:SetPoint("\084\079\080\076\069\070\084",H.raidWindow.saveCheckbox,"\066\079\084\084\079\077\076\069\070\084",0,-5)H.raidWindow.selectedPlayersText:SetPoint("\082\073\071\072\084",-10,0)H.raidWindow.selectedPlayersText:SetHeight(80)H.raidWindow.selectedPlayersText:SetJustifyH("\076\069\070\084")H.raidWindow.selectedPlayersText:SetJustifyV("\084\079\080")H.raidWindow.selectedPlayersText:SetWordWrap(true)H.raidWindow.selectedPlayersTextContainer=CreateFrame("\070\114\097\109\101",nil,H.raidWindow)H.raidWindow.selectedPlayersTextContainer:SetAllPoints(H.raidWindow.selectedPlayersText)H.raidWindow.selectedPlayersTextContainer:SetScript("\079\110\069\110\116\101\114",function()if H.raidWindow.selectedPlayersText.tooltip then GameTooltip:SetOwner(H.raidWindow.selectedPlayersTextContainer,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:SetText("\208\146\209\139\208\177\209\128\208\176\208\189\208\189\209\139\208\181 \208\184\208\179\209\128\208\190\208\186\208\184\058")GameTooltip:AddLine(H.raidWindow.selectedPlayersText.tooltip,1,1,1,true)GameTooltip:Show()end end)H.raidWindow.selectedPlayersTextContainer:SetScript("\079\110\076\101\097\118\101",function()GameTooltip:Hide()end)end if#j>60 then local V=string.sub(j,1,600).."\046\046\046"H.raidWindow.selectedPlayersText:SetText(V)H.raidWindow.selectedPlayersText.tooltip=j else H.raidWindow.selectedPlayersText:SetText(j)H.raidWindow.selectedPlayersText.tooltip=nil end end function GpDb_old.RestoreRaidWindowState(H)if not H.raidWindow then return end if H.lastSelectionType=="\114\097\105\100"and H.lastRaidId then UIDropDownMenu_SetText(H.raidWindow.dropdown,string.format("\037\100\058 \037\115",H.lastRaidId,H.lastRaidName))H.raidWindow.editBox:SetText("")H.raidWindow.selectedRaidId=H.lastRaidId H.raidWindow.selectedRaidName=H.lastRaidName H.raidWindow.selectedRaidPlayers=H.lastRaidPlayers elseif H.lastSelectionType=="\111\116\104\101\114"and H.lastOtherText then UIDropDownMenu_SetText(H.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")H.raidWindow.editBox:SetText(H.lastOtherText)H.raidWindow.selectedRaidId=nil H.raidWindow.selectedRaidName=nil else UIDropDownMenu_SetText(H.raidWindow.dropdown,"\208\146\209\139\208\177\208\181\209\128\208\184\209\130\208\181 \209\128\208\181\208\185\208\180")H.raidWindow.editBox:SetText("")H.raidWindow.selectedRaidId=nil H.raidWindow.selectedRaidName=nil end if not H.lastGPValue then H.lastGPValue=0 end H.raidWindow.gpEditBox:SetText(tostring(H.lastGPValue))H.raidWindow.saveCheckbox:SetChecked(H.saveSelectionEnabled)H:_UpdateSelectedPlayersText()end function GpDb_old._CheckOfficerRank(H)if not IsInGuild()then return false end local V=UnitName("\112\108\097\121\101\114")for H=1,GetNumGuildMembers(),1 do local c,j,G=GetGuildRosterInfo(H)if c and c==V then local H=GuildControlGetRankName(G+1)if H=="\208\154\208\176\208\191\208\184\209\130\208\176\208\189"or H=="\208\155\208\181\208\185\209\130\208\181\208\189\208\176\208\189\209\130"then return true end break end end return false end function GpDb_old.ToggleRaidWindow(V)if not V:_CheckOfficerRank()then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\162\208\190\208\187\209\140\208\186\208\190 \208\190\209\132\208\184\209\134\208\181\209\128\209\139 \208\188\208\190\208\179\209\131\209\130 \208\189\208\176\209\135\208\184\209\129\208\187\209\143\209\130\209\140 \208\147\208\159")if V.raidWindow and V.raidWindow:IsShown()then V.raidWindow:Hide()end return end if not V.raidWindow then V:_CreateRaidSelectionWindow()end local c=H()local j=V.window.raidOnlyCheckbox:GetChecked()local G=next(V.selected_indices)~=nil if not G and not V.raidWindow:IsShown()then V.raidWindow:Show()UIDropDownMenu_Initialize(V.raidWindow.dropdown,nil)return end if G then if c and not j then print("\124\099\070\070\070\070\048\048\048\048\208\147\208\159\058\124\114 \208\148\208\187\209\143 \208\189\208\176\209\135\208\184\209\129\208\187\208\181\208\189\208\184\209\143 \208\147\208\159 \208\178 \209\128\208\181\208\185\208\180\208\181 \208\178\208\186\208\187\209\142\209\135\208\184\209\130\208\181 \'\208\162\208\190\208\187\209\140\208\186\208\190 \209\128\208\181\208\185\208\180\'")V.raidWindow:Hide()return end if V.raidWindow:IsShown()then V.raidWindow:Hide()else V.raidWindow:Show()UIDropDownMenu_Initialize(V.raidWindow.dropdown,nil)end end end function C_Timer(H,V,c)local j=CreateFrame("\070\114\097\109\101")j.duration=H j.elapsed=0 j.isLooping=c or false j:SetScript("\079\110\085\112\100\097\116\101",function(H,c)H.elapsed=H.elapsed+c if H.elapsed>=H.duration then if type(V)=="\102\117\110\099\116\105\111\110"then V()end if H.isLooping then H.elapsed=0 else H:SetScript("\079\110\085\112\100\097\116\101",nil)H=nil end end end)end function GetNumGroupMembers()if GetNumRaidMembers()>0 then return GetNumRaidMembers()else return GetNumPartyMembers()+1 end end local Y={}local function D(H,V)if type(H)=="\116\097\098\108\101"and type(V)=="\110\117\109\098\101\114"then UIDropDownMenu_AddButton(H,V)end end local function W(H)return H:match("\091\094\092\047\093\043\036")or H end local function n(H)local V=CreateFrame("\070\114\097\109\101","\080\108\097\121\101\114\083\111\117\110\100\077\101\110\117\095"..H,nil,"\085\073\068\114\111\112\068\111\119\110\077\101\110\117\084\101\109\112\108\097\116\101")V.initialize=function(V,c)if not c then return end if c==1 then D({text="\208\148\208\190\208\177\208\176\208\178\208\184\209\130\209\140 \208\178 \209\129\208\191\208\184\209\129\208\190\208\186";notCheckable=1;func=function()testQ=testQ or{}testQ.fls=testQ.fls or{}if not testQ.fls[H]then testQ.fls[H]="\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\102\108\115\046\109\112\051"print("\208\148\208\190\208\177\208\176\208\178\208\187\208\181\208\189\058",H,"\208\151\208\178\209\131\208\186\058",testQ.fls[H])end CloseDropDownMenus()end},1)D({text="";disabled=1;notCheckable=1},1)if ns_alert_sounds and type(ns_alert_sounds)=="\116\097\098\108\101"then for V,c in ipairs(ns_alert_sounds)do if c.label and(c.sounds and type(c.sounds)=="\116\097\098\108\101")then D({text=c.label;notCheckable=1,hasArrow=1,value=c.label..("\095"..H)},1)end end end elseif c==2 then local V=UIDROPDOWNMENU_MENU_VALUE if V and(ns_alert_sounds and type(ns_alert_sounds)=="\116\097\098\108\101")then local c=V:match("\094\040\046\043\041\095"..(H.."\036"))if c then for V,j in ipairs(ns_alert_sounds)do if j.label==c and(j.sounds and type(j.sounds)=="\116\097\098\108\101")then for V,c in ipairs(j.sounds)do D({text=W(c);notCheckable=1;func=function()testQ.fls[H]=c PlaySoundFile(c,"\077\097\115\116\101\114")print("\208\148\208\190\208\177\208\176\208\178\208\187\208\181\208\189\058",H,"\208\151\208\178\209\131\208\186\058",c)CloseDropDownMenus()end},2)end break end end end end end end return V end local function u(H)local V=""local c=""local j=false for G=1,GetNumGuildMembers(),1 do local P,k,A,Y,D,W,n,u=GetGuildRosterInfo(G)if P and strsplit("-",P)==H then c=n or""V=u or""j=true break end end if j then SendChatMessage("\208\152\208\189\209\132\208\190\209\128\208\188\208\176\209\134\208\184\209\143 \208\190\208\177 \208\184\208\179\209\128\208\190\208\186\208\181\058 "..H,"\079\070\070\073\067\069\082")SendChatMessage("  \208\158\209\132\208\184\209\134\208\181\209\128\209\129\208\186\208\176\209\143 \208\183\208\176\208\188\208\181\209\130\208\186\208\176\058 "..(V~=""and V or"\040\208\189\208\181\209\130\041"),"\079\070\070\073\067\069\082")SendChatMessage("  \208\159\209\131\208\177\208\187\208\184\209\135\208\189\208\176\209\143 \208\183\208\176\208\188\208\181\209\130\208\186\208\176\058 "..(c~=""and c or"\040\208\189\208\181\209\130\041"),"\079\070\070\073\067\069\082")SendChatMessage("\"\209\128\208\181\208\191\209\131\209\130\208\176\209\134\208\184\209\143 "..(H.." \048"),"\071\085\073\076\068")else SendChatMessage("\208\152\208\179\209\128\208\190\208\186 "..(H.." \208\189\208\181 \208\189\208\176\208\185\208\180\208\181\208\189 \208\178 \208\179\208\184\208\187\209\140\208\180\208\184\208\184\046"),"\079\070\070\073\067\069\082")end end local function l()hooksecurefunc("\070\114\105\101\110\100\115\070\114\097\109\101\095\083\104\111\119\068\114\111\112\100\111\119\110",function(H)if H and H~=UNKNOWNOBJECT then D({text="\208\157\208\176\209\129\209\130\209\128\208\190\208\184\209\130\209\140 \208\183\208\178\209\131\208\186 \208\180\208\187\209\143 "..H;notCheckable=1;func=function()Y[H]=Y[H]or n(H)ToggleDropDownMenu(1,nil,Y[H],"\099\117\114\115\111\114",0,0)end},1)D({text="\208\159\208\190\209\129\208\188\208\190\209\130\209\128\208\181\209\130\209\140 \208\184\208\189\209\132\208\190\209\128\208\188\208\176\209\134\208\184\209\142";notCheckable=1;func=function()u(H)end},1)end end)hooksecurefunc("\085\110\105\116\080\111\112\117\112\095\079\110\067\108\105\099\107",function()local H=UIDROPDOWNMENU_OPEN_MENU if H and(H.which=="\067\072\065\084\095\082\079\083\084\069\082"or H.which=="\070\082\073\069\078\068")then local V=H.name if V and V~=UNKNOWNOBJECT then D({text="\208\157\208\176\209\129\209\130\209\128\208\190\208\184\209\130\209\140 \208\183\208\178\209\131\208\186 \208\180\208\187\209\143 "..V,notCheckable=1;func=function()Y[V]=Y[V]or n(V)ToggleDropDownMenu(1,nil,Y[V],"\099\117\114\115\111\114",0,0)end},1)D({text="\208\159\208\190\209\129\208\188\208\190\209\130\209\128\208\181\209\130\209\140 \208\184\208\189\209\132\208\190\209\128\208\188\208\176\209\134\208\184\209\142";notCheckable=1,func=function()u(V)end},1)end end end)end local B=CreateFrame("\070\114\097\109\101")B:RegisterEvent("\080\076\065\089\069\082\095\076\079\071\073\078")B:SetScript("\079\110\069\118\101\110\116",function()l()_G.testQ=_G.testQ or{}_G.testQ.fls=_G.testQ.fls or{}end)NSQCMenu_old={}NSQCMenu_old.__index=NSQCMenu_old function NSQCMenu_old.new(c,H,V)local j=setmetatable({},c)j.addonName=H j.subMenus={}j.elements={}j.mainFrame=CreateFrame("\070\114\097\109\101",H.."\077\097\105\110\070\114\097\109\101",InterfaceOptionsFramePanelContainer)j.mainFrame.name=H j.mainFrame:Hide()j.currentY=-50 local G=j.mainFrame:CreateFontString(nil,"\065\082\084\087\079\082\075","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\076\097\114\103\101")G:SetPoint("\084\079\080\076\069\070\084",16,-16)G:SetText(H)InterfaceOptions_AddCategory(j.mainFrame)return j end function NSQCMenu_old.addInfoSection(c,H,V)local j=c.mainFrame local G=c.currentY local P=j:CreateFontString(nil,"\065\082\084\087\079\082\075","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")P:SetPoint("\084\079\080\076\069\070\084",20,G-10)P:SetText(H)P:SetTextColor(1,.82,0)local k=j:CreateFontString(nil,"\065\082\084\087\079\082\075","\071\097\109\101\070\111\110\116\087\104\105\116\101")k:SetPoint("\084\079\080\076\069\070\084",30,G-30)k:SetWidth(550)k:SetJustifyH("\076\069\070\084")k:SetJustifyV("\084\079\080")k:SetText(c:wrapText(V,540,"\071\097\109\101\070\111\110\116\087\104\105\116\101"))local A=k:GetStringHeight()c.currentY=(G-40)-A table.insert(c.elements,{P,k})end function NSQCMenu_old.wrapText(j,H,V,c)local G=""local P=""for H in H:gmatch("\037\083\043")do local k=P..(" "..H)local A=j:getStringWidth(j.mainFrame,k,c)if A>V then G=G..(P.."\n")P=H else P=k end end return G..P end function NSQCMenu_old.getStringWidth(j,H,V,c)if not H then print("\069\114\114\111\114\058 \070\114\097\109\101 \105\115 \110\105\108 \105\110 \103\101\116\083\116\114\105\110\103\087\105\100\116\104")return 0 end local G=H:CreateFontString(nil,"\065\082\084\087\079\082\075",c)G:SetText(V)local P=G:GetStringWidth()G:Hide()return P end function NSQCMenu_old.addSubMenu(c,H,V)V=V or c local j=c.addonName..(H.."\083\117\098\070\114\097\109\101")local G=CreateFrame("\070\114\097\109\101",j,InterfaceOptionsFramePanelContainer)G.name=H G.parent=V.addonName or V.name G:Hide()local P=CreateFrame("\083\099\114\111\108\108\070\114\097\109\101",j.."\083\099\114\111\108\108\070\114\097\109\101",G,"\085\073\080\097\110\101\108\083\099\114\111\108\108\070\114\097\109\101\084\101\109\112\108\097\116\101")P:SetPoint("\084\079\080\076\069\070\084",16,-50)P:SetPoint("\066\079\084\084\079\077\082\073\071\072\084",-32,16)local k=CreateFrame("\070\114\097\109\101",j.."\083\099\114\111\108\108\067\111\110\116\101\110\116",P)k:SetWidth(P:GetWidth()-20)k:SetHeight(1)P:SetScrollChild(k)local A=_G[j.."\083\099\114\111\108\108\070\114\097\109\101\083\099\114\111\108\108\066\097\114"]A:ClearAllPoints()A:SetPoint("\084\079\080\076\069\070\084",P,"\084\079\080\082\073\071\072\084",12,-16)A:SetPoint("\066\079\084\084\079\077\076\069\070\084",P,"\066\079\084\084\079\077\082\073\071\072\084",12,16)local Y=G:CreateFontString(nil,"\065\082\084\087\079\082\075","\071\097\109\101\070\111\110\116\078\111\114\109\097\108\076\097\114\103\101")Y:SetPoint("\084\079\080\076\069\070\084",16,-16)Y:SetText(H)InterfaceOptions_AddCategory(G)local D={frame=G;scrollFrame=P;scrollContent=k;elements={};lastY=0;totalHeight=0,maxHeight=P:GetHeight(),parent=V,name=H}table.insert(c.subMenus,D)return D end function NSQCMenu_old.showSubMenu(V,H)if H.parent then H.parent.frame:Hide()end H.frame:Show()end function NSQCMenu_old.addSlider(c,H,V)local j=CreateFrame("\083\108\105\100\101\114",H.frame:GetName()..V.name,H.scrollContent,"\079\112\116\105\111\110\115\083\108\105\100\101\114\084\101\109\112\108\097\116\101")j:SetPoint("\084\079\080\076\069\070\084",16,-H.lastY)j:SetWidth(590)j:SetHeight(20)j:SetMinMaxValues(V.min,V.max)j:SetValueStep(V.step or 1)j:SetValue(V.default)j.tooltipText=V.tooltip _G[j:GetName().."\084\101\120\116"]:SetText(V.label)_G[j:GetName().."\076\111\119"]:SetText(V.min)_G[j:GetName().."\072\105\103\104"]:SetText(V.max)j:SetScript("\079\110\069\110\116\101\114",function(H)if H.tooltipText then GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine(H.tooltipText,1,1,1,true)GameTooltip:AddLine("\208\162\208\181\208\186\209\131\209\137\208\181\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\058 \124\099\102\102\102\102\102\102\102\102"..(H:GetValue().."\124\114"),1,1,1,true)GameTooltip:Show()end end)j:SetScript("\079\110\076\101\097\118\101",function(H)GameTooltip:Hide()end)j:SetScript("\079\110\086\097\108\117\101\067\104\097\110\103\101\100",function(H,c)if V.onChange then V.onChange(c)end if GameTooltip:IsOwned(H)then GameTooltip:ClearLines()GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine(H.tooltipText,1,1,1,true)GameTooltip:AddLine("\208\162\208\181\208\186\209\131\209\137\208\181\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\058 \124\099\102\102\102\102\102\102\102\102"..(c.."\124\114"),1,1,1,true)GameTooltip:Show()end end)H.lastY=H.lastY+40 H.totalHeight=H.totalHeight+40 H.scrollContent:SetHeight(H.totalHeight)table.insert(H.elements,j)c:updateScrollRange(H)return j end function NSQCMenu_old.addCheckbox(c,H,V)local j=CreateFrame("\067\104\101\099\107\066\117\116\116\111\110",H.frame:GetName()..V.name,H.scrollContent,"\067\104\097\116\067\111\110\102\105\103\067\104\101\099\107\066\117\116\116\111\110\084\101\109\112\108\097\116\101")j:SetPoint("\084\079\080\076\069\070\084",16,-H.lastY)j:SetChecked(V.default or false)j.tooltipText=V.tooltip local G=H.scrollContent:CreateFontString(nil,"\079\086\069\082\076\065\089","\071\097\109\101\070\111\110\116\078\111\114\109\097\108")G:SetPoint("\076\069\070\084",j,"\082\073\071\072\084",5,0)G:SetText(V.label)j:SetScript("\079\110\069\110\116\101\114",function(H)if H.tooltipText then GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine(H.tooltipText,1,1,1,true)local V=H:GetChecked()and"\124\099\102\102\048\048\102\102\048\048\208\146\208\186\208\187\209\142\209\135\208\181\208\189\208\190\124\114"or"\124\099\102\102\102\102\048\048\048\048\208\146\209\139\208\186\208\187\209\142\209\135\208\181\208\189\208\190\124\114"GameTooltip:AddLine("\208\162\208\181\208\186\209\131\209\137\208\181\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\058 "..V,1,1,1,true)GameTooltip:Show()end end)j:SetScript("\079\110\076\101\097\118\101",function(H)GameTooltip:Hide()end)j:SetScript("\079\110\067\108\105\099\107",function(H)if V.onClick then V.onClick(H:GetChecked())end if GameTooltip:IsOwned(H)then GameTooltip:ClearLines()GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine(H.tooltipText,1,1,1,true)local V=H:GetChecked()and"\124\099\102\102\048\048\102\102\048\048\208\146\208\186\208\187\209\142\209\135\208\181\208\189\208\190\124\114"or"\124\099\102\102\102\102\048\048\048\048\208\146\209\139\208\186\208\187\209\142\209\135\208\181\208\189\208\190\124\114"GameTooltip:AddLine("\208\162\208\181\208\186\209\131\209\137\208\181\208\181 \208\183\208\189\208\176\209\135\208\181\208\189\208\184\208\181\058 "..V,1,1,1,true)GameTooltip:Show()end end)H.lastY=H.lastY+30 H.totalHeight=H.totalHeight+30 H.scrollContent:SetHeight(H.totalHeight)table.insert(H.elements,j)c:updateScrollRange(H)return j end function NSQCMenu_old.updateScrollRange(V,H)local c=H.scrollFrame local j=_G[c:GetName().."\083\099\114\111\108\108\066\097\114"]if not j then error("\083\099\114\111\108\108\098\097\114 \110\111\116 \102\111\117\110\100 \102\111\114 \115\099\114\111\108\108\070\114\097\109\101\058 "..c:GetName())end local G=H.totalHeight-H.maxHeight if G<0 then G=0 end j:SetMinMaxValues(0,G)j:SetValue(0)c:UpdateScrollChildRect()end function NSQCMenu_old.addButton(c,H,V)local j=CreateFrame("\066\117\116\116\111\110",H.frame:GetName()..V.name,H.scrollContent,"\085\073\080\097\110\101\108\066\117\116\116\111\110\084\101\109\112\108\097\116\101")j:SetPoint("\084\079\080\076\069\070\084",16,-H.lastY)j:SetSize(V.width or 120,V.height or 24)j:SetText(V.label or"\208\154\208\189\208\190\208\191\208\186\208\176")j:SetScript("\079\110\067\108\105\099\107",function(H)if V.onClick then V.onClick()end end)if V.tooltip then j.tooltipText=V.tooltip j:SetScript("\079\110\069\110\116\101\114",function(H)if H.tooltipText then GameTooltip:SetOwner(H,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine(H.tooltipText,1,1,1,true)GameTooltip:Show()end end)j:SetScript("\079\110\076\101\097\118\101",function(H)GameTooltip:Hide()end)end H.lastY=(H.lastY+(V.height or 24))+10 H.totalHeight=(H.totalHeight+(V.height or 24))+10 H.scrollContent:SetHeight(H.totalHeight)table.insert(H.elements,j)c:updateScrollRange(H)return j end function C_Timer(H,V,c)local j=CreateFrame("\070\114\097\109\101")j.duration=H j.elapsed=0 j.isLooping=c or false j:SetScript("\079\110\085\112\100\097\116\101",function(H,c)H.elapsed=H.elapsed+c if H.elapsed>=H.duration then if type(V)=="\102\117\110\099\116\105\111\110"then V()end if H.isLooping then H.elapsed=0 else H:SetScript("\079\110\085\112\100\097\116\101",nil)H=nil end end end)end C_Timer(10,function()if not menu then NS3Menu_old()if testQ["\209\129\208\186\209\128\209\139\209\130\209\140 \208\177\208\190\209\129\209\129\208\190\208\178"]then HideBossFrames()end end end)function NS3Menu_old()local H=NSQCMenu_old:new("\078\083\081\067")local V=H:addSubMenu("\208\157\208\176\209\129\209\130\209\128\208\190\208\185\208\186\208\184")H:addCheckbox(V,{name="\208\161\208\186\209\128\209\139\209\130\209\140 \209\132\209\128\208\181\208\185\208\188\209\139 \208\177\208\190\209\129\209\129\208\190\208\178 \208\191\208\190\208\180 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\190\208\185 \208\178 \208\191\208\191\208\179 \208\184 \209\128\208\181\208\185\208\180\208\176\209\133",label="\208\161\208\186\209\128\209\139\209\130\209\140 \209\132\209\128\208\181\208\185\208\188\209\139 \208\177\208\190\209\129\209\129\208\190\208\178 \208\191\208\190\208\180 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\190\208\185 \208\178 \208\191\208\191\208\179 \208\184 \209\128\208\181\208\185\208\180\208\176\209\133",default=testQ["\209\129\208\186\209\128\209\139\209\130\209\140 \208\177\208\190\209\129\209\129\208\190\208\178"]or false,tooltip="\208\161\208\186\209\128\209\139\209\130\209\140 \209\132\209\128\208\181\208\185\208\188\209\139 \208\177\208\190\209\129\209\129\208\190\208\178 \208\191\208\190\208\180 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\190\208\185 \208\178 \208\191\208\191\208\179 \208\184 \209\128\208\181\208\185\208\180\208\176\209\133";onClick=function(H)if testQ then if H then testQ["\209\129\208\186\209\128\209\139\209\130\209\140 \208\177\208\190\209\129\209\129\208\190\208\178"]=1 HideBossFrames()else testQ["\209\129\208\186\209\128\209\139\209\130\209\140 \208\177\208\190\209\129\209\129\208\190\208\178"]=nil end end end})H:addCheckbox(V,{name="\208\146\208\186\208\187\209\142\209\135\208\184\209\130\209\140 \208\176\208\178\209\130\208\190\209\129\208\188\208\181\208\189\209\131 \208\191\208\190\208\184\209\129\208\186\208\176 \208\189\208\176 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\181 \208\180\208\187\209\143 \209\133\208\176\208\189\209\130\208\176";label="\208\146\208\186\208\187\209\142\209\135\208\184\209\130\209\140 \208\176\208\178\209\130\208\190\209\129\208\188\208\181\208\189\209\131 \208\191\208\190\208\184\209\129\208\186\208\176 \208\189\208\176 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\181 \208\180\208\187\209\143 \209\133\208\176\208\189\209\130\208\176",default=testQ["\208\188\208\181\209\130\208\186\208\176 \208\190\209\133\208\190\209\130\208\189\208\184\208\186\208\176"]or false,tooltip="\208\146\208\186\208\187\209\142\209\135\208\184\209\130\209\140 \208\176\208\178\209\130\208\190\209\129\208\188\208\181\208\189\209\131 \208\191\208\190\208\184\209\129\208\186\208\176 \208\189\208\176 \208\188\208\184\208\189\208\184\208\186\208\176\209\128\209\130\208\181 \208\180\208\187\209\143 \209\133\208\176\208\189\209\130\208\176";onClick=function(H)if testQ then if H then testQ["\208\188\208\181\209\130\208\186\208\176 \208\190\209\133\208\190\209\130\208\189\208\184\208\186\208\176"]=1 HideBossFrames()else testQ["\208\188\208\181\209\130\208\186\208\176 \208\190\209\133\208\190\209\130\208\189\208\184\208\186\208\176"]=nil end end end})end function HideBossFrames()for H=1,4,1 do local V=_G["\066\111\115\115"..(H.."\084\097\114\103\101\116\070\114\097\109\101")]if V then V:UnregisterAllEvents()V:Hide()V.Show=function() end end end end