local j=select local function Z(...)for Z=1,j("\035",...),1 do local l=j(Z,...)local R=l:GetRegions()if not l:GetName()and(R:GetTexture()~=nil and string.find(R:GetTexture(),"\078\097\109\101\112\108\097\116\101"))then testQ.testNP=l local j if GetScreenWidth()*UIParent:GetEffectiveScale()<1300 then j=21 else j=35 end l:SetScript("\079\110\085\112\100\097\116\101",function(R)if l:IsShown()and l:GetAlpha()==1 then local R=GetComboPoints("\112\108\097\121\101\114","\116\097\114\103\101\114")if tonumber(R)==0 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\049","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\049","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\049","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,4,"\114\103\049","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\049\046\116\103\097")end if tonumber(R)==1 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\050","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\050","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\050","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,14,"\114\103\050","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\050\046\116\103\097")end if tonumber(R)==2 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\051","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\051","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\051","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,4,"\114\103\051","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\051\046\116\103\097")end if tonumber(R)==3 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\052","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\052","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\052","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,4,"\114\103\052","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\052\046\116\103\097")end if tonumber(R)==4 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\053","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\053","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\053","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,4,"\114\103\053","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\053\046\116\103\097")end if tonumber(R)==5 then if testQ.np_inviz==nil then unIcon(Z+1999,100,6,j,1,"\114\103\054","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,j,1,"\114\103\054","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z+1999,100,6,1,4,"\114\103\054","\104\105\100\101",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,6,1,4,"\114\103\054","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z+1999]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\103\054\046\116\103\097")end local g=UnitMana("\112\108\097\121\101\114")local v=UnitManaMax("\112\108\097\121\101\114")local W=(g*100)/v if testQ.np_inviz==nil then unIcon(Z+999,100,4,j,-4,"\114\097\103\101\048","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unT[Z+999]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078")else unIcon(Z+999,100,6,1,-4,"\114\097\103\101\048","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unT[Z+999]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078")end local h for j=1,24,1 do if UnitBuff("\112\108\097\121\101\114",j)=="\208\158\208\177\208\187\208\184\208\186 \208\186\208\190\209\136\208\186\208\184"then h=1 end if UnitBuff("\112\108\097\121\101\114",j)=="\208\158\208\177\208\187\208\184\208\186 \208\188\208\181\208\180\208\178\208\181\208\180\209\143"or UnitBuff("\112\108\097\121\101\114",j)=="\208\158\208\177\208\187\208\184\208\186 \208\187\209\142\209\130\208\190\208\179\208\190 \208\188\208\181\208\180\208\178\208\181\208\180\209\143"then h=2 end end if UnitClass("\112\108\097\121\101\114")=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"or UnitClass("\112\108\097\121\101\114")=="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"or h==1 then if testQ.np_inviz==nil then unIcon(Z,W,4,j,-4,"\114\097\103\101\053","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z,W,6,1,-4,"\114\097\103\101\053","\115\104\111\119",sBtn[1],"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\097\103\101\050\046\116\103\097")end if UnitClass("\112\108\097\121\101\114")=="\208\146\208\190\208\184\208\189"or h==2 then if testQ.np_inviz==nil then unIcon(Z,W,4,j,-4,"\114\097\103\101\049","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z,W,6,1,-4,"\114\097\103\101\049","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\097\103\101\049\046\116\103\097")end if UnitClass("\112\108\097\121\101\114")~="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\208\186"and(UnitClass("\112\108\097\121\101\114")~="\208\160\208\176\208\183\208\177\208\190\208\185\208\189\208\184\209\134\208\176"and(h==nil and UnitClass("\112\108\097\121\101\114")~="\208\146\208\190\208\184\208\189"))then if testQ.np_inviz==nil then unIcon(Z,W,4,j,-4,"\114\097\103\101\053","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")else unIcon(Z,W,6,1,-4,"\114\097\103\101\053","\115\104\111\119",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end unText[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\114\097\103\101\053\046\116\103\097")end unText[Z]:SetWidth(W)if testQ.np_inviz==nil then for j=1,4,1 do sBtn[j]:ClearAllPoints()end sBtn[1]:SetPoint("\066\079\084\084\079\077\076\069\070\084",l,"\084\079\080\082\073\071\072\084",1,1)sBtn[2]:SetPoint("\066\079\084\084\079\077\076\069\070\084",l,"\084\079\080\082\073\071\072\084",24,1)sBtn[3]:SetPoint("\066\079\084\084\079\077\076\069\070\084",l,"\084\079\080\082\073\071\072\084",48,1)sBtn[4]:SetPoint("\066\079\084\084\079\077\076\069\070\084",l,"\084\079\080\082\073\071\072\084",72,1)sBtn[1]:SetWidth(24)sBtn[1]:SetHeight(24)sBtn[2]:SetWidth(24)sBtn[2]:SetHeight(24)sBtn[3]:SetWidth(24)sBtn[3]:SetHeight(24)sBtn[4]:SetWidth(24)sBtn[4]:SetHeight(24)else sBtn[1]:SetWidth(32)sBtn[1]:SetHeight(32)sBtn[2]:SetWidth(32)sBtn[2]:SetHeight(32)sBtn[3]:SetWidth(32)sBtn[3]:SetHeight(32)sBtn[4]:SetWidth(32)sBtn[4]:SetHeight(32)for j=1,4,1 do sBtn[j]:ClearAllPoints()end sBtn[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",128,128)sBtn[2]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",160,128)sBtn[3]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",192,128)sBtn[4]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",224,128)end end if not l:IsShown()or not l:GetAlpha()==1 then unIcon(Z,119,4,j,-23,"\114\097\103\101","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\082\073\071\072\084")unIcon(Z+999,100,4,j,-4,"\114\097\103\101\048","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,4,j,14,"\114\103\054","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end end)l:SetScript("\079\110\072\105\100\101",function(R)unIcon(Z,119,4,j,-23,"\114\097\103\101","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\082\073\071\072\084")unIcon(Z+999,100,4,j,-4,"\114\097\103\101\048","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")unIcon(Z+1999,100,4,j,14,"\114\103\054","\104\105\100\101",l,"\066\079\084\084\079\077\076\069\070\084","\084\079\080\076\069\070\084")end)end end end local l=.1;(CreateFrame("\070\114\097\109\101")):SetScript("\079\110\085\112\100\097\116\101",function(j,l)if testQ==nil then testQ={}end if testQ.np==1 then if WorldFrame:GetNumChildren()~=numChildren then numChildren=WorldFrame:GetNumChildren()Z(WorldFrame:GetChildren())end end end)