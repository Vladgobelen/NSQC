local a=CreateFrame("Frame")a:RegisterEvent("CHAT_MSG_SYSTEM")a:SetScript("OnEvent",function(self,b,c,d)local e=GetUnitName("player")local f;testGM=gmTest(d)f=hshSenderNomeC(e)if testQ~=nil then if testQ[e]~=nil then if testQ[e]["настройки"]==nil then testQ[e]["настройки"]={}end;rollSender=mysplit(c)rollSender=rollSender[1]if string.find(c,"выбрасывает")and rollSender==e then SendChatMessage(f.." #rll "..c,"OFFICER",nil,1)else end end end;gInv=mysplit(c)if string.find(c,"приглашается в вашу гильдию")then if ginv==nil then ginv={}end;table.insert(ginv,gInv[1])end;if ginv~=nil then local g,h,h=GetGuildInfo("player")if g=="Ночная стража"then if string.find(c,"присоединяется к гильдии")then local i;for j,k in pairs(ginv)do i=k;if k==gInv[1]then if testQ["shtrf"]==nil then testQ["shtrf"]={}end;for j,k in pairs(testQ["shtrf"])do if k==gInv[1]then shtraf=1 else shtraf=0 end end;if shtraf==0 or shtraf==nil then if testQ[e]["zzlf"]~=nil then testQ[e]["zzlf"]=testQ[e]["zzlf"]+1;SendAddonMessage("NSGadd",e.." принял +1 ","guild")if testQ["mapQuestPodskazki"]~=nil and testQ["mapQuestPodskazki"]~=1 then testQ["mapQuestPodskazki"]=testQ["mapQuestPodskazki"]+1;if testQ["hTimer"]~=nil then testQ["hTimer"]=tonumber(testQ["hTimer"])-60 end elseif testQ["mapQuestPodskazki"]==nil then testQ["mapQuestPodskazki"]=0;if testQ["hTimer"]~=nil then testQ["hTimer"]=tonumber(testQ["hTimer"])-60 end elseif testQ["mapQuestPodskazki"]>=1 then SendAddonMessage("#M1QP",e,"guild")testQ["mapQuestPodskazki"]=nil;if testQ["hTimer"]~=nil then testQ["hTimer"]=tonumber(testQ["hTimer"])-60 end end;if testQ[e]["настройки"]["roll"]=="Enable"then local l=math.random(1,#gInvite)SendChatMessage(gInvite[l],"WHISPER",nil,i)end;break else testQ[e]["zzlf"]=1 end else SendAddonMessage("NSGadd",e.." попытался наебать ником "..gInv[1],"guild")end end end;table.insert(testQ["shtrf"],gInv[1])shtraf=nil end end end;if string.find(c,"Вы выиграли торги")and string.find(c,"Обычное письмо")then testQ["smg"]=tonumber(testQ["smg"])+1;testQ["nikQS"]=antc(tonumber(testQ["smg"]))end;local m=GuildFrame["selectedGuildMemberName"]if m~=nil then if string.find(c,"выходит из игрового")and string.find(c,m)then if fBtn[1]:IsVisible()then for n=1,100 do fBtn[n]:Hide()end;btn[989]:ClearAllPoints()btn[989]:SetPoint("BOTTOMLEFT",GuildMemberDetailFrame,"TOPLEFT",96,-3)btn[989]:Hide()end end end;if testQ["chs"]==nil then testQ["chs"]={}end;for n=1,#testQ["chs"]do if testQ["chs"][n]~=nil then if string.find(c,testQ["chs"][n])then SendChatMessage(testQ["chs"][n].." исключен из гильдии","OFFICER",nil,1)GuildUninvite(testQ["chs"][n])end end end;if string.find(c,"право пользования каналами и почтой временно приостановлено до завершения рассмотрения запроса")then SendAddonMessage("#hQ2itemQ ","1","guild")end end)local a=CreateFrame("Frame")a:RegisterEvent("CHAT_MSG_TEXT_EMOTE")a:SetScript("OnEvent",function(self,b,c,d)local e=GetUnitName("player")local f;testGM=gmTest(d)f=hshSenderNomeC(e)if testQ[e]["q33fnd"]~=nil then if string.find(c,testQ[e]["q33fnd"])then for n=1,#testQ[e]["q33nik"]do if testQ[e]["q33nik"][n]~=1 then if string.find(c,testQ[e]["q33nik"][n]:gsub("%-","%%-"))then SendChatMessage(testQ[e]["q33ans"]..testQ[e]["q33nik"][n],"OFFICER",nil,1)testQ[e]["q33nik"][n]=1 end end end end end end)
