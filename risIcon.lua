iconRis={}iconRisText={}iconRisText2={}iconRisBO={}tochki={}iconRisEv3={}iconRisEvO3={}icN=1 iconCh={}iconChText={}iconRisEv3={}iconRisEvent3={}iconRisEvent3Tex={}iconQ={}iconQText={}mgznIcon={}mgznText={}dkT={}dkText={}dkT.configure=function(y,Z,e,r)y[Z]=y[Z]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",UIParent)y[Z]:SetSize(e,r)end dkText.configure=function(y,Z,e,r,Y,n,P)local u=0 while true do if u==1 then y[Z]:SetSize(e,r)y[Z]:SetPoint("\066\079\084\084\079\077\076\069\070\084",UIParent,"\066\079\084\084\079\077\076\069\070\084",Y,n)break end if 0==u then y[Z]=dkT[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092"..(P.."\046\112\110\103"))u=1 end end end function dkIcon(y,Z,e,r,Y,n,P)if P=="\115\104\111\119"then if dkT[y]==nil then local P=0 while true do if P==1 then dkT[y]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")dkText[y]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",0,0)break end if P==0 then dkT:configure(y,Z,e)dkText:configure(y,Z,e,r,Y,n)P=1 end end else dkT[y]:Show()end elseif dkT[y]~=nil then dkT[y]:Hide()end end iconCh.configure=function(y,Z,e,r)local Y=0 while true do if Y==0 then y[Z]=y[Z]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",WorldMapDetailFrame)y[Z]:SetSize(e,r)break end end end iconChText.configure=function(y,Z,e,r,Y,n)y[Z]=iconCh[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\099\104\046\112\110\103")y[Z]:SetSize(e,r)y[Z]:SetPoint("\066\079\084\084\079\077\076\069\070\084",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Y,n)end function chMuestro(y,Z,e)iconCh:configure(y,576,384)iconChText:configure(y,32,32,Z,e)iconCh:configure(y,Z,e)iconChText:configure(y,32,32,Z,e)iconCh[y]:SetFrameStrata("\084\079\079\076\084\073\080")iconChText[y]:SetPoint("\066\079\084\084\079\077\076\069\070\084",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Z,e)end iconQ.configure=function(y)y[1]=y[1]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",UIParent)y[1]:SetSize(512,396)end iconQText.configure=function(y)local Z=0 while true do if Z==1 then y[1]:SetSize(512,396)y[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",0,0)break end if Z==0 then y[1]=iconQ[1]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[1]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\113\117\101\115\116\046\116\103\097")Z=1 end end end mgznIcon.configure=function(y)y[1]=y[1]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",UIParent)y[1]:SetSize(768,512)end mgznText.configure=function(y)y[1]=mgznIcon[1]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[1]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\113\117\101\115\116\046\116\103\097")y[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",0,0)y[1]:SetSize(768,700)end function magazin(y)local Z=0 while true do if Z==0 then GameTooltip:Hide()if y=="\115\104\111\119"then if mgznIcon[1]==nil then local y=0 while true do if y==0 then mgznIcon:configure()mgznText:configure()y=1 end if y==1 then mgznIcon[1]:SetFrameStrata("\068\073\065\076\079\071")mgznText[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",-80,48)y=2 end if y==2 then if mgznZ==nil then local y=0 while true do if y==3 then mgznZ:SetScript("\079\110\069\110\116\101\114",function(y)local Z=0 while true do if Z==0 then GameTooltip:SetOwner(y,"\065\078\067\072\079\082\095\082\073\071\072\084")GameTooltip:AddLine("\124\099\102\102\057\057\102\102\057\057\208\146\208\176\208\187\209\142\209\130\208\176")Z=1 end if Z==2 then GameTooltip:AddLine("\124\099\102\102\057\057\102\102\057\057\208\155\208\154\208\156\058 \124\099\102\102\070\070\067\070\052\048\208\158\209\130\208\186\209\128\209\139\209\130\209\140\047\208\151\208\176\208\186\209\128\209\139\209\130\209\140 \208\188\208\176\208\179\208\176\208\183\208\184\208\189")GameTooltip:Show()break end if Z==1 then GameTooltip:AddLine("\124\099\102\102\070\070\067\070\052\048\208\152\208\189\208\190\208\179\208\180\208\176 \208\191\208\176\208\180\208\176\208\181\209\130 \209\129 \208\186\208\178\208\181\209\129\209\130\208\176 \208\189\208\176 \209\136\208\181\209\128\209\129\209\130\209\140 \208\184 \208\191\209\128\208\190\209\135\209\131\209\142 \209\130\208\186\208\176\208\189\209\140")GameTooltip:AddLine("\124\099\102\102\070\070\067\070\052\048\208\156\208\190\208\182\208\189\208\190 \208\186\209\131\208\191\208\184\209\130\209\140 \208\189\208\176 \208\176\209\131\208\186\209\134\208\184\208\190\208\189\208\181\058 \124\099\102\102\057\057\102\102\057\057\"\208\158\208\177\209\139\209\135\208\189\208\190\208\181 \208\191\208\184\209\129\209\140\208\188\208\190\" \124\099\102\102\070\070\067\070\052\048\208\190\209\130 \208\191\208\181\209\128\209\129\208\190\208\189\208\176\208\182\208\176 \"\208\165\208\181\209\132\208\181\"")Z=2 end end end)mgznZ:SetScript("\079\110\076\101\097\118\101",function(y)GameTooltip:Hide()end)y=4 end if y==2 then mgznZ:SetNormalTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\115\109\103\046\116\103\097")mgznZ:SetHighlightTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\115\109\103\046\116\103\097")y=3 end if y==1 then mgznZ:SetPoint("\066\079\084\084\079\077\076\069\070\084",resursy[5],"\066\079\084\084\079\077\076\069\070\084",0,0)mgznZ:SetSize(64,64)y=2 end if y==4 then mgznZ:SetScript("\079\110\067\108\105\099\107",function(y)PlaySoundFile("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\108\105\098\115\092\099\108\099\046\111\103\103")if testQ.magSign==nil then local y=0 while true do if y==2 then resursy[5]:Hide()mgznZ:Show()y=3 end if y==1 then mgznIcon[1]:Show()for y=1,100,1 do fBtn[y]:Hide()end y=2 end if 0==y then dmG1[1005]:Show()dmG1[1005]:SetFrameStrata("\084\079\079\076\084\073\080")y=1 end if y==3 then mgznZ:SetFrameStrata("\076\079\087")break end end else local y=0 while true do if 2==y then resursy[5]:Show()btn[989]:Show()break end if y==0 then dmgText1("",mgznZ,1005,22,"\070\070\056\067\048\048")mgznIcon[1]:Hide()y=1 end if 1==y then for y=1,100,1 do local Z=0 while true do if 0==Z then fBtn[y]:Show()if mBtn[y]~=nil then mBtn[y]:Hide()end break end end end if not resursy[5]:IsVisible()and not mgznZ:IsVisible()then for y=1,10000,1 do local Z=0 while true do if Z==0 then if dmG1[y]~=nil then dmG1[y]:Hide()end if dmG2[y]~=nil then dmG2[y]:Hide()end break end end end end y=2 end end end GameTooltip:Hide()end)break end if y==0 then mgznZ=CreateFrame("\066\117\116\116\111\110",nil,UIParent,"")mgznZ:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")y=1 end end else local y=0 while true do if 1==y then mgznZ:Show()GameTooltip:Hide()break end if y==0 then dmG1[1005]:Show()dmG1[1005]:SetFrameStrata("\084\079\079\076\084\073\080")y=1 end end end break end end else mgznIcon[1]:Show()end elseif mgznIcon[1]~=nil then mgznIcon[1]:Hide()end break end end end iconRis.configure=function(y,Z,e,r)local Y=0 while true do if Y==0 then y[Z]=y[Z]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",WorldMapDetailFrame)y[Z]:SetSize(e,r)break end end end iconRisEv3.configure=function(y,Z,e,r)local Y=0 while true do if 0==Y then y[Z]=y[Z]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",WorldMapDetailFrame)y[Z]:SetSize(e,r)break end end end iconRisEvent3.configure=function(y,Z,e,r)local Y=0 while true do if 0==Y then y[Z]=y[Z]or CreateFrame("\070\082\065\077\069","\109\121\065\100\100\111\110\073\099\111\110\070\114\097\109\101",UIParent)y[Z]:SetSize(e,r)break end end end iconRisText.configure=function(y,Z,e,r,Y,n,P)local u=0 while true do if u==0 then y[Z]=iconRis[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092"..(P.."\046\116\103\097"))u=1 end if u==1 then y[Z]:SetSize(e,r)y[Z]:SetPoint("\066\079\084\084\079\077\076\069\070\084",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Y,n)break end end end iconRisBO.configure=function(y,Z,e,r,Y,n,P)y[Z]=iconRis[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092\049\050\049\050\049\050\046\116\103\097")y[Z]:SetSize(e,r)y[Z]:SetPoint("\067\069\078\084\069\082",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Y,n)end iconRisEvO3.configure=function(y,Z,e,r,Y,n,P)y[Z]=iconRisEv3[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092"..(P.."\046\116\103\097"))y[Z]:SetSize(e,r)y[Z]:SetPoint("\067\069\078\084\069\082",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Y,n)end iconRisEvent3Tex.configure=function(y,Z,e,r,Y,n,P)y[Z]=iconRisEvent3[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\047\067\079\077\077\079\078\047\073\110\100\105\099\097\116\111\114-\071\114\101\101\110\046\112\110\103")y[Z]:SetPoint("\067\069\078\084\069\082",UIParent,"\066\079\084\084\079\077\076\069\070\084",Y,n)end function quesT(y)if y=="\115\104\111\119"then if iconQ[1]==nil then iconQ:configure()iconQText:configure()iconQ[1]:SetFrameStrata("\070\085\076\076\083\067\082\069\069\078\095\068\073\065\076\079\071")iconQText[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",0,0)else iconQ[1]:Show()end elseif iconQ[1]~=nil then iconQ[1]:Hide()end end function bo(y,Z)local e=0 local r local Y while true do if e==2 then iconRis[y]:SetFrameStrata("\084\079\079\076\084\073\080")iconRisBO[y]:SetPoint("\067\069\078\084\069\082",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",r,Y)break end if e==1 then r,Y=getPOS(tonumber(mapTables[testQ["\209\141\208\178\208\181\208\189\209\130\049"]][tKont][tLok][tostring(y)].x),tonumber(mapTables[testQ["\209\141\208\178\208\181\208\189\209\130\049"]][tKont][tLok][tostring(y)].y))iconRisBO:configure(y,Z,Z,r,Y,121212)e=2 end if e==0 then for y,Z in pairs(mapTables[testQ["\209\141\208\178\208\181\208\189\209\130\049"]])do if type(y)=="\115\116\114\105\110\103"then tKont=y end for y,Z in pairs(mapTables[testQ["\209\141\208\178\208\181\208\189\209\130\049"]][y])do if type(y)=="\115\116\114\105\110\103"then tLok=y end end end iconRis:configure(y,y,Z)e=1 end end end function event3(y,Z,e)if e=="\115\104\111\119"then if iconRisEvent3[1]==nil then iconRisEvent3:configure(1,576,384)iconRisEvent3Tex:configure(1,Z,Z,0,0,121212)iconRisEvent3Tex[y]:SetSize(Z,Z)iconRisEvent3[1]:SetFrameStrata("\066\065\067\075\071\082\079\085\078\068")iconRisEvent3Tex[1]:SetPoint("\067\069\078\084\069\082",UIParent,"\067\069\078\084\069\082",0,0)elseif not iconRisEvent3[1]:IsVisible()then local y=0 while true do if y==0 then iconRisEvent3[1]:Show()iconRisEvent3Tex[1]:SetSize(Z,Z)break end end else iconRisEvent3Tex[1]:SetSize(Z,Z)end elseif iconRisEvent3[1]~=nil then iconRisEvent3[1]:Hide()end end function ev3(y,Z,e)local r=0 local Y local n while true do if r==2 then iconRisEv3[Z]:SetFrameStrata("\084\079\079\076\084\073\080")iconRisEvO3[Z]:SetPoint("\067\069\078\084\069\082",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",Y,n)break end if r==1 then Y,n=getPOS(tonumber(mapTables[y][tKont][tLok][tostring(Z)].x),tonumber(mapTables[y][tKont][tLok][tostring(Z)].y))iconRisEvO3:configure(Z,e,e,Y,n,121212)r=2 end if r==0 then for Z,e in pairs(mapTables[y])do local r=0 while true do if r==0 then if type(Z)=="\115\116\114\105\110\103"then tKont=Z end for y,Z in pairs(mapTables[y][Z])do if type(y)=="\115\116\114\105\110\103"then tLok=y end end break end end end iconRisEv3:configure(Z,576,384)r=1 end end end iconRisText2.configure=function(y,Z,e,r,Y,n,P)local u=0 while true do if u==1 then y[Z]:SetSize(e,r)y[Z]:SetPoint("\084\079\080\076\069\070\084",WorldMapDetailFrame,"\084\079\080\076\069\070\084",Y,n)break end if u==0 then y[Z]=iconRis[Z]:CreateTexture("\109\121\065\100\100\111\110\073\099\111\110","\079\086\069\082\076\065\089")y[Z]:SetTexture("\073\110\116\101\114\102\097\099\101\092\065\100\100\079\110\115\092\078\083\081\067\092"..(P.."\046\116\103\097"))u=1 end end end function setka()mostraKrtl2("\083\104\111\119",0,0,0,650,50,1,3)mostraKrtl2("\083\104\111\119",50,0,50,650,50,1,3)mostraKrtl2("\083\104\111\119",100,0,100,650,50,1,3)mostraKrtl2("\083\104\111\119",150,0,150,650,50,1,3)mostraKrtl2("\083\104\111\119",200,0,200,650,50,1,3)mostraKrtl2("\083\104\111\119",250,0,250,650,50,1,3)mostraKrtl2("\083\104\111\119",300,0,300,650,50,1,3)mostraKrtl2("\083\104\111\119",350,0,350,650,50,1,3)mostraKrtl2("\083\104\111\119",400,0,400,650,50,1,3)mostraKrtl2("\083\104\111\119",450,0,450,650,50,1,3)mostraKrtl2("\083\104\111\119",500,0,500,650,50,1,3)mostraKrtl2("\083\104\111\119",550,0,550,650,50,1,3)mostraKrtl2("\083\104\111\119",600,0,600,650,50,1,3)mostraKrtl2("\083\104\111\119",650,0,650,650,50,1,3)mostraKrtl2("\083\104\111\119",700,0,700,650,50,1,3)mostraKrtl2("\083\104\111\119",750,0,750,650,50,1,3)mostraKrtl2("\083\104\111\119",800,0,800,650,50,1,3)mostraKrtl2("\083\104\111\119",850,0,850,650,50,1,3)mostraKrtl2("\083\104\111\119",900,0,900,650,50,1,3)mostraKrtl2("\083\104\111\119",950,0,950,650,50,1,3)mostraKrtl2("\083\104\111\119",1000,0,1000,650,50,1,3)mostraKrtl2("\083\104\111\119",0,0,1000,0,50,1,3)mostraKrtl2("\083\104\111\119",0,50,1000,50,50,1,3)mostraKrtl2("\083\104\111\119",0,100,1000,100,50,1,3)mostraKrtl2("\083\104\111\119",0,150,1000,150,50,1,3)mostraKrtl2("\083\104\111\119",0,200,1000,200,50,1,3)mostraKrtl2("\083\104\111\119",0,250,1000,250,50,1,3)mostraKrtl2("\083\104\111\119",0,300,1000,300,50,1,3)mostraKrtl2("\083\104\111\119",0,350,1000,350,50,1,3)mostraKrtl2("\083\104\111\119",0,400,1000,400,50,1,3)mostraKrtl2("\083\104\111\119",0,450,1000,450,50,1,3)mostraKrtl2("\083\104\111\119",0,500,1000,500,50,1,3)mostraKrtl2("\083\104\111\119",0,550,1000,550,50,1,3)mostraKrtl2("\083\104\111\119",0,600,1000,600,50,1,3)mostraKrtl2("\083\104\111\119",0,650,1000,650,50,1,3)end function mostraKrtl2(y,Z,e,r,Y,n,P,u)if y=="\083\104\111\119"then tochki[icN]=true iconRis:configure(icN,576,384)iconRisText:configure(icN,u,u,Z,e,121212)local y=Z local i=e local s=r local f=Y local z=s-y local T=f-i local B=1 local U=n local q=P local Q=(U-B)/q dirX=z/Q dirY=T/Q local g=y local C=i for y=B,U,q do icN=icN+y tochki[icN]=true g=g+dirX C=C+dirY iconRis:configure(icN,g,C)iconRisText:configure(icN,u,u,1,1,121212)iconRis[icN]:SetFrameStrata("\084\079\079\076\084\073\080")iconRisText[icN]:SetPoint("\066\079\084\084\079\077\076\069\070\084",WorldMapDetailFrame,"\066\079\084\084\079\077\076\069\070\084",g,C)end else iconRisText[icN][y](iconRisText[icN])end end function krtHide(y)if#tochki~=nil then for y,Z in pairs(tochki)do if tochki[y]==true then iconRis[y].Hide(iconRis[y])end end end end